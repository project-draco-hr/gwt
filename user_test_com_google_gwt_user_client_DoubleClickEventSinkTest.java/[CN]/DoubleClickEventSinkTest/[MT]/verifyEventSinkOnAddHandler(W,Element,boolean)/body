{
  RootPanel.get().add(w);
  if (!allowEarlySink) {
    assertEquals("Event should not be sunk on " + w.getClass().getName() + " until a "+ DoubleClickEvent.getType().getName()+ " handler has been added",0,DOM.getEventsSunk(e) & Event.ONDBLCLICK);
  }
  w.addDoubleClickHandler(dummyDoubleClickHandler);
  assertEquals("Event should have been sunk on " + w.getClass().getName() + " once the widget has been attached and a "+ DoubleClickEvent.getType().getName()+ " handler has been added",Event.ONDBLCLICK,DOM.getEventsSunk(e) & Event.ONDBLCLICK);
}
