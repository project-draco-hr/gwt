{
  if (obj == null) {
    return LazySplittable.NULL;
  }
  Type t=findType(obj.getClass());
  if (t == null) {
    for (    Type maybe : Type.values()) {
      if (maybe.canUpcast(obj)) {
        t=maybe;
        break;
      }
    }
  }
  if (t == null) {
    throw new UnsupportedOperationException(obj.getClass().getName());
  }
  return new LazySplittable(t.toJsonExpression(obj));
}
