{
  for (  Range range : searchRanges) {
    List<StockRequest> requests=new ArrayList<StockRequest>();
    requests.add(new StockRequest(searchQuery,range));
    dataService.getStockQuotes(requests,new AsyncCallback<List<StockResponse>>(){
      public void onFailure(      Throwable caught){
        Window.alert("ERROR: " + caught.getMessage());
        updateTimer.schedule(UPDATE_DELAY);
      }
      public void onSuccess(      List<StockResponse> responses){
        for (        StockResponse response : responses) {
          StockQuoteList stocks=response.getStocks();
          setTransientData(stocks);
          if (response instanceof StockResponse.Search) {
            searchListModel.updateDataSize(((StockResponse.Search)response).getNumRows(),true);
            searchListModel.updateViewData(stocks.getStartIndex(),stocks.size(),stocks);
          }
 else           if (response instanceof StockResponse.Favorites) {
          }
 else {
            throw new RuntimeException("Unknown response type: " + response.getClass().getName());
          }
        }
        updateTimer.schedule(UPDATE_DELAY);
      }
    }
);
  }
}
