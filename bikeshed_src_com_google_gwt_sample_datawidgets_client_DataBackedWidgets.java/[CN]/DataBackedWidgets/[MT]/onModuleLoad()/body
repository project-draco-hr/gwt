{
  queryField.setText("G");
  RootPanel.get("queryFieldContainer").add(queryField);
  RootPanel.get("errorLabelContainer").add(errorLabel);
  queryField.setFocus(true);
  queryField.selectAll();
  searchListModel=new AsyncListModel<StockQuote>(new DataSource<StockQuote>(){
    public void requestData(    AsyncListModel<StockQuote> listModel){
      update();
    }
  }
);
  favoritesListModel=new AsyncListModel<StockQuote>(new DataSource<StockQuote>(){
    public void requestData(    AsyncListModel<StockQuote> listModel){
      update();
    }
  }
);
  resultsTable=new PagingTableListView<StockQuote>(searchListModel,10);
  resultsTable.addColumn(favoriteColumn);
  resultsTable.addColumn(tickerColumn);
  resultsTable.addColumn(nameColumn);
  resultsTable.addColumn(priceColumn);
  favoritesTable=new PagingTableListView<StockQuote>(favoritesListModel,10);
  favoritesTable.addColumn(tickerColumn);
  favoritesTable.addColumn(priceColumn);
  favoritesTable.addColumn(sharesColumn);
  favoriteColumn.setMutator(new Mutator<StockQuote,Boolean>(){
    public void mutate(    StockQuote object,    Boolean after){
      setFavorite(object.getTicker(),after);
    }
  }
);
  RootPanel.get().add(resultsTable);
  RootPanel.get().add(new HTML("<hr>"));
  RootPanel.get().add(favoritesTable);
  queryField.addKeyUpHandler(new KeyUpHandler(){
    public void onKeyUp(    KeyUpEvent event){
      update();
    }
  }
);
  update();
}
