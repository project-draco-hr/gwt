{
  HeaderHelperImpl helper=new HeaderHelperImpl(this,isFooter);
  if (isFooter) {
    idToFooterMap.clear();
    idToFooterColumnMap.clear();
    footerCreator.buildHeader(helper);
    TABLE_IMPL.replaceAllRows(this,getTableFootElement(),helper.asSafeHtml());
  }
 else {
    idToHeaderMap.clear();
    idToHeaderColumnMap.clear();
    headerCreator.buildHeader(helper);
    TABLE_IMPL.replaceAllRows(this,getTableHeadElement(),helper.asSafeHtml());
  }
  doSetHeaderVisible(isFooter,!helper.isEmpty());
}
