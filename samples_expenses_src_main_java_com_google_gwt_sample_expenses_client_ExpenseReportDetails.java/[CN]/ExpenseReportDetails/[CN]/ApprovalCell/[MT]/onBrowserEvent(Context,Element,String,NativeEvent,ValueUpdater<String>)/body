{
  super.onBrowserEvent(context,parent,value,event,valueUpdater);
  Object key=context.getKey();
  String type=event.getType();
  ApprovalViewData viewData=getViewData(key);
  if ("change".equals(type)) {
    SelectElement select=parent.getFirstChild().cast();
    select.setDisabled(true);
    if (viewData == null) {
      Element tmpElem=Document.get().createDivElement();
      tmpElem.setInnerHTML(pendingIconHtml.asString());
      parent.appendChild(tmpElem.getFirstChildElement());
    }
    int index=select.getSelectedIndex();
    String pendingValue=select.getOptions().getItem(index).getValue();
    viewData=new ApprovalViewData(pendingValue);
    setViewData(key,viewData);
    finishEditing(parent,pendingValue,key,valueUpdater);
    if (valueUpdater != null) {
      valueUpdater.update(pendingValue);
    }
  }
 else   if ("click".equals(type) && viewData != null && parent.getChildCount() >= 3) {
    Element img=parent.getChild(1).cast();
    Element anchor=img.getNextSiblingElement();
    if (anchor.isOrHasChild(Element.as(event.getEventTarget().cast()))) {
      showErrorPopup(viewData.getRejectionText());
      clearViewData(key);
      parent.removeChild(anchor);
      parent.removeChild(img);
    }
  }
}
