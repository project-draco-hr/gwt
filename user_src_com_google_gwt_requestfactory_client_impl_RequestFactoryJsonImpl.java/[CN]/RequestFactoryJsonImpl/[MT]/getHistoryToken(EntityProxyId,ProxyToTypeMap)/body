{
  EntityProxyIdImpl entityProxyId=(EntityProxyIdImpl)proxyId;
  Class<? extends EntityProxy> proxyClass=entityProxyId.schema.getProxyClass();
  String rtn=recordToTypeMap.getClassToken(proxyClass) + "-";
  Object datastoreId=entityProxyId.encodedId;
  if (entityProxyId.isFuture) {
    datastoreId=futureToDatastoreMap.get(entityProxyId.encodedId);
  }
  if (datastoreId == null) {
    rtn+="0-FUTURE";
  }
 else {
    rtn+=datastoreId;
  }
  return rtn;
}
