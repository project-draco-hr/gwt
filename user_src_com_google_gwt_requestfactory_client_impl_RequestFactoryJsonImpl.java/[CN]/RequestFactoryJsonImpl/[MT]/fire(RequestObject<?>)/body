{
  RequestBuilder builder=new RequestBuilder(RequestBuilder.POST,GWT.getHostPageBaseURL() + RequestFactory.URL);
  builder.setHeader("Content-Type",RequestFactory.JSON_CONTENT_TYPE_UTF8);
  builder.setHeader("pageurl",Location.getHref());
  builder.setRequestData(ClientRequestHelper.getRequestString(((AbstractRequest<?,?>)requestObject).getRequestData().getRequestMap(((AbstractRequest<?,?>)requestObject).deltaValueStore.toJson())));
  builder.setCallback(new RequestCallback(){
    public void onError(    Request request,    Throwable exception){
      postRequestEvent(State.RECEIVED,null);
      wireLogger.log(Level.SEVERE,SERVER_ERROR,exception);
    }
    public void onResponseReceived(    Request request,    Response response){
      wireLogger.finest("Response received");
      try {
        if (200 == response.getStatusCode()) {
          String text=response.getText();
          ((AbstractRequest<?,?>)requestObject).handleResponseText(text);
        }
 else         if (Response.SC_UNAUTHORIZED == response.getStatusCode()) {
          wireLogger.finest("Need to log in");
        }
 else         if (response.getStatusCode() > 0) {
          wireLogger.severe(SERVER_ERROR + " " + response.getStatusCode()+ " "+ response.getText());
        }
      }
  finally {
        postRequestEvent(State.RECEIVED,response);
      }
    }
  }
);
  try {
    wireLogger.finest("Sending fire request");
    builder.send();
    postRequestEvent(State.SENT,null);
  }
 catch (  RequestException e) {
    wireLogger.log(Level.SEVERE,SERVER_ERROR + " (" + e.getMessage()+ ")",e);
  }
}
