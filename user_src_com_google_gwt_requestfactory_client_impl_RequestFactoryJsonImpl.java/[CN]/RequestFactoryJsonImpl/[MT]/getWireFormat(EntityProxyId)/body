{
  EntityProxyIdImpl proxyIdImpl=(EntityProxyIdImpl)proxyId;
  Long id=(Long)proxyIdImpl.id;
  if (proxyIdImpl.isFuture) {
    Long datastoreId=(Long)futureToDatastoreMap.get(id);
    if (datastoreId == null) {
      throw new IllegalArgumentException("Cannot call find on a proxyId before persisting");
    }
    id=datastoreId;
  }
  return ProxyImpl.getWireFormatId(id,NOT_FUTURE,proxyIdImpl.schema);
}
