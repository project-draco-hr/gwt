{
  JType type=instance.getType();
  JNullType typeNull=program.getTypeNull();
  if (type == typeNull) {
    return typeNull;
  }
  JArrayType arrayType=(JArrayType)type;
  JType elementType=arrayType.getElementType();
  if (elementType instanceof JReferenceType && !program.typeOracle.isInstantiatedType((JReferenceType)elementType)) {
    return typeNull;
  }
  return elementType;
}
