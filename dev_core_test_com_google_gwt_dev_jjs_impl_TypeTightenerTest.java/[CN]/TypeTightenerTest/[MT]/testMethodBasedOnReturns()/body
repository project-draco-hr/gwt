{
  addSnippetClassDecl("static class A {}");
  addSnippetClassDecl("static class B extends A {}");
  addSnippetClassDecl("static class C extends B {}");
  addSnippetClassDecl("static class D extends B {}");
  addSnippetClassDecl("A fun(int a) { if(a<0) return new B(); else if(a==0) return new C(); return new D();}");
  Result result=optimize("void","");
  assertEquals("EntryPoint$B fun(int a);\n",result.findMethod("fun").toString());
}
