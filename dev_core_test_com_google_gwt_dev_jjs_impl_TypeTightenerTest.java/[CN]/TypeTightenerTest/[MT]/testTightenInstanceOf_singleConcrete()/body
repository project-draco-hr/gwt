{
  addSnippetClassDecl("abstract static class A { public void m() {} }");
  addSnippetClassDecl("static class B extends A { public void m() { super.m(); }}");
  JMethod mainMethod=optimize("void"," A a= new B(); if (a instanceof B) { a.m(); }").findMethod("onModuleLoad()V");
  JInstanceOf expression=FluentIterable.from(getNodes(JInstanceOf.class,mainMethod,true)).first().get();
  assertEquals("test.EntryPoint$B",expression.getTestType().getName());
}
