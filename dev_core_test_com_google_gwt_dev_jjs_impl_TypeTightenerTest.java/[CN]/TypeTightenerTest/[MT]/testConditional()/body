{
  addSnippetClassDecl("static class D {}");
  addSnippetClassDecl("static class C extends D {}");
  addSnippetClassDecl("static class B extends C {}");
  addSnippetClassDecl("static class A extends C {}");
  Result result=optimize("void","int x = 0;","A a1 = new A();","A a2 = new A();","B b = new B();","C c = new C();","C c1 = (x > 0) ? a1 : b;","C c2 = (x > 0) ? a1 : a2;","D d = (x > 0) ? b : c;");
  result.intoString("int x = 0;\n" + "EntryPoint$A a1 = new EntryPoint$A();\n" + "EntryPoint$A a2 = new EntryPoint$A();\n"+ "EntryPoint$B b = new EntryPoint$B();\n"+ "EntryPoint$C c = new EntryPoint$C();\n"+ "EntryPoint$C c1 = x > 0 ? a1 : b;\n"+ "EntryPoint$A c2 = x > 0 ? a1 : a2;\n"+ "EntryPoint$C d = x > 0 ? b : c;");
}
