{
  subscription=manager.addMarkFavoriteHandler(new MarkFavoriteEvent.Handler(){
    public void onMarkFavorite(    MarkFavoriteEvent event){
      FavoritesWidget.this.onMarkFavorite(event);
    }
  }
);
  for (  EntityProxyId id : manager.getFavoriteIds()) {
    factory.find(id).fire(new Receiver<EntityProxy>(){
      @Override public void onSuccess(      EntityProxy response){
        PersonProxy person=(PersonProxy)response;
        onMarkFavorite(new MarkFavoriteEvent(person,true));
      }
    }
);
  }
}
