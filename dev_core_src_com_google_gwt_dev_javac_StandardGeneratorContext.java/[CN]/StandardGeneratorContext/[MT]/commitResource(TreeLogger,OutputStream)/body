{
  PendingResource pendingResource=pendingResourcesByOutputStream.get(os);
  if (pendingResource != null) {
    pendingResource.commit(logger);
    GeneratedResource toReturn=new StandardGeneratedResource(currentGenerator,pendingResource.getPartialPath(),pendingResource.getFile());
    commitArtifact(logger,toReturn);
    pendingResourcesByOutputStream.remove(os);
    return toReturn;
  }
 else {
    logger.log(TreeLogger.WARN,"Generator attempted to commit an unknown OutputStream",null);
    throw new UnableToCompleteException();
  }
}
