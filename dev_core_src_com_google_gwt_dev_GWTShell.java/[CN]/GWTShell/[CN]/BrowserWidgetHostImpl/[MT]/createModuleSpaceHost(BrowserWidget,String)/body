{
  TreeLogger logger=getLogger();
  Shell widgetShell=widget.getShell();
  try {
    Cursor waitCursor=fDisplay.getSystemCursor(SWT.CURSOR_WAIT);
    widgetShell.setCursor(waitCursor);
    ModuleDef moduleDef=loadModule(moduleName,logger);
    assert(moduleDef != null);
    TypeOracle typeOracle=moduleDef.getTypeOracle(logger);
    ShellModuleSpaceHost host=doCreateShellModuleSpaceHost(logger,typeOracle,moduleDef,genDir);
    return host;
  }
  finally {
    Cursor normalCursor=fDisplay.getSystemCursor(SWT.CURSOR_ARROW);
    widgetShell.setCursor(normalCursor);
  }
}
