{
  TreeLogger logger=ui.getWebServerLogger("Tomcat",null);
  String whyFailed=EmbeddedTomcatServer.start(isHeadless() ? getTopLogger() : logger,getPort(),options,shouldAutoGenerateResources());
  if (whyFailed != null) {
    getTopLogger().log(TreeLogger.ERROR,"Starting Tomcat: " + whyFailed);
    return -1;
  }
  return EmbeddedTomcatServer.getPort();
}
