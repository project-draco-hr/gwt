{
  List<T> toUpdate=new ArrayList<T>();
  int itemCount=display.getVisibleItemCount();
  int relativeStart=range.getStart() - display.getVisibleRange().getStart();
  int relativeEnd=relativeStart + range.getLength();
  for (int i=relativeStart; i < relativeEnd && i < itemCount; i++) {
    toUpdate.add(display.getVisibleItem(i));
  }
  if (clearOthers) {
    clearSelection(selectionModel);
  }
  for (  T value : toUpdate) {
    selectionModel.setSelected(value,addToSelection);
  }
}
