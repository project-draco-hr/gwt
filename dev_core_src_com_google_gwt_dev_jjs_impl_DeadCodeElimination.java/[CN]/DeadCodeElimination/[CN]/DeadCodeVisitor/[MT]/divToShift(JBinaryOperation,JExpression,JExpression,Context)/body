{
  long divisor;
  if (rhs instanceof JIntLiteral) {
    divisor=((JIntLiteral)rhs).getValue();
  }
 else   if (rhs instanceof JLongLiteral) {
    divisor=((JLongLiteral)rhs).getValue();
  }
 else {
    return;
  }
  if (divisor == 1) {
    ctx.replaceMe(lhs);
    return;
  }
 else   if (divisor == -1 && !x.getOp().isAssignment()) {
    JPrefixOperation negOp=new JPrefixOperation(program,x.getSourceInfo(),JUnaryOperator.NEG,lhs);
    ctx.replaceMe(negOp);
    return;
  }
  if (divisor > 1 && divisor == Long.highestOneBit(divisor)) {
    int shift=Long.numberOfTrailingZeros(divisor);
    JBinaryOperator op=x.getOp().isAssignment() ? JBinaryOperator.ASG_SHR : JBinaryOperator.SHR;
    JBinaryOperation binOp=new JBinaryOperation(program,x.getSourceInfo(),lhs.getType(),op,lhs,program.getLiteralInt(shift));
    ctx.replaceMe(binOp);
    return;
  }
}
