{
  if (parent != null && n instanceof Text && (!(n instanceof CDATASection))) {
    Text t=(Text)n;
    if (t.getData().matches("[ \t\n]*")) {
      parent.removeChild(t);
    }
  }
  if (n.hasChildNodes()) {
    int length=n.getChildNodes().getLength();
    List<Node> toBeProcessed=new ArrayList<Node>();
    for (int i=0; i < length; i++) {
      toBeProcessed.add(n.getChildNodes().item(i));
    }
    for (    Node childNode : toBeProcessed) {
      removeWhitespaceInner(childNode,n);
    }
  }
}
