{
  if (parent != null && n instanceof Text && (!(n instanceof CDATASection))) {
    Text t=(Text)n;
    if (t.getData().matches("[ \t\n]*")) {
      parent.removeChild(t);
    }
  }
  if (n.hasChildNodes()) {
    int length=n.getChildNodes().getLength();
    List toBeProcessed=new ArrayList();
    for (int i=0; i < length; i++) {
      toBeProcessed.add(n.getChildNodes().item(i));
    }
    for (Iterator iter=toBeProcessed.iterator(); iter.hasNext(); ) {
      Node childNode=(Node)iter.next();
      removeWhitespaceInner(childNode,n);
    }
  }
}
