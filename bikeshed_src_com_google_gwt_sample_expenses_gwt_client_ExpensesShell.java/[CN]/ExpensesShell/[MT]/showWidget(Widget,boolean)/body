{
  final Widget current=layoutPanel.getWidget(0);
  if (current == widget) {
    return;
  }
  layoutPanel.add(widget);
  layoutPanel.setWidgetLeftWidth(current,0,Unit.PCT,100,Unit.PCT);
  if (fromLeft) {
    layoutPanel.setWidgetLeftWidth(widget,-100,Unit.PCT,100,Unit.PCT);
  }
 else {
    layoutPanel.setWidgetLeftWidth(widget,100,Unit.PCT,100,Unit.PCT);
  }
  layoutPanel.forceLayout();
  if (fromLeft) {
    layoutPanel.setWidgetLeftWidth(current,100,Unit.PCT,100,Unit.PCT);
  }
 else {
    layoutPanel.setWidgetLeftWidth(current,-100,Unit.PCT,100,Unit.PCT);
  }
  layoutPanel.setWidgetLeftWidth(widget,0,Unit.PCT,100,Unit.PCT);
  layoutPanel.animate(500,new Layout.AnimationCallback(){
    public void onAnimationComplete(){
      layoutPanel.remove(current);
    }
    public void onLayout(    Layer layer,    double progress){
    }
  }
);
}
