{
  JConstructor ctor=(JConstructor)typeMap.get(x.binding);
  try {
    processHasAnnotations(ctor,x.annotations);
    SourceInfo info=ctor.getSourceInfo();
    currentMethod=ctor;
    currentMethodBody=ctor.getBody();
    currentMethodScope=x.scope;
    boolean hasExplicitThis=(x.constructorCall != null) && !x.constructorCall.isSuperAccess();
    JClassType enclosingType=ctor.getEnclosingType();
    JBlock block=currentMethodBody.getBlock();
    currentOuterThisRefParams=Maps.create();
    ReferenceBinding declaringClass=x.binding.declaringClass;
    if (declaringClass instanceof NestedTypeBinding) {
      Iterator<JParameter> paramIt=currentMethod.getParams().iterator();
      NestedTypeBinding nestedBinding=(NestedTypeBinding)declaringClass;
      if (nestedBinding.enclosingInstances != null) {
        for (        SyntheticArgumentBinding arg : nestedBinding.enclosingInstances) {
          JParameter param=paramIt.next();
          JField field=(JField)typeMap.get(arg);
          if (!hasExplicitThis) {
            block.addStmt(JProgram.createAssignmentStmt(info,createVariableRef(info,field),createVariableRef(info,param)));
          }
          currentOuterThisRefParams=Maps.put(currentOuterThisRefParams,field,param);
        }
      }
      if (!hasExplicitThis) {
        paramIt=getSyntheticLocalsIterator();
        if (nestedBinding.outerLocalVariables != null) {
          for (          SyntheticArgumentBinding arg : nestedBinding.outerLocalVariables) {
            JParameter param=paramIt.next();
            JField field=(JField)typeMap.get(arg);
            block.addStmt(JProgram.createAssignmentStmt(info,createVariableRef(info,field),createVariableRef(info,param)));
          }
        }
      }
    }
    if (x.constructorCall != null) {
      JMethodCall superOrThisCall=(JMethodCall)dispatch("processExpression",x.constructorCall);
      if (enclosingType.isEnumOrSubclass() != null) {
        JVariableRef enumNameRef=createVariableRef(superOrThisCall.getSourceInfo(),ctor.getParams().get(0));
        superOrThisCall.addArg(0,enumNameRef);
        JVariableRef enumOrdinalRef=createVariableRef(superOrThisCall.getSourceInfo(),ctor.getParams().get(1));
        superOrThisCall.addArg(1,enumOrdinalRef);
      }
      superOrThisCall.setStaticDispatchOnly();
      block.addStmt(superOrThisCall.makeStatement());
    }
    JExpression thisRef=createThisRef(info,enclosingType);
    if (!hasExplicitThis) {
      JMethod initMethod=enclosingType.getMethods().get(1);
      JMethodCall initCall=new JMethodCall(info,thisRef,initMethod);
      block.addStmt(initCall.makeStatement());
    }
    block.addStmts(processStatements(x.statements));
    currentOuterThisRefParams=null;
    currentMethodScope=null;
    currentMethod=null;
  }
 catch (  Throwable e) {
    throw translateException(ctor,e);
  }
}
