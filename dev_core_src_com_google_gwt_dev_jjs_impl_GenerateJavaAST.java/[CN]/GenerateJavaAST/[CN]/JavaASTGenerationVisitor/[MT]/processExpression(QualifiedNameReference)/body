{
  SourceInfo info=makeSourceInfo(x);
  Binding binding=x.binding;
  JNode node=typeMap.get(binding);
  if (!(node instanceof JVariable)) {
    return null;
  }
  JVariable variable=(JVariable)node;
  JExpression curRef=createVariableRef(info,variable,binding);
  if (x.genericCast != null) {
    JType castType=(JType)typeMap.get(x.genericCast);
    curRef=maybeCast(castType,curRef);
  }
  if (x.otherBindings != null) {
    for (int i=0; i < x.otherBindings.length; ++i) {
      FieldBinding fieldBinding=x.otherBindings[i];
      if (fieldBinding.declaringClass == null) {
        if (!ARRAY_LENGTH_FIELD.equals(String.valueOf(fieldBinding.name))) {
          throw new InternalCompilerException("Expected [array].length.");
        }
        curRef=new JArrayLength(info,curRef);
      }
 else {
        JField field=(JField)typeMap.get(fieldBinding);
        curRef=new JFieldRef(info,curRef,field,currentClass);
      }
      if (x.otherGenericCasts != null && x.otherGenericCasts[i] != null) {
        JType castType=(JType)typeMap.get(x.otherGenericCasts[i]);
        curRef=maybeCast(castType,curRef);
      }
    }
  }
  return curRef;
}
