{
  SourceInfo info=makeSourceInfo(x);
  SourceTypeBinding typeBinding=erasure(x.resolvedType);
  if (typeBinding.constantPoolName() == null) {
    return program.getLiteralNull();
  }
  JClassType newType=(JClassType)typeMap.get(typeBinding);
  MethodBinding b=x.binding;
  JMethod ctor=(JMethod)typeMap.get(b);
  JMethodCall call;
  JClassType javaLangString=program.getTypeJavaLangString();
  if (newType == javaLangString) {
    int ctorArgc=ctor.params.size();
    JMethod targetMethod=null;
    outer:     for (int j=0; j < javaLangString.methods.size(); ++j) {
      JMethod method=javaLangString.methods.get(j);
      if (method.getName().equals("_String") && method.params.size() == ctorArgc) {
        for (int i=0; i < ctorArgc; ++i) {
          JParameter mparam=method.params.get(i);
          JParameter cparam=ctor.params.get(i);
          if (mparam.getType() != cparam.getType()) {
            continue outer;
          }
        }
        targetMethod=method;
        break;
      }
    }
    if (targetMethod == null) {
      throw new InternalCompilerException("String constructor error; no matching implementation.");
    }
    call=new JMethodCall(program,makeSourceInfo(x),null,targetMethod);
  }
 else {
    JNewInstance newInstance=new JNewInstance(program,info,newType);
    call=new JMethodCall(program,info,newInstance,ctor);
  }
  if (x.arguments != null) {
    for (int i=0, n=x.arguments.length; i < n; ++i) {
      call.getArgs().add(dispProcessExpression(x.arguments[i]));
    }
  }
  ReferenceBinding targetBinding=b.declaringClass;
  if (targetBinding.isNestedType() && !targetBinding.isStatic()) {
    NestedTypeBinding nestedBinding=(NestedTypeBinding)erasure(targetBinding);
    if (nestedBinding.enclosingInstances != null) {
      for (int i=0; i < nestedBinding.enclosingInstances.length; ++i) {
        SyntheticArgumentBinding arg=nestedBinding.enclosingInstances[i];
        JClassType syntheticThisType=(JClassType)typeMap.get(arg.type);
        call.getArgs().add(createThisRef(info,syntheticThisType));
      }
    }
    if (nestedBinding.outerLocalVariables != null) {
      for (int i=0; i < nestedBinding.outerLocalVariables.length; ++i) {
        SyntheticArgumentBinding arg=nestedBinding.outerLocalVariables[i];
        JVariable variable=(JVariable)typeMap.get(arg.actualOuterLocalVariable);
        call.getArgs().add(createVariableRef(info,variable,arg.actualOuterLocalVariable));
      }
    }
  }
  return call;
}
