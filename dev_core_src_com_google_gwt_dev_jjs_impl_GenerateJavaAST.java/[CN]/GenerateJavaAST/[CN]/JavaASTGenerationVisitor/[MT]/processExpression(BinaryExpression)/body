{
  JBinaryOperator op;
  int binOp=(x.bits & BinaryExpression.OperatorMASK) >> BinaryExpression.OperatorSHIFT;
switch (binOp) {
case BinaryExpression.LEFT_SHIFT:
    op=JBinaryOperator.SHL;
  break;
case BinaryExpression.RIGHT_SHIFT:
op=JBinaryOperator.SHR;
break;
case BinaryExpression.UNSIGNED_RIGHT_SHIFT:
op=JBinaryOperator.SHRU;
break;
case BinaryExpression.PLUS:
op=JBinaryOperator.ADD;
break;
case BinaryExpression.MINUS:
op=JBinaryOperator.SUB;
break;
case BinaryExpression.REMAINDER:
op=JBinaryOperator.MOD;
break;
case BinaryExpression.XOR:
op=JBinaryOperator.BIT_XOR;
break;
case BinaryExpression.AND:
op=JBinaryOperator.BIT_AND;
break;
case BinaryExpression.MULTIPLY:
op=JBinaryOperator.MUL;
break;
case BinaryExpression.OR:
op=JBinaryOperator.BIT_OR;
break;
case BinaryExpression.DIVIDE:
op=JBinaryOperator.DIV;
break;
case BinaryExpression.LESS_EQUAL:
op=JBinaryOperator.LTE;
break;
case BinaryExpression.GREATER_EQUAL:
op=JBinaryOperator.GTE;
break;
case BinaryExpression.GREATER:
op=JBinaryOperator.GT;
break;
case BinaryExpression.LESS:
op=JBinaryOperator.LT;
break;
default :
throw new InternalCompilerException("Unexpected operator for BinaryExpression");
}
JType type=(JType)typeMap.get(x.resolvedType);
SourceInfo info=makeSourceInfo(x);
return processBinaryOperation(info,op,type,x.left,x.right);
}
