{
  SourceInfo info=makeSourceInfo(x);
  FieldBinding fieldBinding=x.binding;
  JType type=(JType)typeMap.get(x.resolvedType);
  JField field;
  if (fieldBinding.declaringClass == null) {
    field=program.getIndexedField("Array.length");
    if (!field.getName().equals(String.valueOf(fieldBinding.name))) {
      throw new InternalCompilerException("Error matching fieldBinding.");
    }
  }
 else {
    field=(JField)typeMap.get(fieldBinding);
  }
  JExpression instance=dispProcessExpression(x.receiver);
  JExpression fieldRef=new JFieldRef(program,info,instance,field,currentClass);
  if (type != field.getType()) {
    JReferenceType toType=(JReferenceType)type;
    return new JCastOperation(program,info,toType,fieldRef);
  }
 else {
    return fieldRef;
  }
}
