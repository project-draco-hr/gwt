{
  SourceInfo sourceInfo=type.getSourceInfo().makeChild(JavaASTGenerationVisitor.class,"enum value lookup map");
  JsonObject map=new JsonObject(program,sourceInfo);
  for (  JEnumField field : type.enumList) {
    JStringLiteral key=program.getLiteralString(field.getSourceInfo(),"_" + field.getName());
    JFieldRef value=new JFieldRef(program,sourceInfo,null,field,type);
    map.propInits.add(new JsonObject.JsonPropInit(program,sourceInfo,key,value));
  }
  JField mapField=program.createField(sourceInfo,"enum$map".toCharArray(),type,map.getType(),true,Disposition.FINAL);
  JMethodBody clinitBody=(JMethodBody)type.methods.get(0).getBody();
  JExpressionStatement assignment=program.createAssignmentStmt(sourceInfo,createVariableRef(sourceInfo,mapField),map);
  clinitBody.getBlock().addStmt(assignment);
  return mapField;
}
