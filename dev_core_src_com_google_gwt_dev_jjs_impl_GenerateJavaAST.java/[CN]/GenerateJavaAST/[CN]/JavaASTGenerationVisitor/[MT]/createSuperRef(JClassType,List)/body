{
  assert(fCurrentClass instanceof JClassType);
  LinkedList workList=new LinkedList();
  workList.addAll(list);
  while (!workList.isEmpty()) {
    JExpression expr=(JExpression)workList.removeFirst();
    JClassType classType=(JClassType)expr.getType();
    if (classType.extnds == targetType) {
      return expr;
    }
    addAllOuterThisRefsPlusSuperChain(workList,expr,classType);
  }
  throw new InternalCompilerException("Cannot create a SuperRef of the appropriate type.");
}
