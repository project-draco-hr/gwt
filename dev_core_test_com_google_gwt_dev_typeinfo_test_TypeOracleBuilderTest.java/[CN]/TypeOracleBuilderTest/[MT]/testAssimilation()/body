{
  TypeOracle typeOracle0=new TypeOracle();
  TreeLogger logger=createTreeLogger();
  TypeOracleBuilder builder1=new TypeOracleBuilder(typeOracle0);
  builder1.addCompilationUnit(CU_Object);
  builder1.addCompilationUnit(CU_BeforeAssimilate);
  TypeOracle typeOracle1=builder1.build(logger);
  assertSame(typeOracle0,typeOracle1);
  assertEquals(2,typeOracle1.getTypes().length);
  JClassType before=typeOracle1.findType("test.assim.BeforeAssimilate");
  TypeOracleBuilder builder2=new TypeOracleBuilder(typeOracle1);
  builder2.addCompilationUnit(CU_AfterAssimilate);
  TypeOracle typeOracle2=builder2.build(logger);
  assertSame(typeOracle1,typeOracle2);
  assertEquals(3,typeOracle2.getTypes().length);
  JClassType after=typeOracle2.findType("test.assim.AfterAssimilate");
  assertSame(before,after.getSuperclass());
}
