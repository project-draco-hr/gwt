{
  CellTable<String> table=createAbstractHasData(new TextCell());
  Column<String,String> column=new Column<String,String>(new TextCell()){
    @Override public String getValue(    String object){
      return object;
    }
  }
;
  table.addColumn(column);
  table.setRowData(0,createData(0,1));
  table.getPresenter().flush();
  TableCellElement td=getBodyElement(table,0,2);
  String hAlign=td.getAlign();
  String vAlign=td.getVAlign();
  assertTrue("".equals(hAlign) || "left".equals(hAlign));
  assertTrue("".equals(vAlign) || "middle".equals(vAlign));
  column.setHorizontalAlignment(HasHorizontalAlignment.ALIGN_RIGHT);
  table.setRowData(0,createData(0,1));
  table.getPresenter().flush();
  td=getBodyElement(table,0,2);
  hAlign=td.getAlign();
  vAlign=td.getVAlign();
  assertTrue("right".equals(hAlign));
  assertTrue("".equals(vAlign) || "middle".equals(vAlign));
  column.setHorizontalAlignment(null);
  column.setVerticalAlignment(HasVerticalAlignment.ALIGN_BOTTOM);
  table.setRowData(0,createData(0,1));
  table.getPresenter().flush();
  td=getBodyElement(table,0,2);
  hAlign=td.getAlign();
  vAlign=td.getVAlign();
  assertTrue("".equals(hAlign) || "left".equals(hAlign));
  assertTrue("bottom".equals(vAlign));
  column.setHorizontalAlignment(HasHorizontalAlignment.ALIGN_RIGHT);
  table.setRowData(0,createData(0,1));
  table.getPresenter().flush();
  td=getBodyElement(table,0,2);
  hAlign=td.getAlign();
  vAlign=td.getVAlign();
  assertTrue("right".equals(hAlign));
  assertTrue("bottom".equals(vAlign));
}
