{
  if (isSmallLong(a) && isSmallLong(b)) {
    double result=asDouble(a) / asDouble(b);
    if (isSafeIntegerRange(result)) {
      return createSmallLongEmul(truncate(result));
    }
  }
  return createLongEmul(BigLongLib.div(toBigLong(a),toBigLong(b)));
}
