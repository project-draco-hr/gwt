{
  HtmlTemplates h=new HtmlTemplates();
  Tokenator t=new Tokenator();
  try {
    h.addSafeHtmlTemplate(null,t);
    fail();
  }
 catch (  IllegalArgumentException e) {
    assertTrue("Expected empty html to generate error",e.getMessage().equals("Template html cannot be null"));
  }
  assertTrue(h.isEmpty());
}
