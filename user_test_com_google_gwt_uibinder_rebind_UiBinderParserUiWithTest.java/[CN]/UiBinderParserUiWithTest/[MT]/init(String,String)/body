{
  DesignTimeUtils designTime=DesignTimeUtilsStub.EMPTY;
  elemProvider=new XMLElementProviderImpl(new AttributeParsers(types,null,logger),types,logger,designTime);
  doc=docHelper.documentFor(domString,null);
  item=(Element)doc.getDocumentElement().getElementsByTagName("with").item(0);
  elm=elemProvider.get(item);
  JClassType aClass=types.findType(baseClass);
  ResourceOracle resourceOracle=new MockResourceOracle();
  writer=new UiBinderWriter(aClass,"foo","",types,logger,fieldManager,null,DesignTimeUtilsStub.EMPTY,new UiBinderContext(),true,true,"",resourceOracle);
  parser=new UiBinderParser(writer,null,fieldManager,types,null,"",new UiBinderContext(),resourceOracle);
  designTime.rememberPathForElements(doc);
  UiBinderParser.Resource.WITH.create(parser,elm);
}
