{
  final RequestCallback superCallback=super.createRequestCallback(receiver);
  return new RequestCallback(){
    @Override public void onError(    Request request,    Throwable exception){
      superCallback.onError(request,exception);
    }
    @Override public void onResponseReceived(    Request request,    Response response){
      if (Response.SC_UNAUTHORIZED == response.getStatusCode()) {
        String loginUrl=response.getHeader("login");
        if (loginUrl != null) {
          receiver.onTransportFailure(new ServerFailure("Unauthenticated user",null,null,false));
          eventBus.fireEvent(new GaeAuthenticationFailureEvent(loginUrl));
          return;
        }
      }
      superCallback.onResponseReceived(request,response);
    }
  }
;
}
