{
  StringBuilder code=new StringBuilder();
  code.append("package test;\n");
  code.append("import com.google.gwt.core.client.GWT;\n");
  code.append("import com.google.gwt.core.client.RunAsyncCallback;\n");
  code.append("public class EntryPoint {\n");
  code.append(functionA);
  code.append(functionB);
  code.append(functionC);
  code.append(functionD);
  code.append(createNamedRunAsyncCallback("RunAsyncCallBack1","functionA(); functionD();"));
  code.append(createNamedRunAsyncCallback("RunAsyncCallBack2","functionB(); functionD();"));
  code.append(createNamedRunAsyncCallback("RunAsyncCallBack3","functionC();"));
  code.append("  public static void onModuleLoad() {\n");
  code.append("createCallBack1();");
  code.append("createCallBack2();");
  code.append("createCallBack3();");
  code.append("  }\n");
  code.append("  private static void createCallBack1() {\n");
  code.append("    GWT.runAsync( new RunAsyncCallBack1() );");
  code.append("  }\n");
  code.append("  private static void createCallBack2() {\n");
  code.append("    GWT.runAsync(RunAsyncCallBack2.class, new RunAsyncCallBack2() );");
  code.append("  }\n");
  code.append("  private static void createCallBack3() {\n");
  code.append("    GWT.runAsync(RunAsyncCallBack2.class, new RunAsyncCallBack3() );");
  code.append("  }\n");
  code.append("}\n");
  expectedFragmentCount=-1;
  compileSnippetToJS(code.toString());
  assertFragmentCount(4);
  assertInFragment("functionA",2);
  assertNotInFragment("functionA",0);
  assertNotInFragment("functionA",1);
  assertNotInFragment("functionA",3);
  assertInFragment("functionB",1);
  assertInFragment("functionC",1);
  assertInFragment("functionD",3);
}
