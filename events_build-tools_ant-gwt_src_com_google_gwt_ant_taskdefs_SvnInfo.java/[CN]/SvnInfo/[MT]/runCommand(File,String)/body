{
  String cmdString="";
  for (  String arg : cmd) {
    cmdString=cmdString + arg + " ";
  }
  cmdString=cmdString.substring(0,cmdString.length() - 1);
  ProcessBuilder svnPb=new ProcessBuilder(cmd);
  svnPb.directory(workdir);
  Process svnproc;
  try {
    svnproc=svnPb.start();
  }
 catch (  IOException e) {
    throw new BuildException("cannot launch command " + cmdString,e);
  }
  LineNumberReader svnerr=new LineNumberReader(new InputStreamReader(svnproc.getErrorStream()));
  try {
    String line=svnerr.readLine();
    String errorText="";
    if (line != null) {
      while (line != null) {
        errorText=errorText + "  " + line+ "\n";
        line=svnerr.readLine();
      }
      throw new BuildException(cmdString + " returned error output:\n" + errorText);
    }
  }
 catch (  IOException e) {
    throw new BuildException("cannot read error stream from " + cmdString,e);
  }
  LineNumberReader svnout=new LineNumberReader(new InputStreamReader(svnproc.getInputStream()));
  return svnout;
}
