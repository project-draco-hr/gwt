{
  MockCompilationUnit compilationUnit=new MockCompilationUnit("com.google.gwt.Regular","blah");
  MockLibrary libraryA=new MockLibrary("LibraryA");
  libraryA.addCompilationUnit(compilationUnit);
  MockLibrary libraryB=new MockLibrary("LibraryB");
  libraryB.addCompilationUnit(compilationUnit);
  LibraryGroup libraryGroup=LibraryGroup.fromLibraries(Lists.<Library>newArrayList(libraryA,libraryB),true);
  try {
    libraryGroup.getCompilationUnitByTypeSourceName("com.google.gwt.Regular");
    fail("The library group should have detected and rejected the duplicate compilation unit.");
  }
 catch (  CollidingCompilationUnitException e) {
  }
}
