{
  this.listener=listener;
  this.requestFactory=requestFactory;
  expenseDataProvider=new AsyncDataProvider<ExpenseRecord>(){
    @Override protected void onRangeChanged(    HasData<ExpenseRecord> view){
      requestExpenses();
    }
  }
;
  expenseDataProvider.setKeyProvider(Expenses.EXPENSE_RECORD_KEY_PROVIDER);
  expenseList=new CellList<ExpenseRecord>(new ExpenseCell());
  expenseSelection=new NoSelectionModel<ExpenseRecord>();
  expenseList.setSelectionModel(expenseSelection);
  expenseSelection.addSelectionChangeHandler(new SelectionChangeEvent.Handler(){
    public void onSelectionChange(    SelectionChangeEvent event){
      listener.onExpenseSelected(expenseSelection.getLastSelectedObject());
    }
  }
);
  expenseDataProvider.addDataDisplay(expenseList);
  initWidget(expenseList);
}
