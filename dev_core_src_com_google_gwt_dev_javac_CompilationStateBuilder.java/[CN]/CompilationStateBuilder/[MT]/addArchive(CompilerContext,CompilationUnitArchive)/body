{
  UnitCache unitCache=compilerContext.getUnitCache();
  for (  CachedCompilationUnit archivedUnit : compilationUnitArchive.getUnits().values()) {
    if (archivedUnit.getTypesSerializedVersion() != GwtAstBuilder.getSerializationVersion()) {
      continue;
    }
    CompilationUnit cachedCompilationUnit=unitCache.find(archivedUnit.getResourceLocation());
    if (cachedCompilationUnit == null || cachedCompilationUnit.getLastModified() < archivedUnit.getLastModified()) {
      unitCache.addArchivedUnit(archivedUnit);
    }
  }
}
