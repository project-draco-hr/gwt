{
  UnitCache unitCache=instance.unitCache;
  for (  CachedCompilationUnit archivedUnit : module.getUnits().values()) {
    if (archivedUnit.getTypesSerializedVersion() != GwtAstBuilder.getSerializationVersion()) {
      continue;
    }
    CompilationUnit cachedCompilationUnit=unitCache.find(archivedUnit.getResourceLocation());
    if (cachedCompilationUnit == null || cachedCompilationUnit.getLastModified() < archivedUnit.getLastModified()) {
      unitCache.addArchivedUnit(archivedUnit);
    }
  }
}
