{
  ScopeState scope=classScopes.peek();
  if (scope.state > curState) {
    log(aAST,type + " in wrong order.");
    return true;
  }
 else   if (scope.state == curState) {
    final Scope curVisibility=ScopeUtils.getScopeFromMods(aAST);
    if (scope.visibility.compareTo(curVisibility) > 0) {
      log(aAST,curVisibility.getName() + " " + type+ " should not occur after "+ scope.visibility.getName()+ " "+ type);
      return false;
    }
 else     if (scope.visibility != curVisibility) {
      scope.visibility=curVisibility;
      return true;
    }
 else {
      return false;
    }
  }
 else {
    scope.state=curState;
    scope.visibility=Scope.PUBLIC;
    return true;
  }
}
