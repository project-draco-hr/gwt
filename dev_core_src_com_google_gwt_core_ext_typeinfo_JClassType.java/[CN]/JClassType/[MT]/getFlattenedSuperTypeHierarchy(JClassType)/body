{
  Set<JClassType> flattened=type.flattenedSupertypes;
  if (flattened == null) {
    flattened=new HashSet<JClassType>();
    getFlattenedSuperTypeHierarchyRecursive(type,flattened);
    type.flattenedSupertypes=Sets.normalizeUnmodifiable(flattened);
  }
  return flattened;
}
