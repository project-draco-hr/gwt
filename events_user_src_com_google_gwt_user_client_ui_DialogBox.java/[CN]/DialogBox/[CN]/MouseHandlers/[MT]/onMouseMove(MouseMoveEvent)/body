{
  if (dragging) {
    int absX=event.getRelativeX(getElement()) + getAbsoluteLeft();
    int absY=event.getRelativeY(getElement()) + getAbsoluteTop();
    if (absX < clientLeft || absX >= windowWidth || absY < clientTop) {
      return;
    }
    setPopupPosition(absX - dragStartX,absY - dragStartY);
  }
}
