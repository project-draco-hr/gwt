{
  TypeOracle typeOracle=context.getTypeOracle();
  assert(typeOracle != null);
  JClassType validatorType=findType(logger,typeOracle,typeName);
  JClassType genericType=findType(logger,typeOracle,Validator.class.getName());
  JClassType gwtSpecificType=findType(logger,typeOracle,GwtSpecificValidator.class.getName());
  if (validatorType.isAssignableTo(genericType)) {
    return generateGenericValidator(logger,context,validatorType);
  }
 else   if (validatorType.isAssignableTo(gwtSpecificType)) {
    return generateGwtSpecificValidator(logger,context,validatorType);
  }
 else {
    logger.log(TreeLogger.ERROR,"type is not a ValidatorGenerator or GwtSpecificValidatorGenerator: '" + typeName + "'",null);
    throw new UnableToCompleteException();
  }
}
