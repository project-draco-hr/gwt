{
  if (factory == null) {
    return null;
  }
  if (!(getObject() instanceof EntityProxy)) {
    return null;
  }
  EntityProxyId<?> stableId=((EntityProxy)getObject()).stableId();
  @SuppressWarnings("unchecked") Class<EntityProxy> clazz=(Class<EntityProxy>)stableId.getProxyClass();
  HandlerRegistration toReturn=EntityProxyChange.<EntityProxy>registerForProxyType(eventBus,clazz,new SubscriptionHandler());
  return toReturn;
}
