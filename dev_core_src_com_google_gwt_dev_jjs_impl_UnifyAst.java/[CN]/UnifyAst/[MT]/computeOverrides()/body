{
  for (  JDeclaredType type : program.getDeclaredTypes()) {
    Map<String,Set<JMethod>> collected=new HashMap<String,Set<JMethod>>();
    for (    JMethod method : type.getMethods()) {
      if (method.canBePolymorphic()) {
        collected.put(method.getSignature(),new LinkedHashSet<JMethod>());
      }
    }
    collectUpRefsInSupers(type,collected);
    for (    JMethod method : type.getMethods()) {
      if (method.canBePolymorphic()) {
        for (        JMethod upref : collected.get(method.getSignature())) {
          if (canAccessSuperMethod(type,upref)) {
            method.addOverride(upref);
          }
        }
      }
    }
  }
}
