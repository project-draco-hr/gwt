{
  if (type instanceof JArrayType) {
    JType leafType=((JArrayType)type).getLeafType();
    if (leafType instanceof JReferenceType) {
      return countSuperTypes((JReferenceType)leafType) + 1;
    }
 else {
      return 1;
    }
  }
  int count=0;
  while ((type=type.getSuperClass()) != null) {
    ++count;
  }
  return count;
}
