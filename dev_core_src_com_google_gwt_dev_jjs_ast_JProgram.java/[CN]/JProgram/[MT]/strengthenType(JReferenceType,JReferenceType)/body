{
  if (thisType == thatType) {
    return thisType;
  }
  if (thisType.isNullType() || thatType.isNullType()) {
    return JReferenceType.NULL_TYPE;
  }
  if (thisType.canBeNull() != thatType.canBeNull()) {
    return strengthenType(thisType.strengthenToNonNull(),thatType.strengthenToNonNull());
  }
  if (typeOracle.castSucceedsTrivially(thisType,thatType)) {
    return thisType;
  }
  if (typeOracle.castSucceedsTrivially(thatType,thisType)) {
    return thatType;
  }
  return thisType;
}
