{
  int dim=0;
  while (className.endsWith("[]")) {
    dim++;
    className=className.substring(0,className.length() - 2);
  }
  JType type;
  if ("Z".equals(className)) {
    type=program.getTypePrimitiveBoolean();
  }
 else   if ("B".equals(className)) {
    type=program.getTypePrimitiveByte();
  }
 else   if ("C".equals(className)) {
    type=program.getTypePrimitiveChar();
  }
 else   if ("D".equals(className)) {
    type=program.getTypePrimitiveDouble();
  }
 else   if ("F".equals(className)) {
    type=program.getTypePrimitiveFloat();
  }
 else   if ("I".equals(className)) {
    type=program.getTypePrimitiveInt();
  }
 else   if ("J".equals(className)) {
    type=program.getTypePrimitiveLong();
  }
 else   if ("S".equals(className)) {
    type=program.getTypePrimitiveShort();
  }
 else   if ("V".equals(className)) {
    type=program.getTypeVoid();
  }
 else {
    type=getFromTypeMap(className);
  }
  if (type == null || dim == 0) {
    return type;
  }
 else {
    return getTypeArray(type,dim);
  }
}
