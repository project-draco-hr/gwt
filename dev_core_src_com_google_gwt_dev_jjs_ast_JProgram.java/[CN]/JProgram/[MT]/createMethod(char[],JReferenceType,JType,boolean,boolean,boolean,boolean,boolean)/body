{
  assert(name != null);
  assert(returnType != null);
  assert(!isAbstract || !isNative);
  JMethod x;
  String sname=String.valueOf(name);
  if (isNative) {
    x=new JsniMethod(this,sname,enclosingType,returnType,isStatic,isFinal,isPrivate);
  }
 else {
    x=new JMethod(this,sname,enclosingType,returnType,isAbstract,isStatic,isFinal,isPrivate);
  }
  if (sname.equals(FindDeferredBindingSitesVisitor.REBIND_MAGIC_METHOD) && enclosingType.getName().equals(FindDeferredBindingSitesVisitor.REBIND_MAGIC_CLASS)) {
    rebindCreateMethod=x;
  }
 else   if (!isPrivate && specialTypes.contains(enclosingType)) {
    specialMethods.put(enclosingType.getShortName() + '.' + sname,x);
  }
  if (enclosingType != null) {
    enclosingType.methods.add(x);
  }
  return x;
}
