{
  clearItems();
  int row=0;
  int i=0;
  while (true) {
    for (int column=0; column < getColumnsPerRow(); column++) {
      if (!colors.hasNext()) {
        if (i == 0) {
          throw new IllegalStateException("Cannot populate a color picker with 0 colors!");
        }
        return;
      }
      ColorItem item=new ColorItem(i,colors.next());
      format(item.getElement(),item.getColor());
      getLayout().setWidget(row,column,item);
      ++i;
    }
    ++row;
  }
}
