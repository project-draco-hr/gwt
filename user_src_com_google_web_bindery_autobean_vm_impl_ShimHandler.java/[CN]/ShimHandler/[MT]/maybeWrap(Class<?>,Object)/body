{
  if (toReturn == null) {
    return null;
  }
  AutoBean<?> returnBean=AutoBeanUtils.getAutoBean(toReturn);
  if (returnBean != null) {
    return returnBean.as();
  }
  if (TypeUtils.isValueType(intf) || TypeUtils.isValueType(toReturn.getClass()) || bean.getConfiguration().getNoWrap().contains(intf)) {
    return toReturn;
  }
  if (toReturn.getClass().isArray()) {
    return toReturn;
  }
  ProxyAutoBean<Object> newBean=new ProxyAutoBean<Object>(bean.getFactory(),intf,bean.getConfiguration(),toReturn);
  return newBean.as();
}
