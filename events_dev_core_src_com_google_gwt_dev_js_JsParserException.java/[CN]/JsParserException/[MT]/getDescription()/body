{
  StringBuffer sb=new StringBuffer();
  if (sourceDetail != null) {
    sb.append("Line ");
    sb.append(sourceDetail.getLine());
    sb.append(": ");
    sb.append(getMessage());
    sb.append("\n");
    sb.append("> ");
    sb.append(sourceDetail.getLineSource());
    sb.append("\n> ");
    for (int i=0, n=sourceDetail.getLineOffset(); i < n; ++i) {
      sb.append('-');
    }
    sb.append('^');
  }
 else {
    sb.append(getMessage());
  }
  return sb.toString();
}
