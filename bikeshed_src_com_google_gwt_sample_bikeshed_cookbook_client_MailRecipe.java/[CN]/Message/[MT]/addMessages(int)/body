{
  Date now=new Date();
  Random rand=new Random();
  for (int i=0; i < count; i++) {
    long dateOffset=rand.nextInt(60 * 60 * 24* 90) * 1000L;
    Message message=new Message(messageId++,senders[rand.nextInt(senders.length)],subjects[rand.nextInt(subjects.length)],new Date(now.getTime() - dateOffset));
    message.isRead=rand.nextBoolean();
    messages.add(message);
  }
  sortMessages(lastComparator,lastSortUp);
  messageIdsLabel.setText("Maximum message ID = " + (messageId - 1));
}
