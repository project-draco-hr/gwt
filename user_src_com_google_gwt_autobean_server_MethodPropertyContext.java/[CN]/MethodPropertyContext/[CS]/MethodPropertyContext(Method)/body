{
  this.type=getter.getReturnType();
  if (Collection.class.isAssignableFrom(getType())) {
    elementType=TypeUtils.ensureBaseType(TypeUtils.getSingleParameterization(Collection.class,getter.getGenericReturnType(),getter.getReturnType()));
    keyType=valueType=null;
  }
 else   if (Map.class.isAssignableFrom(getType())) {
    Type[] types=TypeUtils.getParameterization(Map.class,getter.getGenericReturnType());
    keyType=TypeUtils.ensureBaseType(types[0]);
    valueType=TypeUtils.ensureBaseType(types[1]);
    elementType=null;
  }
 else {
    elementType=keyType=valueType=null;
  }
}
