{
  this.parser=parser;
  String templatePath="TemplatePath.ui.xml";
  String implName="ImplClass";
  CompilationState state=CompilationStateBuilder.buildFrom(createLogger(),getUiResources());
  types=state.getTypeOracle();
  elemProvider=new XMLElementProviderImpl(new AttributeParsers(types,null,logger),null,types,logger);
  fieldManager=new FieldManager(types,logger);
  JClassType baseType=types.findType("my.Ui.BaseClass");
  MessagesWriter messages=new MessagesWriter(BINDER_URI,logger,templatePath,baseType.getPackage().getName(),implName);
  writer=new MockUiBinderWriter(baseType,implName,templatePath,types,logger,fieldManager,messages);
  fieldManager.registerField(types.findType(parsedTypeName),FIELD_NAME);
  parsedType=types.findType(parsedTypeName);
}
