{
  if (signature != null)   return signature;
  StringBuffer buffer=new StringBuffer(parameters.length + 1 * 20);
  buffer.append('(');
  TypeBinding[] targetParameters=this.parameters;
  boolean isConstructor=isConstructor();
  if (isConstructor && declaringClass.isEnum()) {
    buffer.append(ConstantPool.JavaLangStringSignature);
    buffer.append(TypeBinding.INT.signature());
  }
  boolean needSynthetics=isConstructor && declaringClass.isNestedType();
  if (needSynthetics) {
    ReferenceBinding[] syntheticArgumentTypes=declaringClass.syntheticEnclosingInstanceTypes();
    if (syntheticArgumentTypes != null) {
      for (int i=0, count=syntheticArgumentTypes.length; i < count; i++) {
        buffer.append(syntheticArgumentTypes[i].signature());
      }
    }
    if (this instanceof SyntheticMethodBinding) {
      targetParameters=((SyntheticMethodBinding)this).targetMethod.parameters;
    }
  }
  if (targetParameters != Binding.NO_PARAMETERS) {
    for (int i=0; i < targetParameters.length; i++) {
      buffer.append(targetParameters[i].signature());
    }
  }
  if (needSynthetics) {
    SyntheticArgumentBinding[] syntheticOuterArguments=declaringClass.syntheticOuterLocalVariables();
    int count=syntheticOuterArguments == null ? 0 : syntheticOuterArguments.length;
    for (int i=0; i < count; i++) {
      buffer.append(syntheticOuterArguments[i].type.signature());
    }
    for (int i=targetParameters.length, extraLength=parameters.length; i < extraLength; i++) {
      buffer.append(parameters[i].signature());
    }
  }
  buffer.append(')');
  if (this.returnType != null)   buffer.append(this.returnType.signature());
  int nameLength=buffer.length();
  signature=new char[nameLength];
  buffer.getChars(0,nameLength,signature,0);
  return signature;
}
