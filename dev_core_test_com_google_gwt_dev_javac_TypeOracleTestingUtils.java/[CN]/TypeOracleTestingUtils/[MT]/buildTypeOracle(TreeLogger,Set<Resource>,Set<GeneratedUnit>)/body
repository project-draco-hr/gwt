{
  CompilationState state=CompilationStateBuilder.buildFrom(logger,resources);
  Set<CompilationUnit> units=new HashSet<CompilationUnit>();
  for (  GeneratedUnit unit : generatedUnits) {
    units.add(new GeneratedSourceFileCompilationUnit(unit));
  }
  state.addGeneratedCompilationUnits(logger,units);
  return state.getTypeOracle();
}
