{
  Options options=new Options();
  if (args.length == 1) {
    options.recurse=false;
    options.resource=new File(args[0]);
    verifyResourceExists(options.resource);
    options.singleFile=!options.resource.isDirectory();
    return options;
  }
  if (args.length != 2) {
    printUsage();
    System.exit(-1);
  }
  String fileName=args[0];
  if (args[0].trim().equals("-r")) {
    fileName=args[1];
  }
  options.recurse=true;
  options.resource=new File(fileName);
  verifyResourceExists(options.resource);
  if (!options.resource.isDirectory()) {
    System.err.println("When using -r second parameter needs to be a directory");
    System.exit(-1);
  }
  return options;
}
