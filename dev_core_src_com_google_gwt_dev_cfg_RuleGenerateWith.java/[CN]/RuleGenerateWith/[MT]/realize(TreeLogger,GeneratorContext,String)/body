{
  String msg="Invoking " + toString();
  logger=logger.branch(TreeLogger.DEBUG,msg,null);
  if (context instanceof StandardGeneratorContext) {
    ((StandardGeneratorContext)context).setCurrentGenerator(generator.getClass());
  }
  long before=System.currentTimeMillis();
  String className=generator.generate(logger,context,typeName);
  long after=System.currentTimeMillis();
  if (className == null) {
    msg="Generator returned null, so the requested type will be used as is";
  }
 else {
    msg="Generator returned class '" + className + "'";
  }
  logger.log(TreeLogger.DEBUG,msg,null);
  msg="Finished in " + (after - before) + " ms";
  logger.log(TreeLogger.DEBUG,msg,null);
  return className;
}
