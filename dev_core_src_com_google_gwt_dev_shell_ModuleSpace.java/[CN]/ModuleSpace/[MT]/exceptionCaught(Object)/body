{
  Throwable caught;
  Throwable thrown=sThrownJavaExceptionObject.get();
  if (thrown != null && isExceptionSame(thrown,exception)) {
    caught=thrown;
    sThrownJavaExceptionObject.set(null);
  }
 else   if (exception instanceof Throwable) {
    caught=(Throwable)exception;
  }
 else {
    caught=createJavaScriptException(getIsolatedClassLoader(),exception);
  }
  sCaughtJavaExceptionObject.set(caught);
}
