{
  JSONArray jsonArray=new JSONArray();
  if (resultList.size() == 0) {
    return jsonArray;
  }
  for (  Object entityElement : resultList) {
    if (entityElement instanceof Number || entityElement instanceof String || entityElement instanceof Character|| entityElement instanceof Date|| entityElement instanceof Boolean|| entityElement instanceof Enum) {
      jsonArray.put(encodePropertyValue(entityElement));
    }
 else     if (entityElement instanceof List || entityElement instanceof Set) {
      jsonArray.put(getJsonArray((Collection<?>)entityElement,entityKeyClass));
    }
 else {
      jsonArray.put(getJsonObject(entityElement,entityKeyClass,propertyRefs));
    }
  }
  return jsonArray;
}
