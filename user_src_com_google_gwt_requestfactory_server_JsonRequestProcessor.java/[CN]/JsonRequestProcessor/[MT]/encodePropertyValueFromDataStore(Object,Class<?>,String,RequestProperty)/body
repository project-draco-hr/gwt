{
  String methodName=getMethodNameFromPropertyName(propertyName,"get");
  Method method=entityElement.getClass().getMethod(methodName);
  Object returnValue=method.invoke(entityElement);
  if (returnValue != null && EntityProxy.class.isAssignableFrom(propertyType)) {
    Method idMethod=returnValue.getClass().getMethod("getId");
    Long id=(Long)idMethod.invoke(returnValue);
    String keyRef=operationRegistry.getSecurityProvider().encodeClassType(propertyType) + "-" + id;
    addRelatedObject(keyRef,returnValue,castToRecordClass(propertyType),propertyContext.getProperty(propertyName));
    return keyRef;
  }
  return encodePropertyValue(returnValue);
}
