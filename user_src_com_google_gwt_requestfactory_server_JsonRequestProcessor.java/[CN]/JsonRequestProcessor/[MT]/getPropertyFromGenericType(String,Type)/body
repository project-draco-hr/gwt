{
  if (type instanceof ParameterizedType) {
    ParameterizedType pType=(ParameterizedType)type;
    Class<?> rawType=(Class<Object>)pType.getRawType();
    Type[] typeArgs=pType.getActualTypeArguments();
    if (Collection.class.isAssignableFrom(rawType)) {
      if (typeArgs.length == 1) {
        Type leafType=typeArgs[0];
        if (leafType instanceof Class) {
          return new CollectionProperty(propertyName,rawType,(Class)leafType);
        }
      }
    }
  }
 else {
    return new Property<Object>(propertyName,(Class<Object>)type);
  }
  return null;
}
