{
  super(parent);
  newWindow=newItem("new-window.gif","&Hosted Browser","Opens a new hosted mode browser window for debugging");
  newWindow.addSelectionListener(new SelectionAdapter(){
    @Override public void widgetSelected(    SelectionEvent event){
      String startupUrl=browserWindowController.normalizeURL("/");
      try {
        BrowserWidget bw=browserWindowController.openNewBrowserWindow();
        bw.go(startupUrl);
      }
 catch (      UnableToCompleteException e) {
        getLogger().log(TreeLogger.ERROR,"Unable to open a new hosted browser window",e);
      }
    }
  }
);
  newSeparator();
  collapseAll=newItem("collapse.gif","&Collapse All","Collapses all log entries");
  collapseAll.addSelectionListener(new SelectionAdapter(){
    @Override public void widgetSelected(    SelectionEvent e){
      logPane.collapseAll();
    }
  }
);
  expandAll=newItem("expand.gif","&Expand All","Expands all log entries");
  expandAll.addSelectionListener(new SelectionAdapter(){
    @Override public void widgetSelected(    SelectionEvent e){
      logPane.expandAll();
    }
  }
);
  clearLog=newItem("clear-log.gif","Clear &Log","Removes all log entries");
  clearLog.addSelectionListener(new SelectionAdapter(){
    @Override public void widgetSelected(    SelectionEvent e){
      logPane.removeAll();
    }
  }
);
  newSeparator();
  about=newItem("about.gif","    &About    ","About...");
  about.addSelectionListener(new SelectionAdapter(){
    @Override public void widgetSelected(    SelectionEvent e){
      String aboutHtml=Util.getFileFromInstallPath("about.html");
      if (aboutHtml != null) {
        String serial=verify("TwysxNpVumPBvFyBoxzLy");
        StringBuffer sb=new StringBuffer();
        sb.append("<div style='overflow:hidden;width:100%;white-space:nowrap;font-size:1px'><br/><br/><br/><br/><font style='background-color:gray;color:lightgrey'>");
        for (int i=0; i < 100; ++i) {
          sb.append(serial);
        }
        sb.append("</font></div>");
        serial=sb.toString();
        int pos;
        while ((pos=aboutHtml.indexOf("<hr/>")) >= 0) {
          aboutHtml=aboutHtml.substring(0,pos) + serial + aboutHtml.substring(pos + 5);
        }
        while ((pos=aboutHtml.indexOf("<body>")) >= 0) {
          aboutHtml=aboutHtml.substring(0,pos) + "<body oncontextmenu='return false'>" + aboutHtml.substring(pos + 6);
        }
      }
 else {
        aboutHtml="Could not locate 'about.html' in installation directory.";
      }
      BrowserDialog browserDialog=new BrowserDialog(getShell(),getLogger(),aboutHtml);
      browserDialog.open(true);
    }
  }
);
}
