{
  this.program=program;
  this.disableCastChecking=disableCastChecking;
  this.pruneTrivialCasts=pruneTrivialCasts;
  this.instanceOfMethodsByTargetTypeCategory.put(TypeCategory.TYPE_JAVA_OBJECT,program.getIndexedMethod("Cast.instanceOf"));
  this.instanceOfMethodsByTargetTypeCategory.put(TypeCategory.TYPE_JAVA_LANG_OBJECT,program.getIndexedMethod("Cast.instanceOfOrJso"));
  this.instanceOfMethodsByTargetTypeCategory.put(TypeCategory.TYPE_JAVA_OBJECT_OR_JSO,program.getIndexedMethod("Cast.instanceOfOrJso"));
  this.instanceOfMethodsByTargetTypeCategory.put(TypeCategory.TYPE_JSO,program.getIndexedMethod("Cast.instanceOfJso"));
  this.instanceOfMethodsByTargetTypeCategory.put(TypeCategory.TYPE_JS_PROTOTYPE,program.getIndexedMethod("Cast.instanceOfJsPrototype"));
  this.instanceOfMethodsByTargetTypeCategory.put(TypeCategory.TYPE_JS_FUNCTION,program.getIndexedMethod("Cast.instanceOfJsFunction"));
  for (  DispatchType nativeDispatchType : program.getRepresentedAsNativeTypesDispatchMap().values()) {
    this.instanceOfMethodsByTargetTypeCategory.put(nativeDispatchType.getTypeCategory(),program.getIndexedMethod(nativeDispatchType.getInstanceOfMethod()));
  }
  this.dynamicCastMethodsByTargetTypeCategory.put(TypeCategory.TYPE_JAVA_OBJECT,program.getIndexedMethod("Cast.dynamicCast"));
  this.dynamicCastMethodsByTargetTypeCategory.put(TypeCategory.TYPE_JAVA_LANG_OBJECT,program.getIndexedMethod("Cast.dynamicCastAllowJso"));
  this.dynamicCastMethodsByTargetTypeCategory.put(TypeCategory.TYPE_JAVA_OBJECT_OR_JSO,program.getIndexedMethod("Cast.dynamicCastAllowJso"));
  this.dynamicCastMethodsByTargetTypeCategory.put(TypeCategory.TYPE_JSO,program.getIndexedMethod("Cast.dynamicCastJso"));
  this.dynamicCastMethodsByTargetTypeCategory.put(TypeCategory.TYPE_JS_PROTOTYPE,program.getIndexedMethod("Cast.dynamicCastWithPrototype"));
  this.dynamicCastMethodsByTargetTypeCategory.put(TypeCategory.TYPE_JS_FUNCTION,program.getIndexedMethod("Cast.dynamicCastToJsFunction"));
  for (  DispatchType nativeDispatchType : program.getRepresentedAsNativeTypesDispatchMap().values()) {
    this.dynamicCastMethodsByTargetTypeCategory.put(nativeDispatchType.getTypeCategory(),program.getIndexedMethod(nativeDispatchType.getDynamicCastMethod()));
  }
}
