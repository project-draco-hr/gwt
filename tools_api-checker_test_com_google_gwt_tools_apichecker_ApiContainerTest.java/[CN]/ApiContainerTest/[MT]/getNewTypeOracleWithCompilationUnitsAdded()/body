{
  AbstractTreeLogger logger=new PrintWriterTreeLogger();
  logger.setMaxDetail(TreeLogger.ERROR);
  TypeOracleMediator mediator=new TypeOracleMediator();
  Set<CompilationUnit> units=new HashSet<CompilationUnit>();
  units.add(cuObject);
  units.add(cuNonApiClass);
  units.add(cuApiClass);
  units.add(cuNonApiPackage);
  units.add(cuNewPackage);
  JdtCompiler.compile(units);
  mediator.refresh(logger,units);
  return mediator.getTypeOracle();
}
