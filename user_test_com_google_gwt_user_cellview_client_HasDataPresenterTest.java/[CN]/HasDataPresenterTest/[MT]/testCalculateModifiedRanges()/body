{
  HasData<String> listView=new MockHasData<String>();
  MockView<String> view=new MockView<String>();
  HasDataPresenter<String> presenter=new HasDataPresenter<String>(listView,view,10,null);
  TreeSet<Integer> rows=new TreeSet<Integer>();
  assertListContains(presenter.calculateModifiedRanges(rows,0,10));
  rows.add(5);
  assertListContains(presenter.calculateModifiedRanges(rows,0,10),new Range(5,1));
  assertListContains(presenter.calculateModifiedRanges(rows,6,10));
  rows.add(6);
  rows.add(7);
  rows.add(8);
  assertListContains(presenter.calculateModifiedRanges(rows,0,10),new Range(5,4));
  rows.add(10);
  rows.add(11);
  assertListContains(presenter.calculateModifiedRanges(rows,0,20),new Range(5,4),new Range(10,2));
  rows.add(15);
  rows.add(17);
  assertListContains(presenter.calculateModifiedRanges(rows,0,20),new Range(5,7),new Range(15,3));
}
