{
  String type=event.getType();
  boolean enterPressed="keydown".equals(type) && event.getKeyCode() == KeyCodes.KEY_ENTER;
  if ("change".equals(type) || enterPressed) {
    InputElement input=parent.getFirstChild().cast();
    Boolean isChecked=input.isChecked();
    if (enterPressed && (handlesSelection() || !dependsOnSelection())) {
      isChecked=!isChecked;
      input.setChecked(isChecked);
    }
    if (value != isChecked && !dependsOnSelection()) {
      setViewData(key,isChecked);
    }
 else {
      clearViewData(key);
    }
    if (valueUpdater != null) {
      valueUpdater.update(isChecked);
    }
  }
}
