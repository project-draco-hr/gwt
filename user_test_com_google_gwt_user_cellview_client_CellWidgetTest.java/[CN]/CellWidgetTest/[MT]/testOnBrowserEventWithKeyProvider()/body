{
  ProvidesKey<String> keyProvider=new ProvidesKey<String>(){
    public Object getKey(    String item){
      return (item == null) ? null : item.substring(0,1);
    }
  }
;
  CustomCell cell=new CustomCell();
  final CellWidget<String> cw=new CellWidget<String>(cell,"test",keyProvider);
  assertEquals("test",cw.getValue());
  assertEquals(keyProvider,cw.getKeyProvider());
  Event event=Document.get().createChangeEvent().cast();
  cw.onBrowserEvent(event);
  cell.assertLastEventKey("t");
  cell.assertLastEventValue("test");
  assertEquals("newValue",cw.getValue());
}
