{
  StringBuffer after=new StringBuffer();
  char[] chars=before.toCharArray();
  for (int i=0; i < chars.length; i++) {
    char c=chars[i];
    if (c == '_') {
      after.append("_1");
    }
 else     if (c == ';') {
      after.append("_2");
    }
 else     if (c == '[') {
      after.append("_3");
    }
 else     if (c == '/') {
      after.append('_');
    }
 else     if (Character.isJavaIdentifierPart(c)) {
      after.append(c);
    }
 else {
      throw new UnsupportedOperationException("Cannot handle non-ascii yet");
    }
  }
  return after.toString();
}
