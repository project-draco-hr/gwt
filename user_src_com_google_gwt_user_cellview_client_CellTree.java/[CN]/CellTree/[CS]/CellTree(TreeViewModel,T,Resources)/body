{
  this.viewModel=viewModel;
  this.style=resources.cellTreeStyle();
  this.style.ensureInjected();
  initWidget(new SimplePanel());
  setStyleName("gwt-StandardTreeView");
  ImageResource treeOpen=resources.cellTreeOpenItem();
  ImageResource treeClosed=resources.cellTreeClosedItem();
  ImageResource treeLoading=resources.cellTreeLoading();
  openImageHtml=getImageHtml(treeOpen,false);
  closedImageHtml=getImageHtml(treeClosed,false);
  openImageTopHtml=getImageHtml(treeOpen,true);
  closedImageTopHtml=getImageHtml(treeClosed,true);
  loadingImageHtml=getImageHtml(treeLoading,false);
  imageWidth=Math.max(Math.max(treeOpen.getWidth(),treeClosed.getWidth()),treeLoading.getWidth());
  setAnimation(SlideAnimation.create());
  sinkEvents(Event.ONCLICK);
  CellTreeNodeView<T> root=new CellTreeNodeView<T>(this,null,null,getElement(),rootValue);
  rootNode=root;
  root.setOpen(true);
}
