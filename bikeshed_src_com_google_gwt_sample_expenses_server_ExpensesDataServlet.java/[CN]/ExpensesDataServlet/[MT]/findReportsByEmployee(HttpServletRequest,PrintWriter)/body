{
  JSONArray jsonArray=new JSONArray();
  Long id=Long.valueOf(request.getParameter("id"));
  for (  Report r : Report.findReportsByEmployee(id)) {
    try {
      JSONObject jsonObject=new JSONObject();
      jsonObject.put(com.google.gwt.sample.expenses.shared.EmployeeRef.ID.getName(),Long.toString(r.getId()));
      jsonObject.put(com.google.gwt.sample.expenses.shared.ReportRef.VERSION.getName(),r.getVersion().intValue());
      jsonObject.put(com.google.gwt.sample.expenses.shared.ReportRef.CREATED.getName(),Double.valueOf(r.getCreated().getTime()));
      jsonObject.put(com.google.gwt.sample.expenses.shared.ReportRef.PURPOSE.getName(),r.getPurpose());
      jsonArray.put(jsonObject);
    }
 catch (    JSONException ex) {
      System.err.println("Unable to create a JSON object " + ex);
    }
  }
  writer.print(jsonArray.toString());
}
