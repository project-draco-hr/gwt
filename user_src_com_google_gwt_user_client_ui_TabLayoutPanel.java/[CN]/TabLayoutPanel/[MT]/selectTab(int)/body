{
  checkIndex(index);
  if (index == selectedIndex) {
    return;
  }
  BeforeSelectionEvent<Integer> event=BeforeSelectionEvent.fire(this,index);
  if ((event != null) && event.isCanceled()) {
    return;
  }
  if (selectedIndex != -1) {
    Layer layer=panel.getLayer(children.get(selectedIndex));
    layer.getContainerElement().getStyle().setVisibility(Visibility.HIDDEN);
    tabs.get(selectedIndex).setSelected(false);
  }
  Layer layer=panel.getLayer(children.get(index));
  layer.getContainerElement().getStyle().setVisibility(Visibility.VISIBLE);
  tabs.get(index).setSelected(true);
  selectedIndex=index;
  SelectionEvent.fire(this,index);
}
