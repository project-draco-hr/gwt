{
  checkThread();
  Vector temp;
synchronized (toBeReleasedLock) {
    temp=toBeReleased;
    toBeReleased=new Vector();
  }
  for (Iterator iter=temp.iterator(); iter.hasNext(); ) {
    JsCleanup cleanup=(JsCleanup)iter.next();
    cleanup.doCleanup();
  }
  temp.clear();
}
