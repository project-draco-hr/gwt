{
  SingleSelectionModel<String> model=new SingleSelectionModel<String>();
  display.setSelectionModel(model);
  model.setSelected("test 0",true);
  NativeEvent nativeEvent=Document.get().createClickEvent(0,0,0,0,0,false,false,false,false);
  CellPreviewEvent<String> event=new CellPreviewEvent<String>(nativeEvent,display,1,0,"test 1",false,false);
  manager.handleSelectionEvent(event,null,model);
  assertEquals("test 1",model.getSelectedObject());
  manager.handleSelectionEvent(event,null,model);
  assertEquals("test 1",model.getSelectedObject());
  nativeEvent=Document.get().createClickEvent(0,0,0,0,0,true,false,false,true);
  event=new CellPreviewEvent<String>(nativeEvent,display,1,0,"test 1",false,false);
  manager.handleSelectionEvent(event,null,model);
  assertNull(model.getSelectedObject());
  nativeEvent=Document.get().createKeyUpEvent(false,false,false,false,32);
  event=new CellPreviewEvent<String>(nativeEvent,display,2,0,"test 2",false,false);
  manager.handleSelectionEvent(event,null,model);
  assertEquals("test 2",model.getSelectedObject());
  manager.handleSelectionEvent(event,null,model);
  assertNull(model.getSelectedObject());
}
