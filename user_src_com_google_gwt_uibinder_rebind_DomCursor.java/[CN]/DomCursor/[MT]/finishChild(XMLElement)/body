{
  if (!writer.getMessages().isMessage(elem) && !isPlaceholderElement(elem)) {
    pathComponents.removeLast();
    writer.addInitComment("finish DomCursor %s",this.toString());
    String tag=elem.getLocalName();
    if ("p".equalsIgnoreCase(tag)) {
      endParagraph();
    }
    if (isInsideParagraph() && isUnsafeParagraphTag(tag)) {
      paragraphs.getLast().endUnsafeTag();
    }
  }
}
