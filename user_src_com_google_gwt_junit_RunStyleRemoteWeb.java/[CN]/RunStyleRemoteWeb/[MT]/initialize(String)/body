{
  if (args == null || args.length() == 0) {
    throw new JUnitFatalLaunchException("RemoteWeb runstyle requires comma-separated RMI URLs");
  }
  String[] urls=args.split(",");
  try {
    RMISocketFactoryWithTimeouts.init();
  }
 catch (  IOException e) {
    throw new JUnitFatalLaunchException("Error initializing RMISocketFactory",e);
  }
  int numClients=urls.length;
  BrowserManager[] browserManagers=new BrowserManager[numClients];
  for (int i=0; i < numClients; ++i) {
    long callStart=System.currentTimeMillis();
    try {
      browserManagers[i]=(BrowserManager)Naming.lookup(urls[i]);
    }
 catch (    Exception e) {
      String message="Error connecting to browser manager at " + urls[i];
      Throwable cause=e;
      if (e.getCause() instanceof SocketTimeoutException) {
        long elapsed=System.currentTimeMillis() - callStart;
        message+=" - Timeout " + elapsed + "ms waiting to connect to browser manager.";
        cause=e.getCause();
      }
      System.err.println(message);
      cause.printStackTrace();
      throw new JUnitFatalLaunchException(message,cause);
    }
  }
synchronized (this) {
    this.remoteBrowsers=new RemoteBrowser[browserManagers.length];
    for (int i=0; i < browserManagers.length; ++i) {
      remoteBrowsers[i]=new RemoteBrowser(browserManagers[i],urls[i]);
    }
  }
  Runtime.getRuntime().addShutdownHook(new ShutdownCb());
  return true;
}
