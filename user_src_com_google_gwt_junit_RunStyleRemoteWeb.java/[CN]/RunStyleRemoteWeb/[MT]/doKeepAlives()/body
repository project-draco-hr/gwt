{
  for (  RemoteBrowser remoteBrowser : remoteBrowsers) {
    if (remoteBrowser.getToken() > 0) {
      long callStart=System.currentTimeMillis();
      try {
        remoteBrowser.getManager().keepAlive(remoteBrowser.getToken(),PING_KEEPALIVE_MS);
      }
 catch (      Exception e) {
        Throwable cause=e.getCause();
        String rmiUrl=remoteBrowser.getRmiUrl();
        if (cause instanceof SocketTimeoutException) {
          long elapsed=System.currentTimeMillis() - callStart;
          throw new TimeoutException("Timeout: " + elapsed + "ms  keeping alive remote browser at: "+ rmiUrl,e.getCause());
        }
 else         if (e instanceof IllegalStateException) {
          getLogger().log(TreeLogger.INFO,"Browser at: " + rmiUrl + " already exited.",e);
        }
 else {
          getLogger().log(TreeLogger.ERROR,"Error keeping alive remote browser at " + rmiUrl,e);
        }
        remoteBrowser.setToken(0);
synchronized (wasInterruptedLock) {
          if (interruptedHosts == null) {
            interruptedHosts=new HashSet<String>();
          }
          interruptedHosts.add(remoteBrowser.getRmiUrl());
        }
        break;
      }
    }
  }
synchronized (wasInterruptedLock) {
    return interruptedHosts == null;
  }
}
