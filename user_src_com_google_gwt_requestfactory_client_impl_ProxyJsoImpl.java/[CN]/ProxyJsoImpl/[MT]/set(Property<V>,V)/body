{
  if (value == null) {
    setNull(property.getName());
    return;
  }
  if (value instanceof String) {
    setString(property.getName(),(String)value);
    return;
  }
  if (value instanceof Character) {
    setString(property.getName(),String.valueOf(value));
    return;
  }
  if (value instanceof Long || value instanceof BigDecimal || value instanceof BigInteger) {
    setString(property.getName(),String.valueOf(value));
    return;
  }
  if (value instanceof Integer || value instanceof Short || value instanceof Byte) {
    setInt(property.getName(),((Number)value).intValue());
    return;
  }
  if (value instanceof Date) {
    long millis=((Date)value).getTime();
    setString(property.getName(),String.valueOf(millis));
    return;
  }
  if (value instanceof Double || value instanceof Float) {
    setDouble(property.getName(),((Number)value).doubleValue());
    return;
  }
  if (value instanceof Enum<?>) {
    setInt(property.getName(),((Enum<?>)value).ordinal());
    return;
  }
  if (value instanceof Boolean) {
    setBoolean(property.getName(),((Boolean)value).booleanValue());
    return;
  }
  if (value instanceof ProxyImpl) {
    setString(property.getName(),((ProxyImpl)value).getWireFormatId());
    return;
  }
  if (value instanceof JsoCollection) {
    setJso(property.getName(),((JsoCollection)value).asJso());
    return;
  }
 else   if (value instanceof Collection) {
    JavaScriptObject jso=JavaScriptObject.createArray();
    for (    Object o : ((Collection)value)) {
      o=encodeToJsType(o);
      if (o instanceof String) {
        ((JsArrayString)jso).push((String)o);
      }
 else       if (o instanceof Double) {
        ((JsArrayNumber)jso).push((Double)o);
      }
 else       if (o instanceof Boolean) {
        pushBoolean(jso,(Boolean)o);
      }
    }
    setJso(property.getName(),jso);
    return;
  }
  throw new UnsupportedOperationException("Cannot set properties of type " + value.getClass().getName());
}
