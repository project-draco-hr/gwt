{
  if (derivedOnly && accumulator.size() == filter.size()) {
    return;
  }
  for (  Map.Entry<Axis,Correlation> entry : correlations.entrySet()) {
    Axis key=entry.getKey();
    boolean containsKey=accumulator.containsKey(key);
    Correlation value=entry.getValue();
    if (containsKey) {
      if (!derivedOnly) {
        accumulator.get(key).add(value);
      }
    }
 else     if (filter.contains(key)) {
      Set<Correlation> set=new HashSet<Correlation>();
      set.add(value);
      accumulator.put(key,derivedOnly ? Collections.unmodifiableSet(set) : set);
    }
  }
  if (parent != null) {
    parent.findCorrelations(accumulator,filter,derivedOnly);
  }
  for (  SourceInfo info : additionalAncestors) {
    info.findCorrelations(accumulator,filter,derivedOnly);
  }
  if (!derivedOnly) {
    for (    SourceInfo info : supertypeAncestors) {
      info.findCorrelations(accumulator,filter,derivedOnly);
    }
  }
}
