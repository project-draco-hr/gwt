{
  if (parent == null && additionalAncestors.isEmpty()) {
    return Collections.unmodifiableSet(new HashSet<SourceInfo>(Collections.singleton(this)));
  }
 else   if (additionalAncestors.size() == 0) {
    return parent.getRoots();
  }
  Set<SourceInfo> roots;
  if (lazyRoots != null && (roots=lazyRoots.get()) != null) {
    return roots;
  }
  roots=new HashSet<SourceInfo>();
  if (parent == null) {
    roots.add(this);
  }
 else {
    roots.addAll(parent.getRoots());
  }
  for (  SourceInfo ancestor : additionalAncestors) {
    roots.addAll(ancestor.getRoots());
  }
  Set<SourceInfo> toReturn=Collections.unmodifiableSet(roots);
  lazyRoots=new SoftReference<Set<SourceInfo>>(toReturn);
  return toReturn;
}
