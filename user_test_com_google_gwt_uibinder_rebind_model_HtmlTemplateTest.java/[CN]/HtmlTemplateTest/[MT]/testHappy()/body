{
  Tokenator t=new Tokenator();
  HtmlTemplates templates=new HtmlTemplates();
  HtmlTemplate h=new HtmlTemplate("<DialogBox id=\'" + t.nextToken("\" + domId0 + \"") + "\'>this is a dialog box</DialogBox>",t,templates);
  String[] expectedTemplates={"@Template(\"<DialogBox id=\'{0}\'>this is a dialog box</DialogBox>\")","SafeHtml html1(String arg0);"," "};
  Iterator<String> j=h.getTemplate().iterator();
  for (  String et : expectedTemplates) {
    assertEquals(et,j.next());
  }
  assertFalse(j.hasNext());
  String expectedCall="template.html1(domId0).asString()";
  assertEquals(h.writeTemplateCall(),expectedCall);
}
