{
  Set<String> out=new HashSet<String>(){
    @Override public boolean remove(    Object o){
      boolean removed=(DiskCache.this.remove(o)) != null;
      super.remove(o);
      return removed;
    }
  }
;
  out.addAll(cache.keySet());
  if (directory != null) {
    possiblyCreateCacheDirectory();
    File[] entries=directory.listFiles();
    for (int i=0; i < entries.length; i++) {
      out.add(new FileEntry(entries[i].getName()).getKey());
    }
  }
  return out;
}
