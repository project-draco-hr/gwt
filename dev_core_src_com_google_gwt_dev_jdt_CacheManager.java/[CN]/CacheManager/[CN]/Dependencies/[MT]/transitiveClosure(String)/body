{
  String current=filename;
  TreeSet queue=new TreeSet();
  Set finished=new HashSet();
  queue.add(filename);
  while (true) {
    finished.add(current);
    Set children=get(current);
    if (children != null) {
      for (Iterator iter=children.iterator(); iter.hasNext(); ) {
        String child=(String)iter.next();
        if (!finished.contains(child)) {
          queue.add(child);
        }
      }
    }
    if (queue.size() == 0) {
      return finished;
    }
 else {
      current=(String)queue.first();
      queue.remove(current);
    }
  }
}
