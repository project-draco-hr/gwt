{
  String current=filename;
  TreeSet<String> queue=new TreeSet<String>();
  Set<String> finished=new HashSet<String>();
  queue.add(filename);
  while (true) {
    finished.add(current);
    Set<String> children=get(current);
    if (children != null) {
      for (Iterator<String> iter=children.iterator(); iter.hasNext(); ) {
        String child=iter.next();
        if (!finished.contains(child)) {
          queue.add(child);
        }
      }
    }
    if (queue.size() == 0) {
      return finished;
    }
 else {
      current=queue.first();
      queue.remove(current);
    }
  }
}
