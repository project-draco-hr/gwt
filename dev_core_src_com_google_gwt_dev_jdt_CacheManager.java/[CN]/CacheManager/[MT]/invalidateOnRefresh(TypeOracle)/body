{
  changedFiles.addAll(generatedCupLocations);
  addDependentsToChangedFiles();
  for (Iterator<String> iter=changedFiles.iterator(); iter.hasNext(); ) {
    String location=iter.next();
    CompilationUnitProvider cup=getCupsByLocation().get(location);
    unitsByCup.remove(location);
    Util.invokeInaccessableMethod(TypeOracle.class,"invalidateTypesInCompilationUnit",new Class[]{CompilationUnitProvider.class},typeOracle,new Object[]{cup});
  }
  astCompiler.invalidateChangedFiles(changedFiles,invalidatedTypes);
}
