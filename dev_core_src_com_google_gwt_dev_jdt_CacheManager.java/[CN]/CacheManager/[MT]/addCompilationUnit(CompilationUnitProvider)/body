{
  Long lastModified=new Long(cup.getLastModified());
  if (isCupUnchanged(cup,lastModified)) {
    return;
  }
  CompilationUnitProvider oldCup=getCup(cup);
  if (oldCup != null) {
    addedCups.remove(oldCup);
    markCupChanged(cup);
  }
  timesByLocation.put(cup.getLocation(),lastModified);
  cupsByLocation.put(cup.getLocation(),cup);
  addedCups.add(cup);
}
