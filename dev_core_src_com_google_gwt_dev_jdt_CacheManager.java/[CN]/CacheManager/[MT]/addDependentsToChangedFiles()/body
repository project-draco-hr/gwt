{
  final Dependencies dependencies=new Dependencies();
  DependencyVisitor trv=new DependencyVisitor(dependencies);
  for (Iterator iter=cudsByFileName.values().iterator(); iter.hasNext(); ) {
    CompilationUnitDeclaration cud=(CompilationUnitDeclaration)iter.next();
    cud.traverse(trv,cud.scope);
  }
  Set toTraverse=new HashSet(changedFiles);
  for (Iterator iter=toTraverse.iterator(); iter.hasNext(); ) {
    String fileName=(String)iter.next();
    changedFiles.addAll(dependencies.transitiveClosure(fileName));
  }
}
