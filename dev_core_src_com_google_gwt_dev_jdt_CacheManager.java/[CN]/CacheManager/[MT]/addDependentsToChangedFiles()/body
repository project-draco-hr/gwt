{
  final Dependencies dependencies=new Dependencies();
  DependencyVisitor trv=new DependencyVisitor(dependencies);
  for (  CompilationUnitDeclaration cud : cudsByFileName.values()) {
    cud.traverse(trv,cud.scope);
  }
  Set<String> toTraverse=new HashSet<String>(changedFiles);
  for (Iterator<String> iter=toTraverse.iterator(); iter.hasNext(); ) {
    String fileName=iter.next();
    changedFiles.addAll(dependencies.transitiveClosure(fileName));
  }
}
