{
  int offsetTop=target.getSubMenu().getAbsoluteTop() - getAbsoluteTop();
  int top=target.getAbsoluteTop() - offsetTop;
  int leftIfTowardEast=rightOf(MenuBar.this);
  int leftIfTowardWest=leftOf(MenuBar.this) - getOffsetWidth();
  int overflowIfTowardsEast=leftIfTowardEast + getOffsetWidth() - getClientRight();
  int overflowIfTowardsWest=getClientLeft() - leftIfTowardWest;
  selectDirection(overflowIfTowardsEast,overflowIfTowardsWest);
  int left=towardsEast ? leftIfTowardEast : leftIfTowardWest;
  setPositionInClient(left,top);
}
