{
  if (w == toReplace) {
    return layer;
  }
  if (w != null) {
    w.asWidget().removeFromParent();
  }
  if (toReplace != null) {
    remove(toReplace);
  }
  Layer toRet=null;
  if (w != null) {
    toRet=layout.attachChild(w.asWidget().getElement());
    adopt(w.asWidget());
  }
  return toRet;
}
