{
  String newPath=destPrefix + src.getPartialPath();
  try {
    OutputStream out=dest.openForWrite(newPath,src.getLastModified());
    try {
      src.writeTo(log,out);
    }
  finally {
      out.close();
    }
  }
 catch (  IOException e) {
    log.log(TreeLogger.ERROR,"Fatal error emitting artifact: " + newPath,e);
    throw new UnableToCompleteException();
  }
}
