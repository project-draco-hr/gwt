{
  if (OS.HIVIEW) {
    int inOp=above ? OS.kHIViewZOrderAbove : OS.kHIViewZOrderBelow;
    OS.HIViewSetZOrder(control,inOp,otheControl);
    invalidateVisibleRegion(control);
  }
 else {
    int inOp=above ? OS.kHIViewZOrderBelow : OS.kHIViewZOrderAbove;
    int oldRgn=0;
    boolean drawing=isDrawing(control);
    if (drawing)     oldRgn=getVisibleRegion(control,false);
    OS.HIViewSetZOrder(control,inOp,otheControl);
    invalidateVisibleRegion(control);
    if (drawing) {
      int newRgn=getVisibleRegion(control,false);
      if (above) {
        OS.DiffRgn(newRgn,oldRgn,newRgn);
      }
 else {
        OS.DiffRgn(oldRgn,newRgn,newRgn);
      }
      int window=OS.GetControlOwner(control);
      invalWindowRgn(window,newRgn);
      OS.DisposeRgn(oldRgn);
      OS.DisposeRgn(newRgn);
    }
  }
}
