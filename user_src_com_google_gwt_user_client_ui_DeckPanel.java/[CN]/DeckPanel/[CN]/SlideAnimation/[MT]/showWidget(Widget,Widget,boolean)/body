{
  cancel();
  Element newContainer=getContainer(newWidget);
  int newIndex=DOM.getChildIndex(DOM.getParent(newContainer),newContainer);
  if (oldWidget == null) {
    UIObject.setVisible(newContainer,true);
    return;
  }
  Element oldContainer=getContainer(oldWidget);
  int oldIndex=DOM.getChildIndex(DOM.getParent(oldContainer),oldContainer);
  if (newIndex > oldIndex) {
    container1=oldContainer;
    container2=newContainer;
    growing=false;
  }
 else {
    container1=newContainer;
    container2=oldContainer;
    growing=true;
  }
  fixedHeight=DOM.getElementPropertyInt(oldContainer,"offsetHeight");
  if (fixedHeight == oldWidget.getOffsetHeight()) {
    fixedHeight=-1;
  }
  if (animate) {
    run(350);
  }
 else {
    onInstantaneousRun();
  }
}
