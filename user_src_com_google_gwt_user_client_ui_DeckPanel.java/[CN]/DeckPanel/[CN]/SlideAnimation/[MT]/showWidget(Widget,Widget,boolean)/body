{
  cancel();
  Element newContainer=getContainer(newWidget);
  int newIndex=DOM.getChildIndex(DOM.getParent(newContainer),newContainer);
  if (oldWidget == null) {
    UIObject.setVisible(newContainer,true);
    newWidget.setVisible(true);
    return;
  }
  this.oldWidget=oldWidget;
  Element oldContainer=getContainer(oldWidget);
  int oldIndex=DOM.getChildIndex(DOM.getParent(oldContainer),oldContainer);
  if (newIndex > oldIndex) {
    container1=oldContainer;
    container2=newContainer;
    growing=false;
  }
 else {
    container1=newContainer;
    container2=oldContainer;
    growing=true;
  }
  if (animate) {
    run(ANIMATION_DURATION);
  }
 else {
    onInstantaneousRun();
  }
  newWidget.setVisible(true);
}
