{
  ModuleDef moduleDef=(ModuleDef)loadedModules.get(moduleName);
  if (moduleDef == null || moduleDef.isGwtXmlFileStale()) {
    moduleDef=new ModuleDefLoader().load(logger,moduleName);
    if (enableCachingModules) {
      loadedModules.put(moduleName,moduleDef);
    }
  }
 else {
    if (refresh) {
      moduleDef.refresh(logger);
    }
  }
  return moduleDef;
}
