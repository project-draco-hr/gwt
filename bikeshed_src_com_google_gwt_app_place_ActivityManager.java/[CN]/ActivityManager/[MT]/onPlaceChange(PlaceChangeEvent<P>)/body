{
  Activity nextActivity=mapper.getActivity(event.getNewPlace());
  if (currentActivity == nextActivity) {
    return;
  }
  if (startingNext) {
    currentActivity.onCancel();
    currentActivity=null;
    startingNext=false;
  }
 else   if (currentActivity != null) {
    display.showActivityWidget(null);
    currentActivity.onStop();
  }
  if (nextActivity == null) {
    display.showActivityWidget(null);
    currentActivity=null;
    return;
  }
  currentActivity=nextActivity;
  startingNext=true;
  currentActivity.start(new ProtectedDisplay(currentActivity));
}
