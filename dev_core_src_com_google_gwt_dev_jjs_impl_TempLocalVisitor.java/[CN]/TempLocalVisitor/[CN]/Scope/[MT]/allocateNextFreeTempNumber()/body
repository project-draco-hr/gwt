{
  if (allAllocated == null) {
    allAllocated=new BitSet();
    for (Scope it=this; it != null; it=it.parent) {
      allAllocated.or(it.tempNamesDeclaredInThisScope);
    }
  }
  allAllocated.or(tempNamesDeclaredInChildrenScopes);
  lastTempName=allAllocated.nextClearBit(lastTempName);
  recordTempNameAllocation(lastTempName);
  return lastTempName;
}
