{
  if (n == 0) {
    return "";
  }
  char[] buffer=new char[n];
  int pos=0;
  if (pushBackBuffer != INVALID_CHAR) {
    buffer[0]=(char)pushBackBuffer;
    pos=1;
    pushBackBuffer=INVALID_CHAR;
  }
  int len;
  while ((pos < n) && ((len=read(buffer,pos,n - pos)) != -1)) {
    pos+=len;
  }
  if (pos < n) {
    throw new JsonException("TODO");
  }
  return String.valueOf(buffer);
}
