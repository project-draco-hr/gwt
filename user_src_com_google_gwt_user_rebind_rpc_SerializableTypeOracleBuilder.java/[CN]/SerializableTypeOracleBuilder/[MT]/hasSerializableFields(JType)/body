{
  assert(isSerializable(type));
  JClassType classOrInterface=type.isClassOrInterface();
  if (classOrInterface == null) {
    return true;
  }
  JField[] fields=classOrInterface.getFields();
  for (int index=0; index < fields.length; ++index) {
    JField field=fields[index];
    if (field.isStatic() || field.isTransient() || field.isFinal()) {
      continue;
    }
    JType fieldType=field.getType();
    if (isSerializable(fieldType)) {
      continue;
    }
    if (!hasSerializableSubtypes(fieldType)) {
      addReasonForUnserializability(type,MessageFormat.format(UNSERIALIZABLE_FIELD,new String[]{field.toString()}));
      return false;
    }
  }
  return true;
}
