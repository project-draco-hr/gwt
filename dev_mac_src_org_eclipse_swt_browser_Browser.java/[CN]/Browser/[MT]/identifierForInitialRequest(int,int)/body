{
  final Display display=getDisplay();
  final ProgressEvent progress=new ProgressEvent(this);
  progress.display=display;
  progress.widget=this;
  progress.current=resourceCount;
  progress.total=Math.max(resourceCount,MAX_PROGRESS);
  for (int i=0; i < progressListeners.length; i++) {
    final ProgressListener listener=progressListeners[i];
    display.asyncExec(new Runnable(){
      public void run(){
        if (!display.isDisposed() && !isDisposed())         listener.changed(progress);
      }
    }
);
  }
  int identifier=WebKit.objc_msgSend(WebKit.C_NSNumber,WebKit.S_numberWithInt,resourceCount++);
  if (this.identifier == 0) {
    int webView=WebKit.HIWebViewGetWebView(webViewHandle);
    int frame=WebKit.objc_msgSend(dataSource,WebKit.S_webFrame);
    if (frame == WebKit.objc_msgSend(webView,WebKit.S_mainFrame))     this.identifier=identifier;
  }
  return identifier;
}
