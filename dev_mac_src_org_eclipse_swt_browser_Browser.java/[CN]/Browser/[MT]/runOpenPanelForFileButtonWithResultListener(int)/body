{
  FileDialog dialog=new FileDialog(getShell(),SWT.NONE);
  String result=dialog.open();
  if (result == null) {
    WebKit.objc_msgSend(resultListener,WebKit.S_cancel);
    return;
  }
  int length=result.length();
  char[] buffer=new char[length];
  result.getChars(0,length,buffer,0);
  int filename=OS.CFStringCreateWithCharacters(0,buffer,length);
  WebKit.objc_msgSend(resultListener,WebKit.S_chooseFilename,filename);
  OS.CFRelease(filename);
}
