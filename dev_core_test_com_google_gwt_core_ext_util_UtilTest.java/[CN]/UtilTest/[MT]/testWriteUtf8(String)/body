{
  ByteArrayOutputStream out1=new ByteArrayOutputStream();
  Writer writer=new OutputStreamWriter(out1,"UTF-8");
  writer.write(input);
  writer.close();
  byte[] bytes1=out1.toByteArray();
  StringBuilder builder=new StringBuilder();
  builder.append(input);
  ByteArrayOutputStream out2=new ByteArrayOutputStream();
  Util.writeUtf8(builder,out2);
  byte[] bytes2=out2.toByteArray();
  assertEquals(bytes1.length,bytes2.length);
  for (int i=0; i < bytes1.length; i++) {
    assertEquals("input = " + input + " at byte "+ i,bytes1[i],bytes2[i]);
  }
}
