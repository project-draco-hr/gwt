{
  JDeclaredType newType;
  if (binding.isClass()) {
    newType=program.createClass(info,name,binding.isAbstract(),binding.isFinal());
  }
 else   if (binding.isInterface() || binding.isAnnotationType()) {
    newType=program.createInterface(info,name);
  }
 else   if (binding.isEnum()) {
    if (binding.isAnonymousType()) {
      newType=program.createClass(info,name,false,true);
    }
 else {
      newType=program.createEnum(info,name,binding.isAbstract());
    }
  }
 else {
    throw new InternalCompilerException("ReferenceBinding is not a class, interface, or enum.");
  }
  info.addCorrelation(program.getCorrelator().by(newType));
  SourceInfo child=info.makeChild();
  JMethod clinit=program.createMethod(child,"$clinit",newType,program.getTypeVoid(),false,true,true,true,false);
  clinit.freezeParamTypes();
  clinit.setSynthetic();
  child.addCorrelation(program.getCorrelator().by(clinit));
  if (newType instanceof JClassType) {
    child=info.makeChild();
    JMethod init=program.createMethod(child,"$init",newType,program.getTypeVoid(),false,false,true,true,false);
    init.freezeParamTypes();
    init.setSynthetic();
    child.addCorrelation(program.getCorrelator().by(init));
  }
  newType.setExternal(linker.isExternalType(newType.getName()));
  return newType;
}
