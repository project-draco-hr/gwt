{
  BuildTypeMap btm=new BuildTypeMap(typeMap,jsProgram,linker,results.compiledUnits);
  SpeedTracerLogger.start(CompilerEventType.BUILD_TYPE_MAP);
  btm.createPeersForUnits();
  btm.resolveExternalTypes(results.binaryBindings);
  TypeDeclaration[] result=btm.createPeersForNonTypeDecls();
  SpeedTracerLogger.end(CompilerEventType.BUILD_TYPE_MAP);
  return result;
}
