{
  this.display=display;
  this.nodeInfo=nodeInfo;
  this.value=value;
  this.widget=widget;
  valueChangeHandler=display.addValueChangeHandler(new ValueChangeHandler<List<C>>(){
    @Override public void onValueChange(    ValueChangeEvent<List<C>> event){
      Object focusedKey=display.focusedKey;
      if (focusedKey != null) {
        boolean stillExists=false;
        List<C> displayValues=event.getValue();
        for (        C displayValue : displayValues) {
          if (focusedKey.equals(display.getValueKey(displayValue))) {
            stillExists=true;
            break;
          }
        }
        if (!stillExists) {
          trimToLevel(display.level);
        }
      }
    }
  }
);
}
