{
  AbstractImagePrototype proto=AbstractImagePrototype.create(res);
  SafeHtml image=SafeHtmlUtils.fromTrustedString(proto.getHTML());
  SafeStylesBuilder cssBuilder=new SafeStylesBuilder();
  if (LocaleInfo.getCurrentLocale().isRTL()) {
    cssBuilder.appendTrustedString("left:0px;");
  }
 else {
    cssBuilder.appendTrustedString("right:0px;");
  }
  cssBuilder.appendTrustedString("width: " + res.getWidth() + "px;");
  cssBuilder.appendTrustedString("height: " + res.getHeight() + "px;");
  return template.imageWrapper(cssBuilder.toSafeStyles(),image);
}
