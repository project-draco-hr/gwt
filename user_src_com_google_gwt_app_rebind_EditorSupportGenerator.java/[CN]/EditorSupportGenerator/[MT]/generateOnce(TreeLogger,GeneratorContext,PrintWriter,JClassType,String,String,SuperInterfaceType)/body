{
  logger=logger.branch(TreeLogger.DEBUG,String.format("Generating implementation of %s",interfaceType.getName()));
  JClassType recordType=superinterfaceType.recordType;
  JClassType viewType=superinterfaceType.viewType;
  uiPropertyFields=getUiPropertyFields(viewType,recordType,generatorContext.getTypeOracle(),logger);
  ClassSourceFileComposerFactory f=new ClassSourceFileComposerFactory(packageName,implName);
  f.addImport(ValueChangeEvent.class.getName());
  f.addImport(ValueChangeHandler.class.getName());
  f.addImport(superinterfaceType.recordType.getQualifiedSourceName());
  f.addImport(Property.class.getName());
  f.addImport(DivElement.class.getName());
  f.addImport(Document.class.getName());
  f.addImport(SpanElement.class.getName());
  f.addImport(FontWeight.class.getName().replace("$","."));
  f.addImport(HashSet.class.getName());
  f.addImport(Map.class.getName());
  f.addImport(Set.class.getName());
  for (  JClassType valueTypes : uiPropertyFields.values()) {
    if (valueTypes.isParameterized() == null) {
      continue;
    }
    String typeName=valueTypes.isParameterized().getTypeArgs()[0].getQualifiedSourceName();
    if (!typeName.startsWith("java.lang")) {
      f.addImport(typeName);
    }
  }
  f.addImplementedInterface(interfaceType.getName());
  SourceWriter sw=f.createSourceWriter(generatorContext,out);
  sw.println();
  takesValueType=generatorContext.getTypeOracle().findType(TakesValue.class.getName());
  hasTextType=generatorContext.getTypeOracle().findType(HasText.class.getName());
  stringType=generatorContext.getTypeOracle().findType(String.class.getName());
  jrecordType=generatorContext.getTypeOracle().findType(Record.class.getName());
  writeGetPropertiesMethod(sw,recordType);
  writeInit(sw,viewType,recordType);
  writeIsChangedMethod(sw,recordType,viewType);
  writeSetEnabledMethod(sw,viewType);
  writeSetValueMethod(sw,recordType,viewType,logger);
  writeShowErrorsMethod(sw,viewType);
  sw.outdent();
  sw.println("}");
  generatorContext.commit(logger,out);
}
