{
  boolean monolithic=compilerContext.getModule().isMonolithic();
  JavaToJavaScriptCompiler javaToJavaScriptCompiler=monolithic ? new MonolithicJavaToJavaScriptCompiler(logger,compilerContext) : new LibraryJavaToJavaScriptCompiler(logger,compilerContext);
  return javaToJavaScriptCompiler.precompile(rpo,declEntryPts,additionalRootTypes,singlePermutation,precompilationMetrics);
}
