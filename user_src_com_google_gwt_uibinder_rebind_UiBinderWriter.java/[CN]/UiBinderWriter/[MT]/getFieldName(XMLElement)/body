{
  String fieldName=null;
  boolean hasOldSchoolId=false;
  if (elem.hasAttribute("id") && isWidget(elem)) {
    hasOldSchoolId=true;
    fieldName=elem.consumeAttribute("id");
    logger.log(TreeLogger.WARN,String.format("Deprecated use of id=\"%1$s\" for field name. " + "Please switch to gwt:field=\"%1$s\" instead. " + "This will soon be a compile error!",fieldName));
  }
  if (elem.hasAttribute(getGwtFieldAttributeName())) {
    if (hasOldSchoolId) {
      die("Cannot declare both id and field on the same element: " + elem);
    }
    fieldName=elem.consumeAttribute(getGwtFieldAttributeName());
  }
  return fieldName;
}
