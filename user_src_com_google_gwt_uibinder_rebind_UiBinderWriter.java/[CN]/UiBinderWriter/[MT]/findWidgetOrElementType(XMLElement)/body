{
  String tagName=elem.getLocalName();
  if (!isWidget(elem)) {
    return findElementTypeForTag(tagName);
  }
  String ns=elem.getNamespaceUri();
  JPackage pkg=parseNamespacePackage(ns);
  if (pkg == null) {
    throw new RuntimeException("No such package: " + ns);
  }
  JClassType rtn=null;
  if (pkg != null) {
    rtn=pkg.findType(tagName);
    if (rtn == null) {
      die("No class matching \"%s\" in %s",tagName,ns);
    }
  }
  return rtn;
}
