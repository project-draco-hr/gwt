{
  Field[] serializableFields=SerializabilityUtil.applyFieldSerializationPolicy(instanceClass);
  for (  Field declField : serializableFields) {
    assert(declField != null);
    Object value=deserializeValue(declField.getType());
    boolean isAccessible=declField.isAccessible();
    boolean needsAccessOverride=!isAccessible && !Modifier.isPublic(declField.getModifiers());
    if (needsAccessOverride) {
      declField.setAccessible(true);
    }
    declField.set(instance,value);
  }
  Class<?> superClass=instanceClass.getSuperclass();
  if (serializationPolicy.shouldDeserializeFields(superClass)) {
    deserializeImpl(SerializabilityUtil.hasCustomFieldSerializer(superClass),superClass,instance);
  }
  for (  ServerDataSerializer serializer : ServerDataSerializer.getSerializers()) {
    if (serializer.shouldSerialize(instanceClass)) {
      String encodedData=readString();
      byte[] serializedData=Base64Utils.fromBase64(encodedData);
      serializer.deserializeServerData(serializedData,instance);
    }
  }
}
