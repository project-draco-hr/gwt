{
  if (tree == null) {
    return;
  }
  TreeImages images=tree.getImages();
  if (children.size() == 0) {
    UIObject.setVisible(childSpanElem,false);
    images.treeLeaf().applyTo(statusImage);
    return;
  }
  if (itemAnimation == null) {
    itemAnimation=new TreeItemAnimation();
  }
  if (animate && (tree != null) && (tree.isAttached())) {
    itemAnimation.setItemState(this,tree.isAnimationEnabled());
  }
 else {
    itemAnimation.setItemState(this,false);
  }
  if (open) {
    images.treeOpen().applyTo(statusImage);
  }
 else {
    images.treeClosed().applyTo(statusImage);
  }
  if (updateTreeSelection) {
    tree.maybeUpdateSelection(this,this.open);
  }
}
