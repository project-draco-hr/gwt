{
  NonBubbleAssertingEventListener listener=new NonBubbleAssertingEventListener("focus"){
    @Override public void onBrowserEvent(    Event event){
      if (cancelled) {
        return;
      }
      super.onBrowserEvent(event);
      assertEquals("focus",event.getType());
    }
  }
;
  Event.setEventListener(parent,listener);
  Event.setEventListener(child,listener);
  child.dispatchEvent(Document.get().createFocusEvent());
  listener.cancel();
  assertTrue("Expected child to receive event",listener.childReceived);
}
