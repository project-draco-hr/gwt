{
  BubbleAssertingEventListener listener=new BubbleAssertingEventListener("dblclick",true){
    @Override public void onBrowserEvent(    Event event){
      if (cancelled) {
        return;
      }
      if (event.getTypeInt() == Event.ONCLICK) {
        return;
      }
      super.onBrowserEvent(event);
      assertMouseCoordinates(event);
    }
  }
;
  Event.setEventListener(parent,listener);
  Event.setEventListener(child,listener);
  child.dispatchEvent(Document.get().createDblClickEvent(MOUSE_DETAIL,SCREEN_X,SCREEN_Y,CLIENT_X,CLIENT_Y,true,true,true,true));
  listener.cancel();
  assertTrue("Expected child to receive event",listener.childReceived);
  assertTrue("Expected parent to receive event",listener.parentReceived);
}
