{
  for (  XMLElement child : elem.consumeChildElements()) {
    String ns=child.getNamespaceUri();
    String tagName=child.getLocalName();
    if (!ns.equals(elem.getNamespaceUri())) {
      writer.die(elem,"Invalid DockPanel child namespace: " + ns);
    }
    if (!tagName.equals(TAG_DOCK)) {
      writer.die(elem,"Invalid DockPanel child element: " + tagName);
    }
    if (!child.hasAttribute("direction")) {
      writer.die(elem,"Dock must specify the 'direction' attribute");
    }
    String value=child.consumeRawAttribute("direction");
    String translated=values.get(value);
    if (translated == null) {
      writer.die(elem,"Invalid value: dockDirection='" + value + "'");
    }
    XMLElement widget=child.consumeSingleChildElement();
    String childFieldName=writer.parseElementToField(widget);
    writer.addStatement("%1$s.add(%2$s, %3$s);",fieldName,childFieldName,translated);
    CellPanelParser.parseCellAttributes(child,fieldName,childFieldName,writer);
  }
}
