{
  JavaSource simpleEnumTest=createMockJavaSource("test.Simple","package test;",COMMON_IMPORTS,"public interface Simple extends RequestFactory {","  SimpleContext simple();","  public interface SimpleContext extends RequestContext {","    GetByIdRequest getById(Long id);","    public interface GetByIdRequest extends Request<String> {","      GetByIdRequest setId(Long id);","    }","  }","}");
  contextBuilder.add(simpleEnumTest);
  StandardGeneratorContext ctx=(StandardGeneratorContext)contextBuilder.buildGeneratorContext();
  assertNotNull(ctx.getTypeOracle().findType("test.Simple"));
  try {
    assertEquals("test.SimpleImpl",generator.generate(logger,contextBuilder.buildGeneratorContext(),"test.Simple"));
    fail("RequestContext is not annotated as a service");
  }
 catch (  UnableToCompleteException expected) {
    assertTrue(writer.toString().contains("RequestContext subtype test.Simple.SimpleContext " + "is missing a @Service or @JsonRpcService annotation"));
  }
}
