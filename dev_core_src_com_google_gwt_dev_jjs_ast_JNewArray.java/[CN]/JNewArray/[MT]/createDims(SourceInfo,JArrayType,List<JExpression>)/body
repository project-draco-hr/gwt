{
  int realDims=0;
  for (  JExpression dim : dims) {
    if (dim instanceof JAbsentArrayDimension) {
      break;
    }
    ++realDims;
  }
  List<JClassLiteral> classLiterals=Lists.create();
  JType cur=arrayType;
  for (int i=0; i < realDims; ++i) {
    JClassLiteral classLit=new JClassLiteral(info.makeChild(),cur);
    classLiterals=Lists.add(classLiterals,classLit);
    cur=((JArrayType)cur).getElementType();
  }
  return new JNewArray(info,arrayType,dims,null,classLiterals);
}
