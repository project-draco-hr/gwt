{
  CategorizedProblem[] problems=unit.getProblems();
  if (problems == null || problems.length == 0) {
    return false;
  }
  String fileName=unit.getResourceLocation();
  boolean isError=unit.isError();
  TreeLogger.Type warnLogLevel;
  TreeLogger.Type errorLogLevel;
  if (suppressErrors) {
    errorLogLevel=TreeLogger.TRACE;
    warnLogLevel=TreeLogger.DEBUG;
  }
 else {
    errorLogLevel=TreeLogger.ERROR;
    warnLogLevel=TreeLogger.WARN;
  }
  TreeLogger branch=null;
  for (  CategorizedProblem problem : problems) {
    TreeLogger.Type logLevel;
    if (problem.isError()) {
      logLevel=errorLogLevel;
    }
 else     if (problem.isWarning() && problem instanceof GWTProblem) {
      logLevel=warnLogLevel;
    }
 else {
      continue;
    }
    HelpInfo helpInfo=null;
    if (problem instanceof GWTProblem) {
      GWTProblem gwtProblem=(GWTProblem)problem;
      helpInfo=gwtProblem.getHelpInfo();
    }
    if (branch == null) {
      Type branchType=isError ? errorLogLevel : warnLogLevel;
      String branchString=isError ? "Errors" : "Warnings";
      branch=logger.branch(branchType,branchString + " in '" + fileName+ "'",null);
    }
    branch.log(logLevel,toMessageWithLineNumber(problem),null,helpInfo);
  }
  if (branch != null && branch.isLoggable(TreeLogger.INFO)) {
    if (unit instanceof GeneratedCompilationUnit) {
      GeneratedCompilationUnit generatedUnit=(GeneratedCompilationUnit)unit;
      CompilationProblemReporter.maybeDumpSource(branch,generatedUnit.getSource(),unit.getTypeName());
    }
  }
  return branch != null;
}
