{
  final StringBuilder b=new StringBuilder();
abstract class AppendToStringBuilder {
    int num;
    public AppendToStringBuilder(    int i){
      this.num=i;
    }
    public abstract void act();
  }
  List<AppendToStringBuilder> results=new ArrayList<AppendToStringBuilder>();
  for (int i=0; i < 10; i++) {
    AppendToStringBuilder ap=new AppendToStringBuilder(i){
      @Override public void act(){
        b.append(num);
        testAppend.append(num);
      }
    }
;
    results.add(ap);
  }
  for (  AppendToStringBuilder theAp : results) {
    theAp.act();
  }
  assertEquals("0123456789",b.toString());
  assertEquals("0123456789",testAppend.toString());
}
