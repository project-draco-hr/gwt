{
  final StringBuffer b=new StringBuffer();
  List results=new ArrayList();
abstract class AppendToStringBuffer {
    public AppendToStringBuffer(    int i){
      this.num=i;
    }
    public abstract void act();
    int num;
  }
  for (int i=0; i < 10; i++) {
    AppendToStringBuffer ap=new AppendToStringBuffer(i){
      public void act(){
        b.append(num);
      }
    }
;
    results.add(ap);
  }
  for (Iterator it=results.iterator(); it.hasNext(); ) {
    AppendToStringBuffer theAp=(AppendToStringBuffer)it.next();
    theAp.act();
  }
  assertEquals("0123456789",b.toString());
}
