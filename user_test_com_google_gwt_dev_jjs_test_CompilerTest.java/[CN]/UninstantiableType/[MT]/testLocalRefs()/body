{
  final String foo=TRUE ? "foo" : "bar";
  final String bar=TRUE ? "bar" : "foo";
  String result=new Object(){
    private String a=foo;
{
      a=foo;
    }
    @Override public String toString(){
      return new Object(){
        private static final String constantString="wallawalla";
        private String ai=foo;
{
          ai=foo;
        }
        @SuppressWarnings("ReturnValueIgnored") @Override public String toString(){
          bar.valueOf(false);
          assertEquals("wallawalla",constantString);
          return foo + a + ai;
        }
      }
.toString() + a;
    }
  }
.toString();
  assertEquals(result,"foofoofoofoo");
}
