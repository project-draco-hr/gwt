{
  Map<String,CompiledClass> classMapBySource=compilationState.getClassFileMapBySource();
  Set<CompilationUnit> alreadyAdded=new HashSet<CompilationUnit>();
  List<ICompilationUnit> icus=new ArrayList<ICompilationUnit>(seedTypeNames.length + additionalUnits.length);
  Collections.addAll(icus,additionalUnits);
  for (  String seedTypeName : seedTypeNames) {
    CompilationUnit unit=getUnitForType(logger,classMapBySource,seedTypeName);
    if (unit == null) {
      continue;
    }
    if (alreadyAdded.add(unit)) {
      icus.add(new CompilationUnitAdapter(unit));
    }
  }
  CompilationResults units=compile(logger,icus.toArray(new ICompilationUnit[icus.size()]));
  Memory.maybeDumpMemory("WebModeCompiler");
  return units;
}
