{
  JarFile jarFile=new JarFile(jarFileName);
  if (isDirectory) {
    dstPath.mkdir();
    JarInputStream jarFileIS=new JarInputStream(new FileInputStream(jarFileName));
    JarEntry jarEntry=jarFileIS.getNextJarEntry();
    while (jarEntry != null) {
      if (!inputFileName.endsWith("/")) {
        inputFileName+="/";
      }
      if ((jarEntry.getName().compareTo(inputFileName) != 0) && (jarEntry.getName().startsWith(inputFileName))) {
        File newDstPath=new File(jarEntry.getName());
        copyFileOrDirectoryFromJar(jarFileName,jarEntry.getName(),newDstPath,false);
      }
      jarEntry=jarFileIS.getNextJarEntry();
    }
    jarFileIS.close();
  }
 else {
    InputStream in=jarFile.getInputStream(jarFile.getEntry(inputFileName));
    OutputStream out=new FileOutputStream(dstPath);
    int c;
    while ((c=in.read()) != -1) {
      out.write(c);
    }
    in.close();
    out.close();
    jarFile.close();
  }
}
