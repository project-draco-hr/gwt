{
  Widget widget=getWidget(userData);
  if (widget == null) {
    int[] theWindow=new int[1];
    OS.GetEventParameter(theEvent,OS.kEventParamDirectObject,OS.typeWindowRef,null,4,null,theWindow);
    int[] theRoot=new int[1];
    OS.GetRootControl(theWindow[0],theRoot);
    widget=getWidget(theRoot[0]);
  }
  if (widget != null)   return widget.windowProc(nextHandler,theEvent,userData);
  return OS.eventNotHandledErr;
}
