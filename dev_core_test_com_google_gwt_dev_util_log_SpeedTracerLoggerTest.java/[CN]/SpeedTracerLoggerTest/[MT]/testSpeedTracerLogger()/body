{
  Writer writer=new StringWriter();
  SpeedTracerLogger.init(writer);
  SpeedTracerLogger.get().start(dummyOne);
  SpeedTracerLogger.get().start(dummyTwo);
  SpeedTracerLogger.get().end(dummyTwo);
  SpeedTracerLogger.get().start(dummyThree);
  SpeedTracerLogger.get().end(dummyThree);
  SpeedTracerLogger.get().end(dummyOne);
  SpeedTracerLogger.get().flush();
  Reader jsonReader=extractJsonFromWriter(writer);
  JsonObject parsedObject=JsonObject.parse(jsonReader);
  assertTrue("dummyOne",compareJsonToEvent(parsedObject,dummyOne));
  JsonObject dataObject=parsedObject.get("data").asObject();
  assertNotNull(dataObject);
  JsonArray childArray=parsedObject.get("children").asArray();
  assertNotNull(childArray);
  assertEquals(2,childArray.getLength());
  JsonObject child=childArray.get(0).asObject();
  assertTrue("dummyTwo",compareJsonToEvent(child,dummyTwo));
  child=childArray.get(1).asObject();
  assertTrue("dummyThree",compareJsonToEvent(child,dummyThree));
}
