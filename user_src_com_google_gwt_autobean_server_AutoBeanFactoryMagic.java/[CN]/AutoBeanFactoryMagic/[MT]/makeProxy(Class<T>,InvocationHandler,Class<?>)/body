{
  Class<?>[] intfs;
  if (extraInterfaces == null) {
    intfs=new Class<?>[]{intf};
  }
 else {
    intfs=new Class<?>[extraInterfaces.length + 1];
    intfs[0]=intf;
    System.arraycopy(extraInterfaces,0,intfs,1,extraInterfaces.length);
  }
  return intf.cast(Proxy.newProxyInstance(Thread.currentThread().getContextClassLoader(),intfs,handler));
}
