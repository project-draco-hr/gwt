{
  if (serializableClass.isEnum() == null && (serializableClass.isAbstract() || !serializableClass.isDefaultInstantiable())) {
    return;
  }
  if (customFieldSerializerHasInstantiate) {
    return;
  }
  JArrayType isArray=serializableClass.isArray();
  JEnumType isEnum=serializableClass.isEnum();
  JClassType isClass=serializableClass.isClass();
  boolean useViolator=false;
  boolean isAccessible=true;
  if (isEnum == null && isClass != null) {
    isAccessible=classIsAccessible() && ctorIsAccessible();
    useViolator=!isAccessible && isProd;
  }
  sourceWriter.print("public static" + (useViolator ? " native " : " "));
  String qualifiedSourceName=serializableClass.getQualifiedSourceName();
  sourceWriter.print(qualifiedSourceName);
  sourceWriter.println(" instantiate(SerializationStreamReader streamReader) throws SerializationException " + (useViolator ? "/*-{" : "{"));
  sourceWriter.indent();
  if (isArray != null) {
    sourceWriter.println("int size = streamReader.readInt();");
    sourceWriter.println("return " + createArrayInstantiationExpression(isArray) + ";");
  }
 else   if (isEnum != null) {
    sourceWriter.println("int ordinal = streamReader.readInt();");
    sourceWriter.println(qualifiedSourceName + "[] values = " + qualifiedSourceName+ ".values();");
    sourceWriter.println("assert (ordinal >= 0 && ordinal < values.length);");
    sourceWriter.println("return values[ordinal];");
  }
 else   if (!isAccessible) {
    if (isProd) {
      sourceWriter.println("return @" + qualifiedSourceName + "::new()();");
    }
 else {
      sourceWriter.println("return ReflectionHelper.newInstance(" + qualifiedSourceName + ".class);");
    }
  }
 else {
    sourceWriter.println("return new " + qualifiedSourceName + "();");
  }
  sourceWriter.outdent();
  sourceWriter.println(useViolator ? "}-*/;" : "}");
  sourceWriter.println();
}
