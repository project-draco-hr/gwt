{
  this.context=context;
  this.isProd=context.isProdMode();
  methodStart=isProd ? "/*-{" : "{";
  methodEnd=isProd ? "}-*/;" : "}";
  this.customFieldSerializer=customFieldSerializer;
  assert(requestedClass != null);
  assert(requestedClass.isClass() != null || requestedClass.isArray() != null);
  this.typeOracle=context.getTypeOracle();
  this.typesSentFromBrowser=typesSentFromBrowser;
  this.typesSentToBrowser=typesSentToBrowser;
  serializableClass=requestedClass;
  serializableFields=SerializationUtils.getSerializableFields(typeOracle,requestedClass);
  this.fieldSerializerName=SerializationUtils.getStandardSerializerName(serializableClass);
  this.isJRE=SerializableTypeOracleBuilder.isInStandardJavaPackage(serializableClass.getQualifiedSourceName());
  this.customFieldSerializerHasInstantiate=(customFieldSerializer != null && CustomFieldSerializerValidator.hasInstantiationMethod(customFieldSerializer,serializableClass));
}
