{
  uiWriter.write(pw);
  genCtx.commit(logger,pw);
  MessagesWriter messages=uiWriter.getMessages();
  if (messages.hasMessages()) {
    PrintWriter mpw=genCtx.tryCreate(logger,packageName,messages.getMessagesClassName());
    if (mpw == null) {
      throw new RuntimeException("Tried to gen messages twice.");
    }
    messages.write(mpw);
    genCtx.commit(logger,mpw);
  }
}
