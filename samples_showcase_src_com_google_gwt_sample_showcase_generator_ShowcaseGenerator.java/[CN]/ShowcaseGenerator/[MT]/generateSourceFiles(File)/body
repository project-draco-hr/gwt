{
  if (root.isDirectory()) {
    File[] subFiles=root.listFiles();
    for (int i=0; i < subFiles.length; i++) {
      generateSourceFiles(subFiles[i]);
    }
  }
 else   if (root.isFile()) {
    if (!isFileType(root,"java")) {
      return;
    }
    String fileContents=getFileContents(root);
    if (fileContents == "" || fileContents.indexOf(TAG_RAW) >= 0) {
      return;
    }
    String formattedSource="";
    int dataTagIndex=fileContents.indexOf(TAG_DATA);
    int srcTagIndex=fileContents.indexOf(TAG_SRC);
    while (dataTagIndex >= 0 || srcTagIndex >= 0) {
      if (dataTagIndex >= 0 && (dataTagIndex < srcTagIndex || srcTagIndex < 0)) {
        int beginIndex=fileContents.lastIndexOf("  /*",dataTagIndex);
        int beginTagIndex=fileContents.lastIndexOf("\n",dataTagIndex) + 1;
        int endTagIndex=fileContents.indexOf("\n",dataTagIndex) + 1;
        int endIndex=fileContents.indexOf(";",beginIndex) + 1;
        String srcData=fileContents.substring(beginIndex,beginTagIndex) + fileContents.substring(endTagIndex,endIndex);
        formattedSource+=srcData + "\n\n";
        dataTagIndex=fileContents.indexOf(TAG_DATA,endIndex + 1);
      }
 else {
        int beginIndex=fileContents.lastIndexOf("/*",srcTagIndex) - 2;
        int beginTagIndex=fileContents.lastIndexOf("\n",srcTagIndex) + 1;
        int endTagIndex=fileContents.indexOf("\n",srcTagIndex) + 1;
        int endIndex=fileContents.indexOf("\n  }",beginIndex) + 4;
        String srcCode=fileContents.substring(beginIndex,beginTagIndex) + fileContents.substring(endTagIndex,endIndex);
        formattedSource+=srcCode + "\n\n";
        srcTagIndex=fileContents.indexOf(TAG_SRC,endIndex + 1);
      }
    }
    formattedSource=formattedSource.replace("<","&lt;");
    formattedSource=formattedSource.replace(">","&gt;");
    formattedSource=formattedSource.replace("* \n   */\n","*/\n");
    formattedSource="<pre>" + formattedSource + "</pre>";
    String saveFile=root.getPath().substring(FILE_ROOT.length());
    saveFile=saveFile.replaceAll(".java",".html");
    saveFile=saveFile.replace('/','.');
    saveFile=DST_SOURCE + saveFile;
    setFileContents(saveFile,formattedSource);
  }
}
