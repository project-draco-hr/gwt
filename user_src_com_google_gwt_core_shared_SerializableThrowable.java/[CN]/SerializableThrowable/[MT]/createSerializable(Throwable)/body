{
  SerializableThrowable throwable=new SerializableThrowable(null,t.getMessage());
  throwable.setStackTrace(t.getStackTrace());
  throwable.initCause(t.getCause());
  if (isClassMetadataAvailable()) {
    throwable.setDesignatedType(t.getClass().getName(),true);
  }
 else {
    resolveDesignatedType(throwable,t);
  }
  return throwable;
}
