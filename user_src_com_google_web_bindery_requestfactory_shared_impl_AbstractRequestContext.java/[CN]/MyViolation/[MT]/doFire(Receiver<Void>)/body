{
  checkLocked();
  state.locked=true;
  freezeEntities(true);
  String payload=state.dialect.makePayload();
  state.requestFactory.getRequestTransport().send(payload,new TransportReceiver(){
    public void onTransportFailure(    ServerFailure failure){
      fail(receiver,failure);
    }
    public void onTransportSuccess(    String payload){
      state.dialect.processPayload(receiver,payload);
    }
  }
);
}
