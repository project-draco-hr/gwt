{
  if (state.locked) {
    throw new IllegalStateException("A request is already in progress");
  }
}
