{
  if (appendedContexts == null) {
    appendedContexts=Collections.singleton(ctx);
  }
 else {
    if (appendedContexts.size() == 1) {
      appendedContexts=new LinkedHashSet<AbstractRequestContext>(appendedContexts);
    }
    appendedContexts.add(ctx);
  }
}
