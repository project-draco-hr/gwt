{
  srcWriter.println("public void " + RUN_CALLBACKS + "() {");
  srcWriter.println("while (callbacksHead != null) {");
  srcWriter.println("  " + UNCAUGHT_EXCEPTION_HANDLER_CLASS + " handler = "+ "GWT.getUncaughtExceptionHandler();");
  srcWriter.println("  " + getCallbackListSimpleName() + " next = callbacksHead;");
  srcWriter.println("  callbacksHead = callbacksHead.next;");
  srcWriter.println("  if (callbacksHead == null) {");
  srcWriter.println("    callbacksTail = null;");
  srcWriter.println("  }");
  if (!Boolean.getBoolean(PROP_RUN_ASYNC_NEVER_RUNS)) {
    srcWriter.println("  if (handler == null) {");
    srcWriter.println("    next.callback.onSuccess();");
    srcWriter.println("  } else {");
    srcWriter.println("    try {");
    srcWriter.println("      next.callback.onSuccess();");
    srcWriter.println("    } catch (Throwable e) {");
    srcWriter.println("      handler.onUncaughtException(e);");
    srcWriter.println("    }");
    srcWriter.println("  }");
  }
  srcWriter.println("}");
  srcWriter.println("}");
}
