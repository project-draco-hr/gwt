{
  MessageSend messageSend=site.messageSend;
  Scope scope=site.scope;
  CompilationResult compResult=scope.compilationUnitScope().referenceContext().compilationResult();
  int[] lineEnds=compResult.getLineSeparatorPositions();
  int startLine=Util.getLineNumber(messageSend.sourceStart(),lineEnds,0,lineEnds.length - 1);
  int startColumn=Util.searchColumnNumber(lineEnds,startLine,messageSend.sourceStart());
  DefaultProblem problem=new DefaultProblem(compResult.fileName,message,IProblem.ExternalProblemNotFixable,null,ProblemSeverities.Error,messageSend.sourceStart(),messageSend.sourceEnd(),startLine,startColumn);
  compResult.record(problem,scope.referenceContext());
}
