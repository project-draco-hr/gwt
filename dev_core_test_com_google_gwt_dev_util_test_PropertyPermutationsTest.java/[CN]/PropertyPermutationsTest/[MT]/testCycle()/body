{
  ModuleDef md=new ModuleDef("testCycle");
  Properties props=md.getProperties();
{
    BindingProperty prop=props.createBinding("A");
    prop.addDefinedValue(prop.getRootCondition(),"a1");
    prop.addDefinedValue(prop.getRootCondition(),"a2");
    prop.addDefinedValue(new ConditionWhenPropertyIs("B","b3"),"a3");
  }
{
    BindingProperty prop=props.createBinding("B");
    prop.addDefinedValue(prop.getRootCondition(),"b1");
    prop.addDefinedValue(prop.getRootCondition(),"b2");
    prop.addDefinedValue(new ConditionWhenPropertyIs("A","a3"),"b3");
  }
  try {
    new PropertyPermutations(props);
    fail();
  }
 catch (  IllegalStateException e) {
  }
}
