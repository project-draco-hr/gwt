{
  ModuleDef md=new ModuleDef("testTwoDimensionsWithRestriction");
  Properties props=md.getProperties();
{
    BindingProperty prop=props.createBinding("user.agent");
    prop.addDefinedValue(prop.getRootCondition(),"moz");
    prop.addDefinedValue(prop.getRootCondition(),"ie6");
    prop.addDefinedValue(prop.getRootCondition(),"ie8");
    prop.addDefinedValue(prop.getRootCondition(),"opera");
  }
{
    BindingProperty prop=props.createBinding("stackTraces");
    prop.addDefinedValue(prop.getRootCondition(),"false");
    prop.addDefinedValue(prop.getRootCondition(),"true");
    ConditionAny cond=new ConditionAny();
    cond.getConditions().add(new ConditionWhenPropertyIs("user.agent","moz"));
    cond.getConditions().add(new ConditionWhenPropertyIs("user.agent","opera"));
    prop.setAllowedValues(cond,"false");
  }
  validateTwoDimensionPerm(props,md.getActiveLinkerNames());
}
