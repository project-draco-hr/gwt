{
  ModuleDef md=new ModuleDef("testTwoDimensionPerm");
  Properties props=md.getProperties();
{
    BindingProperty prop=props.createBinding("user.agent");
    prop.addDefinedValue(prop.getRootCondition(),"moz");
    prop.addDefinedValue(prop.getRootCondition(),"ie6");
    prop.addDefinedValue(prop.getRootCondition(),"opera");
  }
{
    BindingProperty prop=props.createBinding("debug");
    prop.addDefinedValue(prop.getRootCondition(),"false");
    prop.addDefinedValue(prop.getRootCondition(),"true");
  }
  PropertyPermutations perms=new PropertyPermutations(md.getProperties());
  String[] perm;
  Iterator<String[]> iter=perms.iterator();
  assertTrue(iter.hasNext());
  perm=iter.next();
  assertEquals("false",perm[0]);
  assertEquals("ie6",perm[1]);
  assertTrue(iter.hasNext());
  perm=iter.next();
  assertEquals("false",perm[0]);
  assertEquals("moz",perm[1]);
  assertTrue(iter.hasNext());
  perm=iter.next();
  assertEquals("false",perm[0]);
  assertEquals("opera",perm[1]);
  assertTrue(iter.hasNext());
  perm=iter.next();
  assertEquals("true",perm[0]);
  assertEquals("ie6",perm[1]);
  assertTrue(iter.hasNext());
  perm=iter.next();
  assertEquals("true",perm[0]);
  assertEquals("moz",perm[1]);
  assertTrue(iter.hasNext());
  perm=iter.next();
  assertEquals("true",perm[0]);
  assertEquals("opera",perm[1]);
}
