{
  ModuleDef moduleDef=ModuleDefLoader.createSyntheticModule(treeLogger,junitShell.getCompilerContext(),syntheticModuleName,new String[]{moduleName,"com.google.gwt.junit.JUnit"},false);
  moduleDef.clearEntryPoints();
  moduleDef.addEntryPointTypeName(LogConfiguration.class.getName());
  moduleDef.addEntryPointTypeName(GWTRunner.class.getName());
  ConfigurationProperty moduleNameProp=moduleDef.getProperties().createConfiguration("junit.moduleName",false);
  moduleNameProp.setValue(syntheticModuleName);
  strategy.processModule(moduleDef);
  junitShell.maybeCompileForWebMode(moduleDef,JUnitShell.getRemoteUserAgents());
  return moduleDef;
}
