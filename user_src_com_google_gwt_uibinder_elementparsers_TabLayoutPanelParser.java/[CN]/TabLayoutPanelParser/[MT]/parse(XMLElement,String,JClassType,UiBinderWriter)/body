{
  String size=panelElem.consumeRequiredDoubleAttribute("barHeight");
  if ("".equals(size)) {
    writer.die("In %s, barHeight attribute is required",panelElem);
  }
  JEnumType unitEnumType=writer.getOracle().findType(Unit.class.getCanonicalName()).isEnum();
  String unit=panelElem.consumeAttributeWithDefault("barUnit",String.format("%s.%s",unitEnumType.getQualifiedSourceName(),"PX"),unitEnumType);
  writer.setFieldInitializerAsConstructor(fieldName,writer.getOracle().findType(TabLayoutPanel.class.getName()),size,unit);
  for (  XMLElement tabElem : panelElem.consumeChildElements()) {
    if (!isElementType(panelElem,tabElem,TAB)) {
      writer.die("In %s, only <%s:%s> children are allowed.",panelElem,panelElem.getPrefix(),TAB);
    }
    Children children=findChildren(tabElem,writer);
    if (children.body == null) {
      writer.die("In %s, %s must have a child widget",panelElem,tabElem);
    }
    if (!writer.isWidgetElement(children.body)) {
      writer.die("In %s, %s must be a widget",tabElem,children.body);
    }
    String childFieldName=writer.parseElementToField(children.body);
    if (children.header != null) {
      HtmlInterpreter htmlInt=HtmlInterpreter.newInterpreterForUiObject(writer,fieldName);
      String html=children.header.consumeInnerHtml(htmlInt);
      writer.addStatement("%s.add(%s, \"%s\", true);",fieldName,childFieldName,html);
    }
 else     if (children.customHeader != null) {
      XMLElement headerElement=children.customHeader.consumeSingleChildElement();
      if (!writer.isWidgetElement(headerElement)) {
        writer.die("In %s of %s, %s is not a widget",children.customHeader,tabElem,headerElement);
      }
      String headerField=writer.parseElementToField(headerElement);
      writer.addStatement("%s.add(%s, %s);",fieldName,childFieldName,headerField);
    }
 else {
      writer.die("In %1$s, %2$s requires either a <%3$s:%4$s> or <%3$s:%5$s>",panelElem,tabElem,tabElem.getPrefix(),HEADER,CUSTOM);
    }
  }
}
