{
  final SimpleEventBus eventBus=new SimpleEventBus();
  FooEvent.Handler h=new FooEvent.Handler(){
    HandlerRegistration reg=FooEvent.register(eventBus,this);
    public void onFoo(    FooEvent event){
      add(this);
      reg.removeHandler();
    }
  }
;
  eventBus.fireEvent(new FooEvent());
  assertFired(h);
  reset();
  eventBus.fireEvent(new FooEvent());
  assertNotFired(h);
}
