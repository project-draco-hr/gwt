{
  this.picker=picker;
  this.invalidDateReporter=invalidDateReporter;
  this.popup=new PopupPanel();
  popup.setAutoHideEnabled(true);
  popup.setAutoHidePartner(box.getElement());
  popup.setWidget(picker);
  popup.setStyleName("dateBoxPopup");
  initWidget(box);
  setStyleName(DEFAULT_STYLENAME);
  DateBoxHandler handler=new DateBoxHandler();
  picker.addValueChangeHandler(handler);
  box.addFocusHandler(handler);
  box.addBlurHandler(handler);
  box.addClickHandler(handler);
  box.addKeyDownHandler(handler);
}
