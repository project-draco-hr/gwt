{
  if (caretID != 0)   OS.RemoveEventLoopTimer(caretID);
  caretID=0;
  currentCaret=caret;
  if (currentCaret != null) {
    int blinkRate=currentCaret.blinkRate;
    int[] timerId=new int[1];
    double time=blinkRate / 1000.0;
    int eventLoop=OS.GetCurrentEventLoop();
    OS.InstallEventLoopTimer(eventLoop,time,time,caretProc,0,timerId);
    caretID=timerId[0];
  }
}
