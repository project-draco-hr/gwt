{
  if (!newSelectedPending) {
    return;
  }
  Object key=getKey(newSelectedObject);
  boolean sameKey=equalsOrBothNull(curKey,key);
  boolean changed=false;
  if (newSelected) {
    changed=!sameKey;
    curSelection=newSelectedObject;
    curKey=key;
  }
 else   if (sameKey) {
    changed=true;
    curSelection=null;
    curKey=null;
  }
  newSelectedObject=null;
  newSelectedPending=false;
  if (changed) {
    SelectionChangeEvent.fire(this);
  }
}
