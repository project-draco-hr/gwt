{
  final RichTextArea area=new RichTextArea();
  RootPanel.get().add(area);
  area.setHTML("foo");
  this.delayTestFinish(1000);
  new Timer(){
    public void run(){
      RootPanel.get().remove(area);
      RootPanel.get().add(area);
      assertEquals("foo",area.getHTML());
      finishTest();
    }
  }
.schedule(500);
}
