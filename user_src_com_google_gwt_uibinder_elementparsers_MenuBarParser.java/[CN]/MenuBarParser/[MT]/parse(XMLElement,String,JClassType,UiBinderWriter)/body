{
  if (MenuBar.class.getName().equals(type.getQualifiedSourceName())) {
    if (elem.hasAttribute("vertical")) {
      String vertical=elem.consumeBooleanAttribute("vertical");
      writer.setFieldInitializerAsConstructor(fieldName,vertical);
    }
  }
  JClassType itemType=writer.getOracle().findType(MenuItem.class.getName());
  JClassType separatorType=writer.getOracle().findType(MenuItemSeparator.class.getName());
  for (  XMLElement child : elem.consumeChildElements()) {
    JClassType childType=writer.findFieldType(child);
    if (itemType.isAssignableFrom(childType)) {
      String childFieldName=writer.parseElementToField(child);
      writer.addStatement("%1$s.addItem(%2$s);",fieldName,childFieldName);
      continue;
    }
    if (separatorType.isAssignableFrom(childType)) {
      String childFieldName=writer.parseElementToField(child);
      writer.addStatement("%1$s.addSeparator(%2$s);",fieldName,childFieldName);
      continue;
    }
    writer.die(child,BAD_CHILD);
  }
}
