{
  Element benchmark=doc.createElement("benchmark");
  benchmark.setAttribute("class",test.getClass().getName());
  benchmark.setAttribute("name",metaData.getTestName());
  benchmark.setAttribute("description",metaData.getTestDescription());
  String sourceCode=metaData.getSourceCode();
  if (sourceCode != null) {
    Element sourceCodeElement=doc.createElement("source_code");
    sourceCodeElement.appendChild(doc.createTextNode(sourceCode));
    benchmark.appendChild(sourceCodeElement);
  }
  for (Iterator it=results.iterator(); it.hasNext(); ) {
    TestResults result=(TestResults)it.next();
    benchmark.appendChild(toElement(doc,result));
  }
  return benchmark;
}
