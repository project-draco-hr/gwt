{
  Element report=doc.createElement("gwt_benchmark_report");
  String dateString=DateFormat.getDateTimeInstance().format(date);
  report.setAttribute("date",dateString);
  report.setAttribute("gwt_version",version);
  for (Iterator entryIt=testResults.entrySet().iterator(); entryIt.hasNext(); ) {
    Map.Entry entry=(Map.Entry)entryIt.next();
    TestCase test=(TestCase)entry.getKey();
    List results=(List)entry.getValue();
    BenchmarkXml xml=new BenchmarkXml(test,results);
    Element categoryElement=getCategoryElement(doc,report,xml.metaData.getCategory().getClassName());
    categoryElement.appendChild(xml.toElement(doc));
  }
  return report;
}
