{
  JClassType clazz=method.getEnclosingType();
  if (!classSources.containsKey(clazz)) {
    char[] sourceContents=null;
    File sourceFile=findSourceFile(clazz);
    if (sourceFile != null) {
      sourceContents=Util.readFileAsChars(sourceFile);
      classSources.put(clazz,sourceContents);
    }
    if (sourceContents == null) {
      classSources.put(clazz,null);
      String msg="An unknown I/O exception occured while trying to read " + sourceFile.getAbsolutePath();
      logger.log(TreeLogger.WARN,msg,null);
    }
 else {
      classSources.put(clazz,new String(sourceContents));
      String msg="BenchmarkReport read the contents of " + sourceFile.getAbsolutePath();
      TreeLogger branch=logger.branch(TreeLogger.DEBUG,msg,null);
      if (logger.isLoggable(TreeLogger.SPAM)) {
        branch.log(TreeLogger.SPAM,new String(sourceContents),null);
      }
    }
  }
  String source=(String)classSources.get(clazz);
  if (source == null) {
    return source;
  }
  try {
    return source.substring(method.getDeclStart(),method.getDeclEnd() + 1);
  }
 catch (  IndexOutOfBoundsException e) {
    logger.log(TreeLogger.WARN,"Unable to parse " + method.getName(),e);
    return null;
  }
}
