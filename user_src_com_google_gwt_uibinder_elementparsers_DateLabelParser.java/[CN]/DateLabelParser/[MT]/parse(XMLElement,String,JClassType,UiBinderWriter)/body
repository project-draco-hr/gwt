{
  boolean supportsTimeZone=hasDateTimeFormatAndTimeZoneConstructor(writer.getOracle(),type);
  if (hasDateTimeFormatConstructor(writer.getOracle(),type) || supportsTimeZone) {
    String format=consumeFormat(elem,writer);
    if (format != null) {
      String timeZone=(supportsTimeZone ? consumeTimeZone(elem,writer) : null);
      writer.setFieldInitializerAsConstructor(fieldName,makeArgs(format,timeZone));
    }
 else     if (supportsTimeZone && hasTimeZone(elem)) {
      writer.die(elem,NO_TIMEZONE_WITHOUT_SPECIFIED_FORMAT);
    }
  }
}
