{
  GWT.setUncaughtExceptionHandler(new GWT.UncaughtExceptionHandler(){
    public void onUncaughtException(    Throwable e){
      Window.alert("Error: " + e.getMessage());
    }
  }
);
  long employeeId=1;
  try {
    String value=Window.Location.getParameter(EMPLOYEE_ID_PARAM);
    if (value != null && value.length() > 0) {
      employeeId=Long.parseLong(value);
    }
  }
 catch (  NumberFormatException e) {
    RootPanel.get().add(new Label("employeeId is invalid"));
    return;
  }
  final EventBus eventBus=new SimpleEventBus();
  final ExpensesRequestFactory requestFactory=GWT.create(ExpensesRequestFactory.class);
  requestFactory.init(eventBus);
  requestFactory.employeeRequest().findEmployee(employeeId).fire(new Receiver<EmployeeProxy>(){
    public void onSuccess(    EmployeeProxy employee,    Set<SyncResult> syncResults){
      final ExpensesMobileShell shell=new ExpensesMobileShell(eventBus,requestFactory,employee);
      RootPanel.get().add(shell);
      RequestEvent.register(eventBus,new AuthenticationFailureHandler());
      final LoginWidget login=shell.getLoginWidget();
      Receiver<UserInformationProxy> receiver=new Receiver<UserInformationProxy>(){
        public void onSuccess(        UserInformationProxy userInformationRecord,        Set<SyncResult> syncResults){
          login.setUserInformation(userInformationRecord);
        }
      }
;
      requestFactory.userInformationRequest().getCurrentUserInformation(Location.getHref()).fire(receiver);
    }
  }
);
}
