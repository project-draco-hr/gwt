{
  String msg="Getting bytecode for '" + binaryTypeName + "'";
  logger=logger.branch(TreeLogger.SPAM,msg,null);
  TreeLogger oldLogger=threadLogger.push(logger);
  try {
    ByteCode byteCode=doGetByteCodeFromCache(logger,binaryTypeName);
    if (byteCode != null) {
      return byteCode.getBytes();
    }
    ICompilationUnit start=getCompilationUnitForType(logger,binaryTypeName);
    compile(logger,new ICompilationUnit[]{start});
    byteCode=doGetByteCodeFromCache(logger,binaryTypeName);
    if (byteCode != null) {
      return byteCode.getBytes();
    }
 else {
      throw new UnableToCompleteException();
    }
  }
  finally {
    threadLogger.pop(oldLogger);
  }
}
