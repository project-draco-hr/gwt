{
  Type type=typesByClass.get(clazz);
  if (type == null) {
    if (clazz.getEnumConstants() != null) {
      return Type.ENUM;
    }
    throw new IllegalArgumentException(clazz.getName());
  }
  return type;
}
