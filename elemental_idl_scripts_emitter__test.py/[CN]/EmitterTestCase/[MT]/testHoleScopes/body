def testHoleScopes(self):
    e = emitter.Emitter()
    (a, b) = e.Emit('[$!A][$!B]$C$D$E', C='1', D='2')
    e.Emit('  $A$B$C$D')
    self.check(e, '[][]12$E  $A$B$C$D')
    a.Emit('$A$C$D')
    b.Emit('$D$C$B')
    self.check(e, '[$A12][21$B]12$E  $A$B$C$D')
    a.EmitRaw('$C$D')
    b.EmitRaw('$D$C')
    self.check(e, '[$A12$C$D][21$B$D$C]12$E  $A$B$C$D')
