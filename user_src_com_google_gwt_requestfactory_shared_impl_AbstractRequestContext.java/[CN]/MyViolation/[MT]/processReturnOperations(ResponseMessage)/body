{
  List<OperationMessage> ops=response.getOperations();
  if (ops == null) {
    return;
  }
  for (  OperationMessage op : ops) {
    SimpleProxyId<?> id=getId(op);
    WriteOperation[] toPropagate=null;
    WriteOperation effect=op.getOperation();
    if (effect != null) {
switch (effect) {
case DELETE:
        toPropagate=DELETE_ONLY;
      break;
case PERSIST:
    toPropagate=PERSIST_AND_UPDATE;
  break;
case UPDATE:
toPropagate=UPDATE_ONLY;
break;
default :
throw new RuntimeException(effect.toString());
}
}
processReturnOperation(id,op,toPropagate);
}
}
