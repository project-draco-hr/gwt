{
  AutoBean<T> clone=toClone.clone(false);
  clone.accept(new AutoBeanVisitor(){
    @Override public boolean visitReferenceProperty(    String propertyName,    AutoBean<?> value,    PropertyContext ctx){
      if (value != null) {
        if (List.class == ctx.getType()) {
          ctx.set(new ArrayList<Object>((List<?>)value.as()));
        }
 else         if (Set.class == ctx.getType()) {
          ctx.set(new HashSet<Object>((Set<?>)value.as()));
        }
      }
      return false;
    }
  }
);
  return clone;
}
