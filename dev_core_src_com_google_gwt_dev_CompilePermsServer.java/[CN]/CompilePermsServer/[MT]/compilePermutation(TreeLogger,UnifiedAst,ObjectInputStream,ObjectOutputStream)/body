{
  FileBackedObject<PermutationResult> resultFile=(FileBackedObject<PermutationResult>)in.readObject();
  Permutation permutation=(Permutation)in.readObject();
  logger.log(TreeLogger.SPAM,"Permutation read");
  Throwable caught=null;
  try {
    TreeLogger branch=logger.branch(TreeLogger.DEBUG,"Compiling");
    PermutationResult result=CompilePerms.compile(branch,new CompilerContext(),permutation,ast);
    resultFile.set(logger,result);
    logger.log(TreeLogger.DEBUG,"Successfully compiled permutation");
  }
 catch (  UnableToCompleteException e) {
    caught=e;
  }
catch (  Throwable e) {
    logger.log(TreeLogger.ERROR,"Compile failed",e);
    caught=e;
  }
  out.writeObject(caught);
  out.flush();
  logger.log(TreeLogger.SPAM,"Sent result");
}
