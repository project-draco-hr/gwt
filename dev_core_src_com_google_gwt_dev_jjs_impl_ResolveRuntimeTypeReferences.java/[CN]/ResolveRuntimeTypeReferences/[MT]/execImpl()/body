{
  RuntimeTypeCollectorVisitor visitor=new RuntimeTypeCollectorVisitor();
  visitor.accept(program);
  assignTypes(visitor.typesRequiringRuntimeIds);
  ReplaceRuntimeTypeReferencesVisitor replaceTypeIdsVisitor=new ReplaceRuntimeTypeReferencesVisitor();
  replaceTypeIdsVisitor.accept(program);
  for (  JCastMap castMap : program.getCastMaps()) {
    replaceTypeIdsVisitor.accept(castMap);
  }
  return typeIdLiteralsByType;
}
