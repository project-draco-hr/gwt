{
  if (allTypes == null) {
    allTypes=new HashSet<JClassType>();
    JPackage[] pkgs=getPackages();
    for (int i=0; i < pkgs.length; i++) {
      JPackage pkg=pkgs[i];
      JClassType[] types=pkg.getTypes();
      for (int j=0; j < types.length; j++) {
        JRealClassType type=(JRealClassType)types[j];
        buildAllTypesImpl(allTypes,type);
      }
    }
  }
  return allTypes.toArray(NO_JCLASSES);
}
