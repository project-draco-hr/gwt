{
  final int h=(DEGREES * color) % 360;
  final double s=SATURATION;
  final double v=VALUE;
  final int hi=(int)Math.floor(h / 60.) % 6;
  final double f=(h / 60.) - hi;
  final double p=v * (1 - s);
  final double q=v * (1 - f * s);
  final double t=v * (1 - (1 - f) * s);
  final double r, g, b;
switch (hi) {
case 0:
    r=v;
  g=t;
b=p;
break;
case 1:
r=q;
g=v;
b=p;
break;
case 2:
r=p;
g=v;
b=t;
break;
case 3:
r=p;
g=q;
b=v;
break;
case 4:
r=t;
g=p;
b=v;
break;
case 5:
r=v;
g=p;
b=q;
break;
default :
throw new RuntimeException("Unexpected hi of " + hi);
}
return numberToHex(r) + numberToHex(g) + numberToHex(b);
}
