{
  while (true) {
    String prettyIdent=shortIdent + "_" + state.shortIdentCollisionCounts.count(shortIdent)+ RESERVED_IDENT_SUFFIX;
    state.shortIdentCollisionCounts.add(shortIdent);
    if (reserved.isAvailable(prettyIdent) && !state.usedPrettyIdents.contains(prettyIdent)) {
      return prettyIdent;
    }
  }
}
