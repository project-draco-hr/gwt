{
  JsProgram jsProgram=new JsProgram();
  String syntheticFnHeader="function(";
  boolean first=true;
  if (methodDeclaration.arguments != null) {
    for (int i=0, c=methodDeclaration.arguments.length; i < c; ++i) {
      Argument arg=methodDeclaration.arguments[i];
      if (first) {
        first=false;
      }
 else {
        syntheticFnHeader+=',';
      }
      syntheticFnHeader+=String.valueOf(arg.name);
    }
  }
  syntheticFnHeader+=')';
  StringReader sr=new StringReader(syntheticFnHeader + '\n' + jsniCode);
  try {
    List<JsStatement> result=JsParser.parse(SourceInfo.UNKNOWN,jsProgram.getScope(),sr);
    new JsVisitor(){
      public void endVisit(      JsNameRef x,      JsContext<JsExpression> ctx){
        String ident=x.getIdent();
        if (ident.charAt(0) == '@') {
          jsniRefs.add(ident.substring(1));
        }
      }
    }
.acceptList(result);
  }
 catch (  IOException e) {
    throw new InternalCompilerException(e.getMessage(),e);
  }
catch (  JsParserException e) {
  }
}
