{
  errorLabel.setText("");
  person.setName(nameField.getText());
  Validator validator=GWT.create(SampleValidator.class);
  Set<ConstraintViolation<Person>> violations=validator.validate(person);
  if (!violations.isEmpty()) {
    StringBuffer errorMessage=new StringBuffer();
    for (    ConstraintViolation<Person> constraintViolation : violations) {
      if (errorMessage.length() == 0) {
        errorMessage.append('\n');
      }
      errorMessage.append(constraintViolation.getMessage());
    }
    errorLabel.setText(errorMessage.toString());
    return;
  }
  sendButton.setEnabled(false);
  textToServer.setText(person.getName());
  serverResponse.setText("");
  greetingService.greetServer(person,new AsyncCallback<String>(){
    public void onFailure(    Throwable caught){
      dialogBox.setText("Remote Procedure Call - Failure");
      serverResponse.addStyleName(style.error());
      serverResponse.setHTML(SERVER_ERROR);
      dialogBox.center();
      closeButton.setFocus(true);
    }
    public void onSuccess(    String result){
      dialogBox.setText("Remote Procedure Call");
      serverResponse.removeStyleName(style.error());
      serverResponse.setHTML(result);
      dialogBox.center();
      closeButton.setFocus(true);
    }
  }
);
}
