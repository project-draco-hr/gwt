{
  final CommandExecutor ce=new NonRestartingCommandExecutor();
  TestCommand tc1=new TestCommand();
  TestCommand tc2=new TestCommand();
  ce.submit(tc1);
  ce.submit((Command)null);
  ce.submit(tc2);
  ce.doExecuteCommands(Duration.currentTimeMillis() + ONE_HOUR_IN_MILLIS);
  assertTrue(tc1.didExecute() && !tc2.didExecute());
  assertEquals(1,ce.getPendingCommands().size());
  assertTrue(ce.getPendingCommands().contains(tc2));
}
