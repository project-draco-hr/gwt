{
  Class<?> base=TypeUtils.ensureBaseType(type);
  if (visitor.visitType(base)) {
    Type[] params=TypeUtils.getParameterization(base,type);
    for (    Type t : params) {
      if (visitor.visitParameter()) {
        traverse(visitor,t);
      }
      visitor.endVisitParameter();
    }
  }
  visitor.endVisitType(base);
}
