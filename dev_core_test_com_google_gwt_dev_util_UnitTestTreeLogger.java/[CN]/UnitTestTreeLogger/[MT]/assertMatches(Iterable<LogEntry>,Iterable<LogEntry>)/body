{
  Multimap<LogEntry,LogEntry> matches=HashMultimap.create();
  for (  LogEntry expectedEntry : expectedEntries) {
    for (    LogEntry actualEntry : actualEntries) {
      if (expectedEntry.matches(actualEntry)) {
        matches.put(expectedEntry,actualEntry);
      }
    }
  }
  for (  Entry<LogEntry,Collection<LogEntry>> entry : matches.asMap().entrySet()) {
    Assert.assertTrue(entry.getKey() + " matches multiple actual entries " + entry.getValue(),entry.getValue().size() == 1);
  }
  Set<LogEntry> unmatchedActualEntries=Sets.difference(Sets.newHashSet(actualEntries),Sets.newHashSet(matches.values()));
  Set<LogEntry> unmatchedExpectedEntries=Sets.difference(Sets.newHashSet(expectedEntries),Sets.newHashSet(matches.keySet()));
  Assert.assertEquals(unmatchedExpectedEntries,unmatchedActualEntries);
}
