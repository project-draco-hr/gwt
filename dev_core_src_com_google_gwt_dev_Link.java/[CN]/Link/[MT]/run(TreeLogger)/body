{
  init(logger);
  File precompilationFile=new File(options.getCompilerWorkDir(),Precompile.PRECOMPILATION_FILENAME);
  if (!precompilationFile.exists()) {
    logger.log(TreeLogger.ERROR,"File not found '" + precompilationFile.getAbsolutePath() + "'; please run Precompile first");
    return false;
  }
  Precompilation precompilation;
  try {
    precompilation=Util.readFileAsObject(precompilationFile,Precompilation.class);
  }
 catch (  ClassNotFoundException e) {
    logger.log(TreeLogger.ERROR,"Unable to deserialize '" + precompilationFile.getAbsolutePath() + "'",e);
    return false;
  }
  Permutation[] perms=precompilation.getPermutations();
  File[] jsFiles=new File[perms.length];
  for (int i=0; i < perms.length; ++i) {
    jsFiles[i]=CompilePerms.makePermFilename(options.getCompilerWorkDir(),i);
    if (!jsFiles[i].exists()) {
      logger.log(TreeLogger.ERROR,"File not found '" + precompilationFile.getAbsolutePath() + "'; please compile all permutations");
      return false;
    }
  }
  TreeLogger branch=logger.branch(TreeLogger.INFO,"Linking module " + module.getName());
  StandardLinkerContext linkerContext=new StandardLinkerContext(branch,module,precompilation.getUnifiedAst().getOptions());
  ArtifactSet artifacts=doLink(branch,linkerContext,precompilation,jsFiles);
  if (artifacts != null) {
    boolean preexistingExtraDir=moduleExtraDir.exists();
    linkerContext.produceOutputDirectory(branch,artifacts,moduleOutDir,moduleExtraDir);
    if (!preexistingExtraDir && moduleExtraDir.exists() && options.getExtraDir() == null) {
      branch.log(TreeLogger.WARN,"Non-deployed artificats are in '" + moduleExtraDir.getPath() + "', within the deployable output directory '"+ options.getOutDir().getPath()+ "'; use -extra to relocate the auxilliary files");
    }
    branch.log(TreeLogger.INFO,"Link succeeded");
    return true;
  }
  branch.log(TreeLogger.ERROR,"Link failed");
  return false;
}
