{
  Permutation[] perms=precompilation.getPermutations();
  if (perms.length != resultFiles.length) {
    throw new IllegalArgumentException("Mismatched resultFiles.length and permutation count");
  }
  for (int i=0; i < perms.length; ++i) {
    finishPermuation(logger,perms[i],resultFiles[i],linkerContext);
  }
  linkerContext.addOrReplaceArtifacts(precompilation.getGeneratedArtifacts());
  return linkerContext.invokeLink(logger);
}
