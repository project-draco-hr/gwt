{
  StandardLinkerContext linkerContext=new StandardLinkerContext(logger,module,precompileOptions);
  ArtifactSet artifacts=doSimulatedShardingLink(logger,module,linkerContext,generatedArtifacts,permutations,resultFiles);
  OutputFileSet outFileSet=chooseOutputFileSet(outDir,module.getName() + "/");
  OutputFileSet deployFileSet=chooseOutputFileSet(outDir,module.getName() + "-deploy/");
  OutputFileSet extraFileSet=chooseOutputFileSet(outDir,module.getName() + "-aux/");
  doProduceOutput(logger,artifacts,linkerContext,outFileSet,deployFileSet,extraFileSet);
}
