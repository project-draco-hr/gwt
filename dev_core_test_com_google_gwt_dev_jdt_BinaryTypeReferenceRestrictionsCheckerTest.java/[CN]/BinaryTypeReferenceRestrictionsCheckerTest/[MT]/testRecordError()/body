{
  String fileName="TestCompilationUnit.java";
  String errorMessage="Unit has errors";
  CompilationResult compilationResult=new CompilationResult(fileName.toCharArray(),0,0,0);
  CompilationUnitDeclaration cud=new CompilationUnitDeclaration(null,compilationResult,0);
  BinaryTypeReferenceRestrictionsChecker.recordError(cud,new Wildcard(Wildcard.EXTENDS),errorMessage);
  CategorizedProblem[] errors=compilationResult.getErrors();
  assertEquals(1,errors.length);
  CategorizedProblem problem=errors[0];
  assertTrue(problem.isError());
  assertEquals(1,problem.getSourceLineNumber());
  assertEquals(errorMessage,problem.getMessage());
}
