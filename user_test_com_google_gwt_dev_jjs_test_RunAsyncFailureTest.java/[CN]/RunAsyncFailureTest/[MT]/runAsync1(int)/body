{
  log("runAsync1: attempt = " + attempt);
  GWT.runAsync(new MyRunAsyncCallback(){
    public void onFailure(    Throwable caught){
      if (attempt > 20) {
        fail();
      }
      int token=getToken();
      log("onFailure: attempt = " + attempt + ", token = "+ token+ ", caught = "+ caught);
      new Timer(){
        @Override public void run(){
          runAsync1(attempt + 1);
        }
      }
.schedule(100);
    }
    public void onSuccess(){
      int token=getToken();
      log("onSuccess: attempt = " + attempt + ", token = "+ token);
      finishTest();
    }
  }
);
}
