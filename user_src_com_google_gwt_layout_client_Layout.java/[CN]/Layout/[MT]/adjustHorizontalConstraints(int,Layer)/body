{
  double leftPx=l.left * getUnitSize(l.leftUnit,false);
  double rightPx=l.right * getUnitSize(l.rightUnit,false);
  double widthPx=l.width * getUnitSize(l.widthUnit,false);
  if (l.setLeft && !l.setTargetLeft) {
    l.setLeft=false;
    if (!l.setWidth) {
      l.setTargetWidth=true;
      l.sourceWidth=(parentWidth - (leftPx + rightPx)) / getUnitSize(l.targetWidthUnit,false);
    }
 else {
      l.setTargetRight=true;
      l.sourceRight=(parentWidth - (leftPx + widthPx)) / getUnitSize(l.targetRightUnit,false);
    }
  }
 else   if (l.setWidth && !l.setTargetWidth) {
    l.setWidth=false;
    if (!l.setLeft) {
      l.setTargetLeft=true;
      l.sourceLeft=(parentWidth - (rightPx + widthPx)) / getUnitSize(l.targetLeftUnit,false);
    }
 else {
      l.setTargetRight=true;
      l.sourceRight=(parentWidth - (leftPx + widthPx)) / getUnitSize(l.targetRightUnit,false);
    }
  }
 else   if (l.setRight && !l.setTargetRight) {
    l.setRight=false;
    if (!l.setWidth) {
      l.setTargetWidth=true;
      l.sourceWidth=(parentWidth - (leftPx + rightPx)) / getUnitSize(l.targetWidthUnit,false);
    }
 else {
      l.setTargetLeft=true;
      l.sourceLeft=(parentWidth - (rightPx + widthPx)) / getUnitSize(l.targetLeftUnit,false);
    }
  }
  l.setLeft=l.setTargetLeft;
  l.setRight=l.setTargetRight;
  l.setWidth=l.setTargetWidth;
  l.leftUnit=l.targetLeftUnit;
  l.rightUnit=l.targetRightUnit;
  l.widthUnit=l.targetWidthUnit;
}
