{
  StringBuffer code=new StringBuffer();
  code.append("class Foo {\n");
  code.append("  native\nvoid\nm()\n\n\n/*-{\n\n");
  code.append("    @Bar;\n");
  code.append("  }-*/;\n");
  code.append("}\n");
  String source=code.toString();
  CategorizedProblem[] problems=getProblems("Foo",source);
  assertEquals(1,problems.length);
  CategorizedProblem problem=problems[0];
  assertEquals(source.indexOf('@') + "Bar".length(),problem.getSourceStart());
  assertEquals(9,problem.getSourceLineNumber());
  assertTrue(problem.isError());
  assertEquals("Expected \":\" in JSNI reference",problem.getMessage());
}
