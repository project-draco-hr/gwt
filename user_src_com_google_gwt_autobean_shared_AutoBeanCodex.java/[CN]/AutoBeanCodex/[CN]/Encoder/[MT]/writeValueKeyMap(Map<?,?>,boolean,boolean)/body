{
  for (  Map.Entry<?,?> entry : map.entrySet()) {
    sb.append(",").append(encodeValue(entry.getKey()).getPayload()).append(":");
    if (isEncodedValue) {
      sb.append(((Splittable)entry.getValue()).getPayload());
    }
 else     if (isValueValue) {
      sb.append(encodeValue(entry.getValue()).getPayload());
    }
 else {
      encodeToStringBuilder(sb,entry.getValue());
    }
  }
  sb.setCharAt(0,'{');
  sb.append("}");
}
