{
  push(new StringBuilder());
  if (value == null) {
    return false;
  }
  Map<?,?> map=value.as();
  if (map.isEmpty()) {
    sb.append("{}");
    return false;
  }
  Class<?> keyType=ctx.getKeyType();
  Class<?> valueType=ctx.getValueType();
  boolean isEncodedKey=Splittable.class.equals(keyType);
  boolean isEncodedValue=Splittable.class.equals(valueType);
  boolean isValueKey=ValueCodex.canDecode(keyType);
  boolean isValueValue=ValueCodex.canDecode(valueType);
  if (isValueKey) {
    writeValueKeyMap(map,keyType,valueType,isEncodedValue,isValueValue);
  }
 else {
    writeObjectKeyMap(map,valueType,isEncodedKey,isEncodedValue,isValueValue);
  }
  return false;
}
