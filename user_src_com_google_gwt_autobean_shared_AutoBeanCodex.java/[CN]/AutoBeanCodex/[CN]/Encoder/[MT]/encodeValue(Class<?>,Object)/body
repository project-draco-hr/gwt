{
  Splittable split;
  if (value instanceof Enum<?> && enumMap != null) {
    split=ValueCodex.encode(String.class,enumMap.getToken((Enum<?>)value));
  }
 else {
    split=ValueCodex.encode(expectedType,value);
  }
  return split;
}
