{
  Object object;
  if (type.isEnum() && bean.getFactory() instanceof EnumMap) {
    @SuppressWarnings({"unchecked","rawtypes"}) Class<Enum> enumType=(Class<Enum>)type;
    @SuppressWarnings("unchecked") Enum<?> e=((EnumMap)bean.getFactory()).getEnum(enumType,propertyValue);
    object=e;
  }
 else {
    object=ValueCodex.decode(type,propertyValue);
  }
  return object;
}
