{
  JRealClassType realClassType=compiledClass.getRealClassType();
  if (realClassType == null) {
    JRealClassType enclosingType=null;
    CompiledClass enclosingClass=compiledClass.getEnclosingClass();
    if (enclosingClass != null) {
      enclosingType=enclosingClass.getRealClassType();
      if (enclosingType == null) {
        enclosingType=createType(enclosingClass);
      }
    }
    realClassType=createType(compiledClass,enclosingType);
    if (realClassType != null) {
      unresolvedTypes.add(realClassType);
      sourceMapper.put(compiledClass.getTypeDeclaration().binding,realClassType);
      compiledClass.setRealClassType(realClassType);
    }
  }
  return realClassType;
}
