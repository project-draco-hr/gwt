{
  super(true,true);
  registerHandler(new ArgHandlerFlag(){
    @Override public String getPurpose(){
      return "Causes your test to run in web (compiled) mode (defaults to hosted mode)";
    }
    @Override public String getTag(){
      return "-web";
    }
    @Override public boolean setFlag(){
      runStyle=new RunStyleLocalWeb(JUnitShell.this);
      numClients=1;
      return true;
    }
  }
);
  registerHandler(new ArgHandlerString(){
    @Override public String getPurpose(){
      return "Runs web mode via RMI to a BrowserManagerServer; e.g. rmi://localhost/ie6";
    }
    @Override public String getTag(){
      return "-remoteweb";
    }
    @Override public String[] getTagArgs(){
      return new String[]{"rmiUrl"};
    }
    @Override public boolean isUndocumented(){
      return true;
    }
    @Override public boolean setString(    String str){
      String[] urls=str.split(",");
      runStyle=RunStyleRemoteWeb.create(JUnitShell.this,urls);
      numClients=urls.length;
      return runStyle != null;
    }
  }
);
  registerHandler(new ArgHandler(){
    @Override public String[] getDefaultArgs(){
      return null;
    }
    @Override public String getPurpose(){
      return "Causes the system to wait for a remote browser to connect";
    }
    @Override public String getTag(){
      return "-wait";
    }
    @Override public String[] getTagArgs(){
      return new String[]{"[numClients]"};
    }
    @Override public int handle(    String[] args,    int tagIndex){
      int value=1;
      if (tagIndex + 1 < args.length) {
        try {
          value=Integer.parseInt(args[tagIndex + 1]);
          if (value >= 1) {
            setInt(value);
            return 1;
          }
        }
 catch (        NumberFormatException e) {
        }
      }
      setInt(1);
      return 0;
    }
    public void setInt(    int value){
      runStyle=new RunStyleWait(JUnitShell.this,value);
      numClients=value;
    }
  }
);
  registerHandler(new ArgHandlerFlag(){
    @Override public String getPurpose(){
      return "Causes the log window and browser windows to be displayed; useful for debugging";
    }
    @Override public String getTag(){
      return "-notHeadless";
    }
    @Override public boolean setFlag(){
      setHeadless(false);
      return true;
    }
  }
);
  setRunTomcat(true);
  setHeadless(true);
  if (System.getProperty(PROP_JUNIT_HYBRID_MODE) != null) {
    runStyle=new RunStyleLocalWeb(this);
  }
}
