{
  if (unitTestShell == null) {
    BootStrapPlatform.go();
    JUnitShell shell=new JUnitShell();
    String[] args=shell.synthesizeArgs();
    if (!shell.processArgs(args)) {
      throw new RuntimeException("Invalid shell arguments");
    }
    shell.messageQueue=new JUnitMessageQueue(shell.numClients);
    if (!shell.startUp()) {
      throw new RuntimeException("Shell failed to start");
    }
    unitTestShell=shell;
  }
  return unitTestShell;
}
