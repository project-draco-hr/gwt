{
  if (program.isJavaScriptObject(type)) {
    return program.getJavaScriptObject();
  }
 else   if (jsoSingleImpls.containsKey(type) && !dualImpl.contains(type)) {
    return program.getJavaScriptObject();
  }
 else   if (type instanceof JArrayType) {
    JArrayType arrayType=(JArrayType)type;
    JType leafType=arrayType.getLeafType();
    JType replacement=translate(leafType);
    if (leafType != replacement) {
      return program.getTypeArray(replacement,arrayType.getDims());
    }
  }
  return type;
}
