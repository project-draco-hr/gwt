{
  checkIndexBoundsForInsertion(beforeIndex);
  if (w.getParent() == this) {
    int idx=getWidgetIndex(w);
    if (idx < beforeIndex) {
      beforeIndex--;
    }
  }
  return beforeIndex;
}
