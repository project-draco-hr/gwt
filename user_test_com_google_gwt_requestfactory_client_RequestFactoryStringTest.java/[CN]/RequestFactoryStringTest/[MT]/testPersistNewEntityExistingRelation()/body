{
  delayTestFinish(5000);
  SimpleFooStringProxy newFoo=req.create(SimpleFooStringProxy.class);
  final Request<Void> fooReq=req.simpleFooStringRequest().persist(newFoo);
  newFoo=fooReq.edit(newFoo);
  newFoo.setUserName("Ray");
  final SimpleFooStringProxy finalFoo=newFoo;
  req.simpleBarRequest().findSimpleBarById("999L").fire(new Receiver<SimpleBarProxy>(){
    @Override public void onSuccess(    SimpleBarProxy response){
      finalFoo.setBarField(response);
      fooReq.fire(new Receiver<Void>(){
        @Override public void onSuccess(        Void response){
          req.simpleFooStringRequest().findSimpleFooStringById("999x").fire(new Receiver<SimpleFooStringProxy>(){
            @Override public void onSuccess(            SimpleFooStringProxy finalFooProxy){
              assertEquals("GWT",finalFooProxy.getUserName());
              finishTestAndReset();
            }
          }
);
        }
      }
);
    }
  }
);
}
