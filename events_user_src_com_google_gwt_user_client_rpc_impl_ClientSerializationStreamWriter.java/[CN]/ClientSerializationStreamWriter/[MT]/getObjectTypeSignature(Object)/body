{
  Class<?> clazz=o.getClass();
  if (o instanceof Enum) {
    Enum<?> e=(Enum<?>)o;
    clazz=e.getDeclaringClass();
  }
  String typeName=clazz.getName();
  String serializationSignature=serializer.getSerializationSignature(typeName);
  if (serializationSignature != null) {
    typeName+="/" + serializationSignature;
  }
  return typeName;
}
