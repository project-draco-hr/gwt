{
{
    PathPrefixSet pps=new PathPrefixSet();
    pps.add(new PathPrefix("com/google/gwt/user/client/",null));
    pps.add(new PathPrefix("com/google/gwt/i18n/client/",null));
    pps.add(new PathPrefix("com/google/gwt/dom/client/",null));
    assertTrue(pps.includesDirectory("com/"));
    assertTrue(pps.includesDirectory("com/google/"));
    assertTrue(pps.includesDirectory("com/google/gwt/"));
    assertTrue(pps.includesDirectory("com/google/gwt/user/"));
    assertTrue(pps.includesDirectory("com/google/gwt/user/client/"));
    assertTrue(pps.includesDirectory("com/google/gwt/user/client/ui/"));
    assertFalse(pps.includesDirectory("org/"));
    assertFalse(pps.includesDirectory("org/example/"));
    assertFalse(pps.includesDirectory("com/google/gwt/user/server/"));
    assertFalse(pps.includesDirectory("com/google/gwt/xml/client/"));
    assertTrue(pps.includesResource("com/google/gwt/user/client/Command.java"));
    assertTrue(pps.includesResource("com/google/gwt/user/client/Timer.java"));
    assertTrue(pps.includesResource("com/google/gwt/i18n/client/Messages.java"));
    assertTrue(pps.includesResource("com/google/gwt/dom/client/DivElement.java"));
    assertFalse(pps.includesResource("com/google/gwt/user/rebind/rpc/ServiceInterfaceProxyGenerator.java"));
    assertFalse(pps.includesResource("com/google/gwt/sample/hello/client/Hello.java"));
    assertFalse(pps.includesResource("com/google/gwt/user/public/clear.cache.gif"));
  }
{
    PathPrefixSet pps=new PathPrefixSet();
    ResourceFilter allowsGifs=new ResourceFilter(){
      public boolean allows(      String path){
        return path.toLowerCase().endsWith(".gif");
      }
    }
;
    pps.add(new PathPrefix("com/google/gwt/user/public/",allowsGifs));
    pps.add(new PathPrefix("com/google/gwt/sample/mail/public/",allowsGifs));
    assertTrue(pps.includesResource("com/google/gwt/user/public/clear.cache.gif"));
    assertTrue(pps.includesResource("com/google/gwt/sample/mail/public/inboxIcon.gif"));
    assertFalse(pps.includesResource("com/google/gwt/user/public/README.txt"));
    assertFalse(pps.includesResource("com/google/gwt/sample/mail/public/README.txt"));
    assertFalse(pps.includesResource("com/google/gwt/user/client/Command.java"));
    assertFalse(pps.includesResource("com/google/gwt/user/rebind/rpc/ServiceInterfaceProxyGenerator.java"));
    assertFalse(pps.includesResource("com/google/gwt/i18n/public/flags.gif"));
  }
}
