{
  int minVersion=BrowserChannel.PROTOCOL_VERSION_OLDEST;
  int maxVersion=BrowserChannel.PROTOCOL_VERSION_CURRENT;
  String hostedHtmlVersion=HostedHtmlVersion.EXPECTED_GWT_ONLOAD_VERSION;
  new CheckVersionsMessage(channel,minVersion,maxVersion,hostedHtmlVersion).send();
  MessageType type=channel.readMessageType();
  assertEquals(MessageType.CHECK_VERSIONS,type);
  CheckVersionsMessage message=CheckVersionsMessage.receive(channel);
  assertEquals(minVersion,message.getMinVersion());
  assertEquals(maxVersion,message.getMaxVersion());
  assertEquals(hostedHtmlVersion,message.getHostedHtmlVersion());
}
