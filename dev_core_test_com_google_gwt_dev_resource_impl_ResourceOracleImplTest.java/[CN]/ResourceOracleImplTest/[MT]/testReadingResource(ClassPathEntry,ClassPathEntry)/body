{
  TreeLogger logger=createTestTreeLogger();
  ResourceOracleImpl oracle=createResourceOracle(cpe1,cpe2);
  ResourceOracleSnapshot s=refreshAndSnapshot(logger,oracle);
  s.assertCollectionsConsistent(9);
  s.assertPathIncluded("com/google/gwt/user/client/Command.java",cpe1);
  s.assertPathIncluded("com/google/gwt/i18n/client/Messages.java",cpe2);
{
    AbstractResource res=s.findResourceWithPath("com/google/gwt/user/client/Command.java");
    BufferedReader rdr=null;
    try {
      InputStream is=res.openContents();
      assertNotNull(is);
      rdr=new BufferedReader(new InputStreamReader(is));
      assertTrue(rdr.readLine().indexOf("package com.google.gwt.dev.resource.impl.testdata.cpe1.com.google.gwt.user.client;") >= 0);
    }
  finally {
      Utility.close(rdr);
    }
  }
{
    AbstractResource res=s.findResourceWithPath("com/google/gwt/i18n/client/Messages.java");
    BufferedReader rdr=null;
    try {
      InputStream is=res.openContents();
      assertNotNull(is);
      rdr=new BufferedReader(new InputStreamReader(is));
      assertTrue(rdr.readLine().indexOf("package com.google.gwt.dev.resource.impl.testdata.cpe2.com.google.gwt.i18n.client;") >= 0);
    }
  finally {
      Utility.close(rdr);
    }
  }
{
  }
}
