{
  JsonObject sourceMap=null;
  try {
    sourceMap=JsonObject.parse(new StringReader(sourceMapJson));
  }
 catch (  JsonException e) {
    throw new RuntimeException("can't parse sourcemap as json",e);
  }
catch (  IOException e) {
    throw new RuntimeException("can't parse sourcemap as json",e);
  }
  JsonArray sources=(JsonArray)sourceMap.get("sources");
  JsonArray newSources=new JsonArray();
  for (int i=0; i < sources.getLength(); i++) {
    String filename=sources.get(i).asString().getString();
    newSources.add(serverPrefix + filename);
  }
  sourceMap.put("sources",newSources);
  StringWriter buffer=new StringWriter();
  try {
    sourceMap.write(buffer);
  }
 catch (  IOException e) {
    throw new RuntimeException("can't convert sourcemap to json");
  }
  return buffer.toString();
}
