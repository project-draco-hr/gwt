{
  delayTestFinish(5000);
  final String token="foo?bar";
  History.addHistoryListener(new HistoryListener(){
    public void onHistoryChanged(    String historyToken){
      if (historyToken == null) {
        fail("historyToken should not be null");
      }
      assertEquals(token,historyToken);
      History.removeHistoryListener(this);
      finishTest();
    }
  }
);
  History.newItem(token);
}
