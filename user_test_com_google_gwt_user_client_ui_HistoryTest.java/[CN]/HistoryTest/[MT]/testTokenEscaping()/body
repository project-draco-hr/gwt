{
  final String shouldBeEncoded="% ^[]|\"<>{}\\";
  final String shouldBeEncodedAs="%25%20%5E%5B%5D%7C%22%3C%3E%7B%7D%5C";
  delayTestFinish(5000);
  addHistoryListenerImpl(new ValueChangeHandler<String>(){
    @Override public void onValueChange(    ValueChangeEvent<String> event){
      assertEquals(shouldBeEncodedAs,getCurrentLocationHash());
      assertEquals(shouldBeEncoded,event.getValue());
      finishTest();
    }
  }
);
  History.newItem(shouldBeEncoded);
}
