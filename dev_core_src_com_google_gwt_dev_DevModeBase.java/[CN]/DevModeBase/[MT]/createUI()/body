{
  if (headlessMode) {
    return new HeadlessUI(options);
  }
 else {
    if (options.useRemoteUI()) {
      return new RemoteUI(options.getRemoteUIHost(),options.getRemoteUIHostPort(),options.getClientId(),options.getPort(),options.getCodeServerPort());
    }
  }
  return new SwingUI(options);
}
