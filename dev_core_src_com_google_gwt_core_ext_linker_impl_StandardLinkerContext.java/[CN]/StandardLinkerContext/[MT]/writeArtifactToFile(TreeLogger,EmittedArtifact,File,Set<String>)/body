{
  if (!outFile.exists() || (outFile.lastModified() <= artifact.getLastModified())) {
    if (!mkdirs(outFile.getParentFile(),createdDirs)) {
      logger.log(TreeLogger.ERROR,"Unable to create directory for file '" + outFile.getAbsolutePath() + "'");
    }
 else {
      try {
        FileOutputStream out=new FileOutputStream(outFile);
        artifact.writeTo(logger,out);
        out.close();
      }
 catch (      IOException e) {
        logger.log(TreeLogger.ERROR,"Unable to create file '" + outFile.getAbsolutePath() + "'",e);
        throw new UnableToCompleteException();
      }
      outFile.setLastModified(artifact.getLastModified());
    }
  }
}
