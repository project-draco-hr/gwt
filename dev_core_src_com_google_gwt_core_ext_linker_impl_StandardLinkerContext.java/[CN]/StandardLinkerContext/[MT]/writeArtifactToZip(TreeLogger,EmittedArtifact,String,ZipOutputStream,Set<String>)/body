{
  try {
    mkzipDirs(getParentPath(path),zipOutputStream,createdDirs);
    ZipEntry zipEntry=new ZipEntry(path);
    zipEntry.setTime(artifact.getLastModified());
    zipOutputStream.putNextEntry(zipEntry);
    artifact.writeTo(logger,zipOutputStream);
    zipOutputStream.closeEntry();
  }
 catch (  IOException e) {
    logger.log(TreeLogger.ERROR,"Unable to write out artifact '" + artifact.getPartialPath() + "'",e);
    throw new UnableToCompleteException();
  }
}
