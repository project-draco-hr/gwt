{
  if (dir == null) {
    return true;
  }
  String path=dir.getPath();
  if (createdDirs.contains(path)) {
    return true;
  }
  if (!dir.exists()) {
    if (!mkdirs(dir.getParentFile(),createdDirs)) {
      return false;
    }
    if (!dir.mkdir()) {
      return false;
    }
  }
  createdDirs.add(path);
  return true;
}
