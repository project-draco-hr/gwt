{
  if (maybePushBackRef(x)) {
    Object array=Array.newInstance(x.getComponentType(),x.getComponentValues().size());
    push(x,array);
    int size=x.getComponentValues().size();
    Accessor a=CommandSerializationUtil.getAccessor(x.getComponentType());
    for (int i=0; i < size; i++) {
      accept(x.getComponentValues().get(i));
      a.set(array,i,values.pop());
    }
  }
  return false;
}
