{
  if (!values.hasNext()) {
    throw new SerializationException("Reached end of stream");
  }
  ValueCommand next=values.next();
  if (!clazz.isInstance(next)) {
    throw new SerializationException("Cannot assign " + next.getClass().getName() + " to "+ clazz.getName());
  }
  return clazz.cast(next);
}
