{
  if (interpreter == null) {
    throw new NullPointerException("interpreter must not be null");
  }
  StringBuffer buf=new StringBuffer();
  GetEscapedInnerTextVisitor.getEscapedInnerText(elem,buf,interpreter,provider);
  for (  XMLElement child : consumeChildElementsNoEmptyCheck()) {
    if (child.hasChildNodes() || child.getAttributeCount() > 0) {
      logger.die("%s has illegal child %s",this,child);
    }
  }
  clearChildren(elem);
  return buf.toString().trim();
}
