{
  CellTable.Resources resources=GWT.create(TableResources.class);
  table=new CellTable<ReportRecord>(20,resources);
  Styles.Common common=Styles.common();
  table.addColumnStyleName(0,common.spacerColumn());
  table.addColumnStyleName(1,common.expenseListPurposeColumn());
  table.addColumnStyleName(3,common.expenseListDepartmentColumn());
  table.addColumnStyleName(4,common.expenseListCreatedColumn());
  table.addColumnStyleName(5,common.spacerColumn());
  final NoSelectionModel<ReportRecord> selectionModel=new NoSelectionModel<ReportRecord>();
  table.setSelectionModel(selectionModel);
  selectionModel.addSelectionChangeHandler(new SelectionChangeEvent.Handler(){
    public void onSelectionChange(    SelectionChangeEvent event){
      Object selected=selectionModel.getLastSelectedObject();
      if (selected != null && listener != null) {
        listener.onReportSelected((ReportRecord)selected);
      }
    }
  }
);
  table.addColumn(new SpacerColumn<ReportRecord>());
  addColumn("Purpose",new HighlightCell(),new GetValue<ReportRecord,String>(){
    public String getValue(    ReportRecord object){
      return object.getPurpose();
    }
  }
,ReportRecord.purpose);
  addColumn("Notes",new HighlightCell(),new GetValue<ReportRecord,String>(){
    public String getValue(    ReportRecord object){
      return object.getNotes();
    }
  }
,ReportRecord.notes);
  addColumn("Department",new TextCell(),new GetValue<ReportRecord,String>(){
    public String getValue(    ReportRecord object){
      return object.getDepartment();
    }
  }
,ReportRecord.department);
  addColumn("Created",new DateCell(DateTimeFormat.getFormat("MMM dd yyyy")),new GetValue<ReportRecord,Date>(){
    public Date getValue(    ReportRecord object){
      return object.getCreated();
    }
  }
,ReportRecord.created);
  table.addColumn(new SpacerColumn<ReportRecord>());
}
