{
  if (from.compareTo(to) > 0) {
    throw new IllegalArgumentException(from + " > " + to);
  }
  E[] all=from.getDeclaringClass().getEnumConstants();
  E[] set=Array.createFrom(all);
  int start=from.ordinal();
  int end=to.ordinal() + 1;
  for (int i=start; i < end; ++i) {
    set[i]=all[i];
  }
  return new EnumSetImpl<E>(all,set,end - start);
}
