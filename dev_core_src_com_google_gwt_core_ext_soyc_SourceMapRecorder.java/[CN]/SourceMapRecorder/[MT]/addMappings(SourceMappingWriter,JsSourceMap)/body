{
  Set<Range> rangeSet=mappings.keySet();
  Range[] ranges=rangeSet.toArray(new Range[rangeSet.size()]);
  Arrays.sort(ranges,Range.DEPENDENCY_ORDER_COMPARATOR);
  for (  Range r : ranges) {
    SourceInfo info=mappings.get(r);
    if (info == SourceOrigin.UNKNOWN || info.getFileName() == null || info.getStartLine() < 0) {
      continue;
    }
    if (r.getStartLine() == 0 || r.getEndLine() == 0) {
      continue;
    }
    output.addMapping(r,info,getJavaName(info));
  }
  output.flush();
}
