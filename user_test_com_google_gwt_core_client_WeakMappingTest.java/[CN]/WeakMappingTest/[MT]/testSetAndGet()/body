{
  Set<Integer> stronglyReferencedObjects=new HashSet<Integer>();
  for (int i=0; i < 1000; i++) {
    Integer instance=new Integer(i);
    if ((i % 5) == 0) {
      stronglyReferencedObjects.add(instance);
    }
    WeakMapping.set(instance,"key",new Float(i));
  }
  System.gc();
  for (  Integer instance : stronglyReferencedObjects) {
    Object value=WeakMapping.get(instance,"key");
    assertNotNull(value);
    assertTrue(value instanceof Float);
    assert(((Float)value).floatValue() == instance.intValue());
  }
}
