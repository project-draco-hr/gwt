{
  ImplMapEntry[] oldEntries=entries;
  int capacity=oldEntries.length;
  if (fullSlots > threshold) {
    capacity*=2;
  }
  realloc(capacity);
  for (int i=0, n=oldEntries.length; i < n; ++i) {
    ImplMapEntry oldEntry=oldEntries[i];
    if (oldEntry != null && oldEntry.inUse) {
      int slot=implFindSlot(oldEntry.key);
      assert(slot >= 0);
      entries[slot]=oldEntry;
    }
  }
}
