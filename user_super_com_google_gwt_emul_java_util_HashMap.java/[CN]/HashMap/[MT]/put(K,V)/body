{
  V previous;
  if (key instanceof String) {
    previous=putStringValue(stringMap,(String)key,value);
  }
 else   if (key == null) {
    previous=nullSlot;
    nullSlot=value;
  }
 else {
    previous=putHashValue(hashCodeMap,key,value,key.hashCode());
  }
  if (previous == UNDEFINED) {
    ++size;
    return null;
  }
 else {
    return previous;
  }
}
