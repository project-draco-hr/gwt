{
  final boolean[] reallyDone={false,false};
  req.simpleFooRequest().reset().fire(new Receiver<Void>(){
    public void onSuccess(    Void response,    Set<SyncResult> syncResults){
      reallyDone[0]=true;
      if (reallyDone[0] && reallyDone[1]) {
        finishTest();
      }
    }
  }
);
  req.simpleBarRequest().reset().fire(new Receiver<Void>(){
    public void onSuccess(    Void response,    Set<SyncResult> syncResults){
      reallyDone[1]=true;
      if (reallyDone[0] && reallyDone[1]) {
        finishTest();
      }
    }
  }
);
}
