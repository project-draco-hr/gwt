{
  TestCase.assertNull(subject.getValue());
  DateValueChangeTester.Handler h=new Handler();
  subject.addValueChangeHandler(h);
  subject.setValue(null);
  TestCase.assertNull(subject.getValue());
  TestCase.assertNull(h.received);
  Date able=new Date(1999,5,15);
  subject.setValue(able);
  TestCase.assertEquals(able,subject.getValue());
  TestCase.assertNull(h.received);
  subject.setValue(able);
  TestCase.assertNull(h.received);
  Date baker=new Date(1965,12,7);
  subject.setValue(baker);
  TestCase.assertNull(h.received);
  subject.setValue(baker,true);
  TestCase.assertNull(h.received);
  subject.setValue(able,true);
  TestCase.assertEquals(able,h.received);
  TestCase.assertNotSame(able,h.received);
  subject.setValue(baker,true);
  TestCase.assertEquals(baker,h.received);
  TestCase.assertNotSame(baker,h.received);
  h.received=null;
  subject.setValue(baker,false);
  TestCase.assertNull(h.received);
}
