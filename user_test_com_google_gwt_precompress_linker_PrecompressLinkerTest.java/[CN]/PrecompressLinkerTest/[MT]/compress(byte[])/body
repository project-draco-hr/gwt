{
  try {
    ByteArrayOutputStream baos=new ByteArrayOutputStream();
    GZIPOutputStream gzip=new GZIPOutputStream(baos);
    InputStream in=new ByteArrayInputStream(content);
    byte[] buf=new byte[10000];
    int n;
    while ((n=in.read(buf)) > 0) {
      gzip.write(buf,0,n);
    }
    gzip.close();
    return baos.toByteArray();
  }
 catch (  IOException e) {
    throw new RuntimeException("Unexpected IO exception from memory operations");
  }
}
