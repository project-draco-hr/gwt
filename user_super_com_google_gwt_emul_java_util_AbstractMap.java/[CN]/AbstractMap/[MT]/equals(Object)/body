{
  if (obj == this) {
    return true;
  }
  if (!(obj instanceof Map)) {
    return false;
  }
  Map otherMap=((Map)obj);
  Set keys=keySet();
  Set otherKeys=otherMap.keySet();
  if (!keys.equals(otherKeys)) {
    return false;
  }
  for (Iterator iter=keys.iterator(); iter.hasNext(); ) {
    Object key=iter.next();
    Object value=get(key);
    Object otherValue=otherMap.get(key);
    if (value == null ? otherValue != null : !value.equals(otherValue)) {
      return false;
    }
  }
  return true;
}
