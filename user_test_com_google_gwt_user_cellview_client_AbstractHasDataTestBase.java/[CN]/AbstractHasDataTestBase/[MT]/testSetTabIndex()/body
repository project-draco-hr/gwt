{
  AbstractHasData<String> display=createAbstractHasData();
  ListDataProvider<String> provider=new ListDataProvider<String>(createData(0,10));
  provider.addDataDisplay(display);
  assertEquals(0,display.getTabIndex());
  assertEquals(0,display.getKeyboardSelectedElement().getTabIndex());
  display.setTabIndex(2);
  assertEquals(2,display.getTabIndex());
  assertEquals(2,display.getKeyboardSelectedElement().getTabIndex());
  provider.refresh();
  assertEquals(2,display.getTabIndex());
  assertEquals(2,display.getKeyboardSelectedElement().getTabIndex());
}
