{
  assert(isResponseReady(xmlHttpRequest));
  Response response=new Response(){
    @Override public String getHeader(    String header){
      StringValidator.throwIfEmptyOrNull("header",header);
      return xmlHttpRequest.getResponseHeader(header);
    }
    @Override public Header[] getHeaders(){
      return Request.getHeaders(xmlHttpRequest);
    }
    @Override public String getHeadersAsString(){
      return xmlHttpRequest.getAllResponseHeaders();
    }
    @Override public int getStatusCode(){
      return xmlHttpRequest.getStatus();
    }
    @Override public String getStatusText(){
      return xmlHttpRequest.getStatusText();
    }
    @Override public String getText(){
      return xmlHttpRequest.getResponseText();
    }
  }
;
  return response;
}
