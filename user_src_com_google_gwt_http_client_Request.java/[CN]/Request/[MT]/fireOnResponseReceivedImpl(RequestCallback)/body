{
  if (xmlHttpRequest == null) {
    return;
  }
  cancelTimer();
  final JavaScriptObject xmlHttp=xmlHttpRequest;
  xmlHttpRequest=null;
  if (XMLHTTPRequest.hasStatusCodeUndefinedBug(xmlHttp)) {
    Throwable exception=new RuntimeException("XmlHttpRequest.status == undefined, please see Safari bug http://bugs.webkit.org/show_bug.cgi?id=3810 for more details");
    callback.onError(this,exception);
  }
 else {
    Response response=createResponse(xmlHttp);
    callback.onResponseReceived(this,response);
  }
}
