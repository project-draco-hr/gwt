{
  if (xmlHttpRequest == null) {
    return;
  }
  cancelTimer();
  final XMLHttpRequest xhr=xmlHttpRequest;
  xmlHttpRequest=null;
  String errorMsg=getBrowserSpecificFailure(xhr);
  if (errorMsg != null) {
    Throwable exception=new RuntimeException(errorMsg);
    callback.onError(this,exception);
  }
 else {
    Response response=createResponse(xhr);
    callback.onResponseReceived(this,response);
  }
}
