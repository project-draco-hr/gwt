{
  if (value == null) {
    return !type.isPrimitive();
  }
  Class valueType=value.getClass();
  if (type.isAssignableFrom(valueType)) {
    return true;
  }
  if (boxedTypeForPrimitiveType.get(valueType) == type || primitiveTypeForBoxedType.get(valueType) == type) {
    return true;
  }
  return false;
}
