{
  int length=stack.length();
  if (length == 0) {
    return null;
  }
  StackTraceElement[] stackTrace=new StackTraceElement[length];
  for (int i=0; i < length; i++) {
    String stackElements[]=stack.get(i).split("@@");
    int line=LINE_NUMBER_UNKNOWN;
    int col=-1;
    String fileName=UNKNOWN;
    if (stackElements.length == 2 && stackElements[1] != null) {
      String location=stackElements[1];
      int lastColon=location.lastIndexOf(':');
      int endFileUrl=location.lastIndexOf(':',lastColon - 1);
      fileName=location.substring(0,endFileUrl);
      if (lastColon != -1 && endFileUrl != -1) {
        line=parseInt(location.substring(endFileUrl + 1,lastColon));
        col=parseInt(location.substring(lastColon + 1));
      }
    }
    stackTrace[i]=new StackTraceElement(UNKNOWN,stackElements[0],fileName + "@" + col,replaceIfNoSourceMap(line < 0 ? LINE_NUMBER_UNKNOWN : line));
  }
  return stackTrace;
}
