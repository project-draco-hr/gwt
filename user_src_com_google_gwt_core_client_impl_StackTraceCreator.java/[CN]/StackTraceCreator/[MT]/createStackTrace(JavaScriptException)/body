{
  if (!GWT.isScript()) {
    throw new RuntimeException("StackTraceCreator should only be called in web mode");
  }
  JsArrayString stack=GWT.<Collector>create(Collector.class).inferFrom(e.getException());
  StackTraceElement[] stackTrace=new StackTraceElement[stack.length()];
  for (int i=0, j=stackTrace.length; i < j; i++) {
    stackTrace[i]=new StackTraceElement("Unknown",stack.get(i),"Unknown source",0);
  }
  e.setStackTrace(stackTrace);
}
