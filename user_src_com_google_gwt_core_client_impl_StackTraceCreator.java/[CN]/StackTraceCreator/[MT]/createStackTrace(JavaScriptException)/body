{
  if (!GWT.isScript()) {
    throw new RuntimeException("StackTraceCreator should only be called in Production Mode");
  }
  Collector collector=GWT.<Collector>create(Collector.class);
  JsArrayString stack=collector.inferFrom(e.getThrown());
  StackTraceElement[] stackTrace=collector.getStackTrace(stack);
  if (stackTrace != null) {
    e.setStackTrace(stackTrace);
  }
}
