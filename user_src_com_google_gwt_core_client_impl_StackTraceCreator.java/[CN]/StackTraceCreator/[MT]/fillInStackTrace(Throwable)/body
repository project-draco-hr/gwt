{
  if (!GWT.isScript()) {
    throw new RuntimeException("StackTraceCreator should only be called in Production Mode");
  }
  Collector collector=GWT.<Collector>create(Collector.class);
  JsArrayString stack=collector.collect();
  StackTraceElement[] stackTrace=collector.getStackTrace(stack);
  if (stackTrace != null) {
    t.setStackTrace(stackTrace);
  }
}
