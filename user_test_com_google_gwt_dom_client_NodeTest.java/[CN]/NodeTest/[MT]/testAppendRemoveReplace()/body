{
  Document doc=Document.get();
  BodyElement body=doc.getBody();
  DivElement div=doc.createDivElement();
  Text txt0=doc.createTextNode("foo");
  ButtonElement btn0=doc.createButtonElement();
  Text txt1=doc.createTextNode("bar");
  body.appendChild(div);
  div.appendChild(txt0);
  div.appendChild(btn0);
  div.appendChild(txt1);
  ButtonElement btn1=doc.createButtonElement();
  div.appendChild(btn1);
  assertEquals(btn1,div.getLastChild());
  div.insertBefore(btn1,txt1);
  assertEquals(4,div.getChildNodes().getLength());
  assertEquals(btn1,div.getChildNodes().getItem(2));
  div.removeChild(btn1);
  assertEquals(3,div.getChildNodes().getLength());
  div.replaceChild(btn1,btn0);
  assertEquals(btn1,txt0.getNextSibling());
  assertEquals(btn1,txt1.getPreviousSibling());
  div.insertAfter(btn0,btn1);
  assertEquals(btn0,btn1.getNextSibling());
  div.insertFirst(btn1);
  assertEquals(btn1,div.getFirstChild());
  btn1.removeFromParent();
  assertNull(btn1.getParentElement());
  assertEquals(txt0,div.getFirstChild());
}
