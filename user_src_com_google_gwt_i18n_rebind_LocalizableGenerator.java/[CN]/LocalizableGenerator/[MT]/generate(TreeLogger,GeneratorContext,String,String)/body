{
  TypeOracle typeOracle=context.getTypeOracle();
  if (lastReloadCount != typeOracle.getReloadCount()) {
    ResourceFactory.clearCache();
    lastReloadCount=typeOracle.getReloadCount();
  }
  JClassType targetClass;
  try {
    targetClass=typeOracle.getType(typeName);
  }
 catch (  NotFoundException e) {
    logger.log(TreeLogger.ERROR,"No such type",e);
    throw new UnableToCompleteException();
  }
  TreeLogger deprecatedLogger=null;
  if (GenUtil.warnAboutMetadata()) {
    deprecatedLogger=logger.branch(TreeLogger.TRACE,"Checking for deprecated metadata",null);
  }
  GwtLocale locale=LocaleUtils.getLocaleFactory().fromString(localeName);
  String generatedClass=AbstractLocalizableImplCreator.generateConstantOrMessageClass(logger,deprecatedLogger,context,locale,targetClass);
  if (generatedClass != null) {
    return generatedClass;
  }
  return linkageCreator.linkWithImplClass(logger,targetClass,locale);
}
