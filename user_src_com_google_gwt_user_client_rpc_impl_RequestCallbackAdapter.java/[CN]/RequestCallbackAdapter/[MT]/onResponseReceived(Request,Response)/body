{
  T result=null;
  Throwable caught=null;
  try {
    String encodedResponse=response.getText();
    boolean toss=RemoteServiceProxy.isStatsAvailable() && RemoteServiceProxy.stats(methodName + ":" + requestId+ ":responseReceived",RemoteServiceProxy.bytesStat(methodName,requestId,encodedResponse.length()));
    if (RemoteServiceProxy.isReturnValue(encodedResponse)) {
      result=(T)responseReader.read(streamFactory.createStreamReader(encodedResponse));
    }
 else     if (RemoteServiceProxy.isThrownException(encodedResponse)) {
      caught=(Throwable)streamFactory.createStreamReader(encodedResponse).readObject();
    }
 else {
      caught=new InvocationException(encodedResponse);
    }
  }
 catch (  com.google.gwt.user.client.rpc.SerializationException e) {
    caught=new IncompatibleRemoteServiceException();
  }
catch (  Throwable e) {
    caught=e;
  }
 finally {
    boolean toss=RemoteServiceProxy.isStatsAvailable() && RemoteServiceProxy.stats(methodName + ":" + requestId+ ":responseDeserialized",RemoteServiceProxy.timeStat(methodName,requestId));
  }
  try {
    if (caught == null) {
      callback.onSuccess(result);
    }
 else {
      callback.onFailure(caught);
    }
  }
  finally {
    boolean toss=RemoteServiceProxy.isStatsAvailable() && RemoteServiceProxy.stats(methodName + ":" + requestId+ ":responseCallbackDone",RemoteServiceProxy.timeStat(methodName,requestId));
  }
}
