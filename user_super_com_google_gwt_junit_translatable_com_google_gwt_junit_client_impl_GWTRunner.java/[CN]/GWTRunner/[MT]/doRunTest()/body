{
  String currentModule=GWT.getModuleName();
  String newModule=getCurrentTest().getTestModule();
  if (currentModule.equals(newModule)) {
    runTest();
  }
 else {
    String currentPath=Window.Location.getPath();
    String pathSuffix=currentPath.substring(currentPath.lastIndexOf('/'));
    UrlBuilder builder=Window.Location.createUrlBuilder();
    builder.setParameter(BLOCKINDEX_QUERY_PARAM,Integer.toString(currentBlock.getIndex())).setPath(newModule + pathSuffix);
    String sessionCookie=Cookies.getCookie(SESSIONCOOKIE_QUERY_PARAM);
    if (sessionCookie != null) {
      builder.setParameter(SESSIONCOOKIE_QUERY_PARAM,sessionCookie);
    }
    Window.Location.replace(builder.buildString());
    currentBlock=null;
    currentTestIndex=0;
  }
}
