{
  this.listener=listener;
  this.requestFactory=requestFactory;
  this.employee=employee;
  reportDataProvider=new AsyncDataProvider<ReportRecord>(){
    @Override protected void onRangeChanged(    HasData<ReportRecord> view){
      requestReports();
    }
  }
;
  reportDataProvider.setKeyProvider(Expenses.REPORT_RECORD_KEY_PROVIDER);
  reportList=new CellList<ReportRecord>(new AbstractCell<ReportRecord>(){
    @Override public void render(    ReportRecord value,    Object viewData,    SafeHtmlBuilder sb){
      sb.appendHtmlConstant("<div class='item'>");
      sb.appendEscaped(value.getPurpose());
      sb.appendHtmlConstant("</div>");
    }
  }
);
  reportSelection=new NoSelectionModel<ReportRecord>();
  reportSelection.setKeyProvider(Expenses.REPORT_RECORD_KEY_PROVIDER);
  reportSelection.addSelectionChangeHandler(new SelectionChangeEvent.Handler(){
    public void onSelectionChange(    SelectionChangeEvent event){
      listener.onReportSelected(reportSelection.getLastSelectedObject());
    }
  }
);
  reportList.setSelectionModel(reportSelection);
  reportDataProvider.addDataDisplay(reportList);
  initWidget(reportList);
  onRefresh(false);
}
