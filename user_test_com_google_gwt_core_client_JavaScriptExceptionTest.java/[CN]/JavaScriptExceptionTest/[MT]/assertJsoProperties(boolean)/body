{
  JavaScriptObject jso=makeJSO();
  try {
    throwNative(jso);
    fail();
  }
 catch (  JavaScriptException e) {
    assertEquals("myName",e.getName());
    assertEquals("myDescription",e.getDescription());
    assertSame(jso,e.getException());
    assertTrue(e.getMessage().contains("myName"));
    assertTrue(e.getMessage().contains("myDescription"));
    if (extraPropertiesShouldBePresent) {
      assertTrue("message does not contain 'extraField', but should: " + e.getMessage(),e.getMessage().contains("extraField"));
      assertTrue("message does not contain 'extraData', but should:" + e.getMessage(),e.getMessage().contains("extraData"));
    }
 else {
      assertFalse("message contains 'extraField', but shouldn't: " + e.getMessage(),e.getMessage().contains("extraField"));
      assertFalse("message contains 'extraData', but shouldn't:" + e.getMessage(),e.getMessage().contains("extraData"));
    }
  }
}
