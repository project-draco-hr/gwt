{
  if (isAttached()) {
    throw new IllegalStateException("Should only call onAttach when the widget is detached from the browser's document");
  }
  attached=true;
  DOM.setEventListener(getElement(),this);
  int bitsToAdd=eventsToSink;
  eventsToSink=-1;
  if (bitsToAdd > 0) {
    sinkEvents(bitsToAdd);
  }
  doAttachChildren();
  onLoad();
}
