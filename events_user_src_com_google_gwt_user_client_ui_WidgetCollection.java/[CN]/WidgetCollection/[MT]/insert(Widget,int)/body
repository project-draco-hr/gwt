{
  if ((beforeIndex < 0) || (beforeIndex > size)) {
    throw new IndexOutOfBoundsException();
  }
  if (size == array.length) {
    Widget[] newArray=new Widget[array.length * 2];
    for (int i=0; i < array.length; ++i) {
      newArray[i]=array[i];
    }
    array=newArray;
  }
  ++size;
  for (int i=size - 1; i > beforeIndex; --i) {
    array[i]=array[i - 1];
  }
  array[beforeIndex]=w;
}
