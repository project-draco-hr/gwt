{
  manager.setDisplay(realDisplay);
  assertEquals(0,eventBus.getCount(MyEvent.TYPE));
  activity1=new SyncActivity(null){
    @Override public void start(    AcceptsOneWidget panel,    EventBus eventBus){
      super.start(panel,eventBus);
      bus.addHandler(MyEvent.TYPE,new Handler());
    }
    @Override public void onStop(){
      super.onStop();
      bus.addHandler(MyEvent.TYPE,new Handler());
    }
  }
;
  PlaceChangeEvent event=new PlaceChangeEvent(place1);
  eventBus.fireEvent(event);
  assertEquals(1,eventBus.getCount(MyEvent.TYPE));
  event=new PlaceChangeEvent(place2);
  eventBus.fireEvent(event);
  assertEquals(0,eventBus.getCount(MyEvent.TYPE));
  assertEquals(1,eventBus.getCount(PlaceChangeEvent.TYPE));
  assertEquals(1,eventBus.getCount(PlaceChangeRequestEvent.TYPE));
}
