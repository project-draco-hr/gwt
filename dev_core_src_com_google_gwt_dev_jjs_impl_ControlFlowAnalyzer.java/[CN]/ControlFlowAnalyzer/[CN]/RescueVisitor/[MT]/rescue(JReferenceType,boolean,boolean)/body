{
  if (type == null) {
    return;
  }
  type=type.getUnderlyingType();
  boolean doVisit=false;
  if (isInstantiated && instantiatedTypes.add(type)) {
    maybeRescueClassLiteral(type);
    doVisit=true;
  }
  if (isReferenced && referencedTypes.add(type)) {
    doVisit=true;
  }
  if (!doVisit) {
    return;
  }
  accept(type);
  if (type instanceof JInterfaceType) {
    JInterfaceType intfType=(JInterfaceType)type;
    if (intfType.isJsInterface()) {
      for (      JMethod method : intfType.getMethods()) {
        rescue(method);
      }
    }
  }
  if (!(type instanceof JDeclaredType)) {
    return;
  }
  for (  JNode artificial : ((JDeclaredType)type).getArtificialRescues()) {
    if (artificial instanceof JReferenceType) {
      rescue((JReferenceType)artificial,true,true);
    }
 else     if (artificial instanceof JVariable) {
      rescue((JVariable)artificial);
    }
 else     if (artificial instanceof JMethod) {
      rescue((JMethod)artificial);
    }
  }
}
