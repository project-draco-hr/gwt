{
  if (type != null) {
    boolean doVisit=false;
    if (isInstantiated && !instantiatedTypes.contains(type)) {
      instantiatedTypes.add(type);
      doVisit=true;
    }
    if (isReferenced && !referencedTypes.contains(type)) {
      referencedTypes.add(type);
      doVisit=true;
    }
    if (doVisit) {
      accept(type);
    }
  }
}
