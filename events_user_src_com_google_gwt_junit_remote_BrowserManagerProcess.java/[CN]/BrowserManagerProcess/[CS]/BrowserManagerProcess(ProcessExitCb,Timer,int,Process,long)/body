{
  this.process=process;
  this.timer=timer;
  this.token=token;
  final long startTime=System.currentTimeMillis();
  Thread cleanupThread=new Thread(){
    @Override public void run(){
      while (true) {
        try {
          int exitValue=process.waitFor();
          doCleanup(cb,exitValue,token,System.currentTimeMillis() - startTime);
          return;
        }
 catch (        InterruptedException e) {
          logger.log(Level.WARNING,"Interrupted waiting for process exit of: " + token,e);
        }
      }
    }
  }
;
  cleanupThread.setDaemon(true);
  cleanupThread.setName("Browser-" + token + "-Wait");
  cleanupThread.start();
  keepAlive(initKeepAliveMs);
}
