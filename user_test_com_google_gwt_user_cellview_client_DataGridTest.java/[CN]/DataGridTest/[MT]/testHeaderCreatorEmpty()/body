{
  DataGrid<String> table=createAbstractHasData();
  RootPanel.get().add(table);
  HeaderCreator<String> emptyBuilder=new HeaderCreator<String>(){
    @Override public void buildHeader(    HeaderCreator.Helper<String> utility){
    }
  }
;
  HeaderCreator<String> notEmptyBuilder=new HeaderCreator<String>(){
    @Override public void buildHeader(    HeaderCreator.Helper<String> utility){
      utility.startRow();
    }
  }
;
  table.setHeaderCreator(emptyBuilder);
  table.setFooterCreator(notEmptyBuilder);
  table.getPresenter().flush();
  assertFalse(table.tableHeader.isAttached());
  assertTrue(table.tableFooter.isAttached());
  table.setHeaderCreator(notEmptyBuilder);
  table.setFooterCreator(emptyBuilder);
  table.getPresenter().flush();
  assertTrue(table.tableHeader.isAttached());
  assertFalse(table.tableFooter.isAttached());
  RootPanel.get().remove(table);
}
