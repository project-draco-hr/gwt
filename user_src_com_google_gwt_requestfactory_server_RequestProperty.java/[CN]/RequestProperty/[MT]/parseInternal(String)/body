{
  int dotIndex=sequence.indexOf('.');
  String part=dotIndex > -1 ? sequence.substring(0,dotIndex) : sequence;
  RequestProperty prop=getOrCreate(part);
  add(prop);
  if (dotIndex > -1) {
    if (dotIndex < sequence.length() - 1) {
      String next=sequence.substring(dotIndex + 1);
      if ("".equals(next)) {
        throw new IllegalArgumentException("Empty property name '..' not allowed in " + sequence);
      }
      if (next.length() > 0) {
        return prop.parseInternal(next);
      }
    }
    throw new IllegalArgumentException("Trailing '.' in with() call " + sequence);
  }
  return prop;
}
