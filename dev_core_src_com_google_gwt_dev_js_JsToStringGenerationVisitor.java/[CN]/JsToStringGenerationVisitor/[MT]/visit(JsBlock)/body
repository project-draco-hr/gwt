{
  boolean needBraces=!block.isGlobalBlock();
  if (needBraces) {
    _blockOpen();
  }
  for (Iterator iter=block.getStatements().iterator(); iter.hasNext(); ) {
    JsStatement stmt=(JsStatement)iter.next();
    fNeedSemi=true;
    stmt.traverse(this);
    if (fNeedSemi) {
      if (stmt instanceof JsExprStmt && ((JsExprStmt)stmt).getExpression() instanceof JsFunction) {
        _newline();
      }
 else {
        _semi();
        _newlineOpt();
      }
    }
  }
  if (needBraces) {
    _blockClose();
  }
  fNeedSemi=false;
  return false;
}
