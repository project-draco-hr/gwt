{
  CompiledClass writeObject=new CompiledClass(dummyByteCode,null,false,"com/example/DeadBeef","com.example.DeadBeef");
  ByteArrayOutputStream outputStream=new ByteArrayOutputStream();
  Util.writeObjectToStream(outputStream,writeObject);
  ByteArrayInputStream inputStream=new ByteArrayInputStream(outputStream.toByteArray());
  CompiledClass readObject=Util.readStreamAsObject(inputStream,CompiledClass.class);
  assertEquals(4,readObject.getBytes().length);
  byte[] readBytes=readObject.getBytes();
  for (int i=0; i < 4; ++i) {
    assertEquals(dummyByteCode[i],readBytes[i]);
  }
}
