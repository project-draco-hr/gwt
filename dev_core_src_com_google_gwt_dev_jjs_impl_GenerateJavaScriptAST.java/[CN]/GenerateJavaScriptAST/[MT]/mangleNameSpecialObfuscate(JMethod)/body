{
  assert(specialObfuscatedIdents.containsKey(x.getName()));
switch (output) {
case OBFUSCATED:
    return specialObfuscatedIdents.get(x.getName());
case PRETTY:
  return x.getName() + "$";
case DETAILED:
return mangleNameForPoly(x) + "$";
}
throw new InternalCompilerException("Unknown output mode");
}
