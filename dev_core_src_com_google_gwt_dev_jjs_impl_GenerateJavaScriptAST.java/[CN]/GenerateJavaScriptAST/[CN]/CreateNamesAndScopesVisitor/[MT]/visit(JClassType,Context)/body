{
  JsScope myScope=classScopes.get(x);
  if (myScope != null) {
    push(myScope);
    return false;
  }
  names.put(x,topScope.declareName(getNameString(x),x.getShortName()));
  if (x.extnds == null) {
    myScope=objectScope;
  }
 else {
    JsScope parentScope=classScopes.get(x.extnds);
    if (parentScope == null) {
      accept(x.extnds);
    }
    parentScope=classScopes.get(x.extnds);
    assert(parentScope != null);
    if (parentScope == objectScope) {
      parentScope=interfaceScope;
    }
    myScope=new JsScope(parentScope,"class " + x.getShortName());
  }
  classScopes.put(x,myScope);
  String packageName=getPackageName(x.getName());
  if (packageName != null && packageName.length() > 0) {
    if (packageNames.get(packageName) == null) {
      String ident="package_" + packageName.replace('.','_');
      JsName jsName=topScope.declareName(ident);
      packageNames.put(packageName,jsName);
    }
  }
  push(myScope);
  return true;
}
