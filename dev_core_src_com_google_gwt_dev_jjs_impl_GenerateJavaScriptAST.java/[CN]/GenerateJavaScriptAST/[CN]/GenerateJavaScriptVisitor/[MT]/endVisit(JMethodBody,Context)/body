{
  JsBlock body=(JsBlock)pop();
  List locals=popList(x.locals.size());
  JsFunction jsFunc=(JsFunction)methodBodyMap.get(x);
  jsFunc.setBody(body);
  JsVars vars=new JsVars();
  Set alreadySeen=new HashSet();
  for (int i=0; i < locals.size(); ++i) {
    JsName name=(JsName)names.get(x.locals.get(i));
    String ident=name.getIdent();
    if (!alreadySeen.contains(ident)) {
      alreadySeen.add(ident);
      vars.add(new JsVar(name));
    }
  }
  if (!vars.isEmpty()) {
    jsFunc.getBody().getStatements().add(0,vars);
  }
  push(jsFunc);
}
