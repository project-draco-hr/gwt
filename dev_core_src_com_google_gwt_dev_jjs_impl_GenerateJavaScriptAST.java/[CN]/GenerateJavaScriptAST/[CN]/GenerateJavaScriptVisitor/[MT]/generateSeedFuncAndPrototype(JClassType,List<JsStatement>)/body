{
  SourceInfo sourceInfo=x.getSourceInfo().makeChild(GenerateJavaScriptVisitor.class,"Seed and function prototype");
  if (x != program.getTypeJavaLangString()) {
    JsName seedFuncName=names.get(x);
    JsFunction seedFunc=new JsFunction(sourceInfo,topScope,seedFuncName,true);
    seedFuncName.setStaticRef(seedFunc);
    JsBlock body=new JsBlock(sourceInfo);
    seedFunc.setBody(body);
    JsExprStmt seedFuncStmt=seedFunc.makeStmt();
    globalStmts.add(seedFuncStmt);
    typeForStatMap.put(seedFuncStmt,x);
    JsNameRef seedProtoRef=prototype.makeRef(sourceInfo);
    seedProtoRef.setQualifier(seedFuncName.makeRef(sourceInfo));
    JsExpression protoObj;
    if (x.getSuperClass() != null) {
      JsNameRef superPrototypeRef=names.get(x.getSuperClass()).makeRef(sourceInfo);
      JsNew newExpr=new JsNew(sourceInfo,superPrototypeRef);
      protoObj=newExpr;
    }
 else {
      protoObj=new JsObjectLiteral(sourceInfo);
    }
    JsExpression protoAsg=createAssignment(seedProtoRef,protoObj);
    for (    JMethod method : x.getMethods()) {
      if (liveCtors.contains(method)) {
        JsNameRef protoRef=prototype.makeRef(sourceInfo);
        protoRef.setQualifier(names.get(method).makeRef(sourceInfo));
        protoAsg=createAssignment(protoRef,protoAsg);
      }
    }
    JsExpression tmpAsg=createAssignment(globalTemp.makeRef(sourceInfo),protoAsg);
    JsExprStmt tmpAsgStmt=tmpAsg.makeStmt();
    globalStmts.add(tmpAsgStmt);
    typeForStatMap.put(tmpAsgStmt,x);
  }
 else {
    JsNameRef rhs=prototype.makeRef(sourceInfo);
    rhs.setQualifier(JsRootScope.INSTANCE.findExistingUnobfuscatableName("String").makeRef(sourceInfo));
    JsExpression tmpAsg=createAssignment(globalTemp.makeRef(sourceInfo),rhs);
    JsExprStmt tmpAsgStmt=tmpAsg.makeStmt();
    globalStmts.add(tmpAsgStmt);
    typeForStatMap.put(tmpAsgStmt,x);
  }
}
