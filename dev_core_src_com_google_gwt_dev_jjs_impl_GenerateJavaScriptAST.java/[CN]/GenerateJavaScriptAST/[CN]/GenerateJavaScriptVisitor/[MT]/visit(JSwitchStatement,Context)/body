{
  JsSwitch jsSwitch=new JsSwitch(x.getSourceInfo());
  accept(x.getExpr());
  jsSwitch.setExpr((JsExpression)pop());
  List<JStatement> bodyStmts=x.getBody().getStatements();
  if (bodyStmts.size() > 0) {
    List<JsStatement> curStatements=null;
    for (int i=0; i < bodyStmts.size(); ++i) {
      JStatement stmt=bodyStmts.get(i);
      accept(stmt);
      if (stmt instanceof JCaseStatement) {
        JsSwitchMember switchMember=(JsSwitchMember)pop();
        jsSwitch.getCases().add(switchMember);
        curStatements=switchMember.getStmts();
      }
 else {
        assert(curStatements != null);
        JsStatement newStmt=(JsStatement)pop();
        if (newStmt != null) {
          curStatements.add(newStmt);
        }
      }
    }
  }
  push(jsSwitch);
  return false;
}
