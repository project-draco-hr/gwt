{
  super.endVisit(x,ctx);
  JsArrayLiteral arrayLit=(JsArrayLiteral)pop();
  SourceInfo sourceInfo=x.getSourceInfo();
  if (namesByQueryId == null || x.getExprs().size() == 0) {
    JsObjectLiteral objLit=new JsObjectLiteral(sourceInfo);
    List<JsPropertyInitializer> props=objLit.getPropertyInitializers();
    JsNumberLiteral one=new JsNumberLiteral(sourceInfo,1);
    for (    JsExpression expr : arrayLit.getExpressions()) {
      JsPropertyInitializer prop=new JsPropertyInitializer(sourceInfo,expr,one);
      props.add(prop);
    }
    push(objLit);
  }
 else {
    JsInvocation inv=new JsInvocation(sourceInfo);
    inv.setQualifier(makeMapFunction.getName().makeRef(sourceInfo));
    inv.getArguments().add(arrayLit);
    push(inv);
  }
}
