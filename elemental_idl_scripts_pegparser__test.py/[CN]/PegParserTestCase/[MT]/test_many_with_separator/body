def test_many_with_separator(self):
    letter = OR('A', 'B', 'C')

    def _gram():
        return [letter, MAYBE([TOKEN(','), _gram])]
    self._run_test(grammar=_gram, text='A,B,C,B', expected=['A', 'B', 'C', 'B'])
    self._run_test(grammar=_gram, text='A B C', expected=None)
    shortergrammar = MANY(letter, TOKEN(','))
    self._run_test(grammar=shortergrammar, text='A,B,C,B', expected=['A', 'B', 'C', 'B'])
    self._run_test(grammar=shortergrammar, text='A B C', expected=None)
