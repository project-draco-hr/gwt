{
  JMethod calledMethod=x.getTarget();
  JDeclaredType enclosingTypeOfCalledMethod=calledMethod.getEnclosingType();
  if (isNonStaticJsoClassDispatch(calledMethod,enclosingTypeOfCalledMethod)) {
    logError("JSNI method %s  attempts to call non-static method %s on an instance which is a " + "subclass of JavaScriptObject. Only static method calls on JavaScriptObject subclasses " + "are allowed in JSNI.",currentJsniMethod.getQualifiedName(),calledMethod.getQualifiedName());
  }
 else   if (isJsoInterface(enclosingTypeOfCalledMethod)) {
    logError("JSNI method %s attempts to call method %s on an instance which might be a " + "JavaScriptObject. Such a method call is only allowed in pure Java (non-JSNI) " + "functions.",currentJsniMethod.getQualifiedName(),calledMethod.getQualifiedName());
  }
 else   if (jprogram.isJavaLangString(enclosingTypeOfCalledMethod) && !calledMethod.isStatic()) {
    logError("JSNI method %s attempts to call method %s. Only static methods from " + "java.lang.String can be called from JSNI.",currentJsniMethod.getQualifiedName(),calledMethod.getQualifiedName());
  }
 else   if (jprogram.isJavaLangObject(enclosingTypeOfCalledMethod) && !calledMethod.isStatic()) {
    log(Type.WARN,"JSNI method %s calls method %s. Instance java.lang.Object methods should " + "not be called on String, Array or JSO instances.",currentJsniMethod.getQualifiedName(),calledMethod.getQualifiedName());
  }
  return super.visit(x,ctx);
}
