{
  CellBrowser browser=new CellBrowser(new MixedTreeViewModel(),null);
  TreeNode rootNode=browser.getRootTreeNode();
  assertEquals(1,browser.treeNodes.size());
  TreeNode child0=rootNode.setChildOpen(0,true);
  assertNotNull(child0);
  assertFalse(child0.isDestroyed());
  assertEquals(2,browser.treeNodes.size());
  assertEquals(0,browser.treeNodes.get(0).getFocusedKey());
  assertTrue(browser.treeNodes.get(0).isFocusedOpen());
  TreeNode child1=rootNode.setChildOpen(1,true);
  assertNull(child1);
  assertTrue(child0.isDestroyed());
  assertEquals(1,browser.treeNodes.size());
  assertEquals(1,browser.treeNodes.get(0).getFocusedKey());
  assertFalse(browser.treeNodes.get(0).isFocusedOpen());
  TreeNode child2=rootNode.setChildOpen(2,true);
  assertNotNull(child2);
  assertFalse(child2.isDestroyed());
  assertEquals(2,browser.treeNodes.size());
  assertEquals(2,browser.treeNodes.get(0).getFocusedKey());
  assertTrue(browser.treeNodes.get(0).isFocusedOpen());
}
