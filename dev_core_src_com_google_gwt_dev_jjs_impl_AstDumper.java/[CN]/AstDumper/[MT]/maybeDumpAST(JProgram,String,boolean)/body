{
  String dumpFile=System.getProperty("gwt.jjs.dumpAst");
  if (dumpFile != null) {
    if (fileExtension != null) {
      dumpFile+=fileExtension;
    }
    try {
      FileOutputStream os=new FileOutputStream(dumpFile,append);
      final PrintWriter pw=new PrintWriter(os);
      TextOutput out=new AbstractTextOutput(false){
{
          setPrintWriter(pw);
        }
      }
;
      SourceGenerationVisitor v=new SourceGenerationVisitor(out);
      v.accept(jprogram);
      pw.close();
    }
 catch (    IOException e) {
      System.out.println("Could not dump AST");
      e.printStackTrace();
    }
  }
}
