{
  JClassType itemType=writer.getOracle().findType(TreeItem.class.getName());
  JClassType widgetType=writer.getOracle().findType(Widget.class.getName());
  JClassType isWidgetType=writer.getOracle().findType(IsWidget.class.getName());
  for (  XMLElement child : elem.consumeChildElements()) {
    JClassType childType=writer.findFieldType(child);
    if (itemType.isAssignableFrom(childType)) {
      FieldWriter childField=writer.parseElementToField(child);
      writer.addStatement("%1$s.addItem(%2$s);",fieldName,childField.getNextReference());
      continue;
    }
    if (widgetType.isAssignableFrom(childType) || isWidgetType.isAssignableFrom(childType)) {
      FieldWriter childField=writer.parseElementToField(child);
      writer.addStatement("%1$s.addItem(%2$s);",fieldName,childField.getNextReference());
      continue;
    }
    writer.die(child,BAD_CHILD);
  }
}
