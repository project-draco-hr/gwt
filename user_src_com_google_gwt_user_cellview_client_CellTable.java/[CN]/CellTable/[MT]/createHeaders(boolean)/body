{
  List<Header<?>> theHeaders=isFooter ? footers : headers;
  TableSectionElement section=isFooter ? tfoot : thead;
  String className=isFooter ? style.footer() : style.header();
  boolean hasHeader=false;
  StringBuilder sb=new StringBuilder();
  sb.append("<tr>");
  int columnCount=columns.size();
  int curColumn=0;
  for (  Header<?> header : theHeaders) {
    sb.append("<th class='").append(className);
    if (curColumn == 0) {
      sb.append(" ");
      sb.append(isFooter ? style.firstColumnFooter() : style.firstColumnHeader());
    }
    if (curColumn == columnCount - 1) {
      sb.append(" ");
      sb.append(isFooter ? style.lastColumnFooter() : style.lastColumnHeader());
    }
    sb.append("'>");
    if (header != null) {
      hasHeader=true;
      header.render(sb);
    }
    sb.append("</th>");
    curColumn++;
  }
  sb.append("</tr>");
  TABLE_IMPL.replaceAllRows(this,section,sb.toString());
  setVisible(section,hasHeader);
}
