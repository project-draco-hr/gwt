{
  addSnippetImport("com.google.gwt.core.client.JavaScriptObject");
  addSnippetClassDecl("static class Buggy {","  native void jsniMethod(Object o) /*-{","    new Object().@java.lang.Number::doubleValue()();","    new Object().@java.lang.CharSequence::charAt(I)(0);","    \"Hello\".@java.lang.Object::toString()();","  }-*/;","}");
  assertCompileSucceeds("new Buggy().jsniMethod(null);","Line 6: Unsafe call to method 'double Number.doubleValue()'. Instance methods from " + "'Number' should not be called on Boolean, Double, String, Array or JSO instances " + "from JSNI.","Line 7: Unsafe call to method 'char CharSequence.charAt(int)'. Instance methods from " + "'CharSequence' should not be called on Boolean, Double, String, Array or JSO " + "instances from JSNI.","Line 8: Unsafe call to method 'String Object.toString()'. Instance methods from 'Object' " + "should not be called on Boolean, Double, String, Array or JSO instances from JSNI.");
}
