{
  addSnippetImport("com.google.gwt.core.client.JavaScriptObject");
  addSnippetClassDecl("static class Buggy {","  native void jsniMethod(Object o) /*-{","    new Object().@com.google.gwt.core.client.JavaScriptObject::toString()();","  }-*/;","}");
  assertCompileFails("new Buggy().jsniMethod(null);","Line 6: Cannot call non-static method 'String JavaScriptObject.toString()' on an instance " + "which is a subclass of JavaScriptObject. Only static method calls on " + "JavaScriptObject subclasses are allowed in JSNI.");
}
