{
  addSnippetImport("com.google.gwt.core.client.JavaScriptObject");
  addSnippetClassDecl("static class Buggy {","  native void jsniMethod(Object o) /*-{","    var a = new Object().@com.google.gwt.core.client.JavaScriptObject::toString();","  }-*/;","}");
  assertCompileFails("new Buggy().jsniMethod(null);","Line 6: Method 'String JavaScriptObject.toString()' is implemented by a JSO and can " + "only be used in calls within a JSNI method body.");
}
