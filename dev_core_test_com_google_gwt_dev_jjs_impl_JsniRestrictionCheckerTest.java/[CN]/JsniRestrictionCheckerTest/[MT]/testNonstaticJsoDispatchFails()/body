{
  addSnippetImport("com.google.gwt.core.client.JavaScriptObject");
  addSnippetClassDecl("static class Buggy {","  native void jsniMethod(Object o) /*-{","    new Object().@com.google.gwt.core.client.JavaScriptObject::toString()();","  }-*/;","}");
  assertCompileFails("new Buggy().jsniMethod(null);","Line 6: JSNI method test.EntryPoint$Buggy.jsniMethod(Ljava/lang/Object;)V calls " + "non-static method " + "com.google.gwt.core.client.JavaScriptObject.toString()Ljava/lang/String; on an "+ "instance which is a subclass of JavaScriptObject. Only static method calls on "+ "JavaScriptObject subclasses are allowed in JSNI.");
}
