{
  addSnippetImport("com.google.gwt.core.client.JavaScriptObject");
  addSnippetClassDecl("static class Buggy {","  native void jsniMethod(Object o) /*-{","    var a = new Object().@java.lang.Number::doubleValue();","    var a = new Object().@java.lang.CharSequence::charAt(I);","    var a = \"Hello\".@java.lang.Object::toString();","  }-*/;","}");
  assertCompileSucceeds("new Buggy().jsniMethod(null);","Line 6: Unsafe reference to method 'double Number.doubleValue()'. " + "Instance methods from 'Number' should not be called on Boolean, Double, String, " + "Array or JSO instances from  within a JSNI method body.","Line 7: Unsafe reference to method 'char CharSequence.charAt(int)'. Instance methods from" + " 'CharSequence' should not be called on Boolean, Double, String, Array or JSO" + " instances from  within a JSNI method body.","Line 8: Unsafe reference to method 'String Object.toString()'. Instance methods from " + "'Object' should not be called on Boolean, Double, String, Array or JSO instances " + "from  within a JSNI method body.");
}
