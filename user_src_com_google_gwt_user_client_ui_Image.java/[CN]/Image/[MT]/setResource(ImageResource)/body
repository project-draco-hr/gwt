{
  if (resource.isStandalone()) {
    state.setUrl(this,resource.getSafeUri(),resource.getWidth(),resource.getHeight());
  }
 else {
    state.setUrlAndVisibleRect(this,resource.getSafeUri(),resource.getLeft(),resource.getTop(),resource.getWidth(),resource.getHeight());
  }
}
