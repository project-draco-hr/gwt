{
  StringBuffer msg=new StringBuffer();
  Throwable currentCause=this;
  while (currentCause != null) {
    String causeMessage=currentCause.getMessage();
    if (currentCause != this) {
      msg.append("Caused by: ");
    }
    msg.append(currentCause.typeName);
    msg.append(": ");
    msg.append(causeMessage == null ? "(No exception detail)" : causeMessage);
    msg.append("\n");
    currentCause=currentCause.getCause();
  }
  out.println(msg);
}
