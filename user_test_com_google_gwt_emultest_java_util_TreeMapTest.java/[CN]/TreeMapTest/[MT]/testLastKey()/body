{
  K[] keys=getSortedKeys();
  V[] values=getSortedValues();
  SortedMap<K,V> map=createNavigableMap();
  map.put(keys[0],values[0]);
  assertEquals(keys[0],map.lastKey());
  assertEquals(map.keySet().toArray()[0],map.lastKey());
  assertEquals(keys[0],map.firstKey());
  assertEquals(map.firstKey(),map.lastKey());
  map.put(keys[1],values[1]);
  assertEquals(keys[1],map.lastKey());
  assertFalse(keys[0].equals(map.lastKey()));
  assertEquals(map.keySet().toArray()[1],map.lastKey());
  assertEquals(keys[0],map.firstKey());
  assertFalse(map.firstKey().equals(map.lastKey()));
  map.put(keys[2],values[2]);
  map.put(keys[3],values[3]);
  assertEquals(keys[0],map.headMap(keys[1]).lastKey());
  assertEquals(keys[keys.length - 1],map.tailMap(keys[2]).lastKey());
  assertEquals(keys[2],map.subMap(keys[1],keys[3]).lastKey());
}
