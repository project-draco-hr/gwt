{
  Map<K,V> map=makeFullMap();
  resetFull();
  ArrayList<K> keys=new ArrayList<K>();
  for (  Object key : getSampleKeys()) {
    keys.add((K)key);
  }
  Comparator<? super K> cmp=((TreeMap<K,V>)map).comparator();
  if (cmp != null) {
    Collections.sort(keys,cmp);
  }
 else {
    Collections.sort(keys);
  }
  Iterator<K> it=map.keySet().iterator();
  for (  K key : keys) {
    assertTrue(it.hasNext());
    K rem=it.next();
    it.remove();
    assertEquals(key,rem);
  }
  try {
    it.next();
    fail("should throw NoSuchElementException");
  }
 catch (  NoSuchElementException expected) {
  }
  _assertEmpty(map);
}
