{
  Writer writer=new StringWriter();
  SpeedTracerLogger logger=new SpeedTracerLogger(writer);
  logger.startImpl(dummyOne);
  logger.startImpl(dummyTwo);
  logger.endImpl(dummyTwo);
  logger.startImpl(dummyThree);
  logger.endImpl(dummyThree);
  logger.endImpl(dummyOne);
  logger.flush();
  Reader jsonReader=extractJsonFromWriter(writer);
  JsonObject parsedObject=JsonObject.parse(jsonReader);
  assertTrue("dummyOne",compareJsonToEvent(parsedObject,dummyOne));
  JsonObject dataObject=parsedObject.get("data").asObject();
  assertNotNull(dataObject);
  JsonArray childArray=parsedObject.get("children").asArray();
  assertNotNull(childArray);
  assertEquals(2,childArray.getLength());
  JsonObject child=childArray.get(0).asObject();
  assertTrue("dummyTwo",compareJsonToEvent(child,dummyTwo));
  child=childArray.get(1).asObject();
  assertTrue("dummyThree",compareJsonToEvent(child,dummyThree));
}
