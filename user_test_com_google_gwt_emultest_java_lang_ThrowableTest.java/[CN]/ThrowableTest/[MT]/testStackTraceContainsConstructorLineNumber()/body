{
  final int lineNumber=44;
  Throwable throwable=new Throwable("stacktrace");
  StackTraceElement[] trace=throwable.getStackTrace();
  assertNotNull(trace);
  String traceStr=getTraceAsString(trace);
  assertTrue("stack trace has length: " + trace.length + ", full trace: \n"+ traceStr,trace.length > 2);
  StackTraceElement e=findTraceElementForThisFile(trace,(isObfuscated(trace) ? 7 : 3));
  assertNotNull("Unable to find trace element: \n" + traceStr,e);
  assertEquals(lineNumber,e.getLineNumber());
}
