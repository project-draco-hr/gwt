{
  RedefinedFunctionCollector d=new RedefinedFunctionCollector();
  d.accept(program);
  RecursionCollector rc=new RecursionCollector();
  rc.accept(program);
  InvocationCountingVisitor icv=new InvocationCountingVisitor();
  icv.accept(program);
  InliningVisitor v=new InliningVisitor(program,icv.getInvocationCounts());
  v.blacklist(d.getRedefined());
  v.blacklist(rc.getRecursive());
  v.accept(program);
  DuplicateXORemover r=new DuplicateXORemover(program);
  r.accept(program);
  return v.didChange() || r.didChange();
}
