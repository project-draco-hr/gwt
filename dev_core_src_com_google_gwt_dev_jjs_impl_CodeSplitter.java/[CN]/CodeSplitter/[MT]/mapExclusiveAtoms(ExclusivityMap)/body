{
  List<ControlFlowAnalyzer> allButOnes=computeAllButOneCfas();
  ControlFlowAnalyzer everything=computeCompleteCfa();
  Set<JField> allFields=new HashSet<JField>();
  Set<JMethod> allMethods=new HashSet<JMethod>();
  for (  JNode node : everything.getLiveFieldsAndMethods()) {
    if (node instanceof JField) {
      allFields.add((JField)node);
    }
    if (node instanceof JMethod) {
      allMethods.add((JMethod)node);
    }
  }
  allFields.addAll(everything.getFieldsWritten());
  for (int entry=1; entry < numEntries; entry++) {
    if (isInitial(entry)) {
      continue;
    }
    ControlFlowAnalyzer allButOne=allButOnes.get(entry - 1);
    Set<JNode> allLiveNodes=union(allButOne.getLiveFieldsAndMethods(),allButOne.getFieldsWritten());
    updateMap(entry,fragmentMap.fields,allLiveNodes,allFields);
    updateMap(entry,fragmentMap.methods,allButOne.getLiveFieldsAndMethods(),allMethods);
    updateMap(entry,fragmentMap.strings,allButOne.getLiveStrings(),everything.getLiveStrings());
    updateMap(entry,fragmentMap.types,allButOne.getInstantiatedTypes(),everything.getInstantiatedTypes());
  }
}
