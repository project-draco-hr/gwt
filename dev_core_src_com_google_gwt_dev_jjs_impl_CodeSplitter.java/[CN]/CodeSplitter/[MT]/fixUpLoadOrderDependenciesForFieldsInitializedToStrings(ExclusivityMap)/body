{
  int numFixups=0;
  int numFieldStrings=0;
  for (  JField field : fragmentMap.fields.keySet()) {
    if (field.getInitializer() instanceof JStringLiteral) {
      numFieldStrings++;
      String string=((JStringLiteral)field.getInitializer()).getValue();
      int fieldFrag=getOrZero(fragmentMap.fields,field);
      int stringFrag=getOrZero(fragmentMap.strings,string);
      if (fieldFrag != stringFrag && stringFrag != 0) {
        numFixups++;
        fragmentMap.strings.put(string,0);
      }
    }
  }
  if (logger.isLoggable(TreeLogger.DEBUG)) {
    logger.log(TreeLogger.DEBUG,"Fixed up load-order dependencies by moving " + numFixups + " strings used to initialize fields to fragment 0, out of "+ +numFieldStrings);
  }
}
