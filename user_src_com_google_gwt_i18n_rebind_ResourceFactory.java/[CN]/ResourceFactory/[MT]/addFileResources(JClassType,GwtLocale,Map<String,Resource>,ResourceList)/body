{
  String targetPath=clazz.getPackage().getName() + '.' + getResourceName(clazz);
  String localizedPath=targetPath;
  if (!locale.isDefault()) {
    localizedPath=targetPath + LOCALE_SEPARATOR + locale.getAsString();
  }
  String partialPath=localizedPath.replace('.','/');
  for (int i=0; i < loaders.size(); i++) {
    ResourceFactory element=loaders.get(i);
    String ext="." + element.getExt();
    String path=partialPath + ext;
    Resource resource=resourceMap.get(path);
    if (resource == null && partialPath.contains("$")) {
      path=partialPath.replace('$','_') + ext;
      resource=resourceMap.get(path);
    }
    if (resource != null) {
      AbstractResource found=element.load(resource.openContents(),locale);
      found.setPath(path);
      resources.add(found);
    }
  }
}
