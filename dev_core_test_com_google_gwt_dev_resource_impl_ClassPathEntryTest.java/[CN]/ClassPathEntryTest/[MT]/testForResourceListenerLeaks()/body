{
  PathPrefixSet pathPrefixSet=createInclusivePathPrefixSet();
  DirectoryClassPathEntry classPathEntry=new DirectoryClassPathEntry(Files.createTempDir());
  awaitFullGc();
  assertEquals(0,DirectoryPathPrefixChangeManager.getActiveListenerCount());
  DirectoryPathPrefixChangeManager.ensureListening(classPathEntry,pathPrefixSet);
  awaitFullGc();
  assertEquals(1,DirectoryPathPrefixChangeManager.getActiveListenerCount());
  pathPrefixSet=null;
  classPathEntry=null;
  awaitFullGc();
  assertEquals(0,DirectoryPathPrefixChangeManager.getActiveListenerCount());
}
