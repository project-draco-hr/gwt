{
  if (onePermutation) {
    ArtifactSet toReturn=new ArtifactSet(artifacts);
    for (    CompilationResult compilation : toReturn.find(CompilationResult.class)) {
      toReturn.addAll(doEmitCompilation(logger,context,compilation));
    }
    return toReturn;
  }
 else {
    processSelectionInformation(artifacts);
    ArtifactSet toReturn=new ArtifactSet(artifacts);
    toReturn.add(emitSelectionScript(logger,context,artifacts));
    return toReturn;
  }
}
