{
  StringBuilder b=new StringBuilder();
  String strongName=result == null ? "" : result.getStrongName();
  String prefix=getDeferredFragmentPrefix(logger,context,fragment);
  b.append(prefix);
  b.append(js);
  b.append(getDeferredFragmentSuffix(logger,context,fragment));
  SymbolMapsLinker.ScriptFragmentEditsArtifact editsArtifact=new SymbolMapsLinker.ScriptFragmentEditsArtifact(strongName,fragment);
  editsArtifact.prefixLines(prefix);
  artifacts.add(editsArtifact);
  return wrapDeferredFragment(logger,context,fragment,b.toString(),artifacts);
}
