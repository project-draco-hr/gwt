{
  String[] js=result.getJavaScript();
  byte[][] bytes=new byte[js.length][];
  bytes[0]=generatePrimaryFragment(logger,context,result,js,artifacts);
  for (int i=1; i < js.length; i++) {
    bytes[i]=Util.getBytes(generateDeferredFragment(logger,context,i,js[i]));
  }
  Collection<Artifact<?>> toReturn=new ArrayList<Artifact<?>>();
  toReturn.add(emitBytes(logger,bytes[0],result.getStrongName() + getCompilationExtension(logger,context)));
  for (int i=1; i < js.length; i++) {
    toReturn.add(emitBytes(logger,bytes[i],FRAGMENT_SUBDIR + File.separator + result.getStrongName()+ File.separator+ i+ FRAGMENT_EXTENSION));
  }
  toReturn.addAll(emitSelectionInformation(result.getStrongName(),result));
  return toReturn;
}
