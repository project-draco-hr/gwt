{
  List params=x.getTarget().params;
  ArrayList args=x.getArgs();
  JExpression resultExpression;
  int magicArg[]=new int[1];
  resultExpression=canInlineExpression(x.getSourceInfo(),targetExpr,params,args,magicArg);
  if (resultExpression == null) {
    return false;
  }
  if (checkClinitViolation(x,resultExpression)) {
    return true;
  }
  int iMagicArg=magicArg[0];
  JMultiExpression multi=new JMultiExpression(program,x.getSourceInfo());
  JExpression instance=x.getInstance();
  if (instance != null && instance.hasSideEffects()) {
    multi.exprs.add(x.getInstance());
  }
  for (int i=0; i < params.size(); ++i) {
    if (((JExpression)args.get(i)).hasSideEffects()) {
      if (i < iMagicArg) {
        multi.exprs.add(args.get(i));
      }
 else       if (i == iMagicArg) {
      }
 else {
        assert(i > iMagicArg);
        return true;
      }
    }
  }
  multi.exprs.add(resultExpression);
  ctx.replaceMe(multi);
  return true;
}
