{
  boolean madeChanges=false;
  while (true) {
    InliningVisitor inliner=new InliningVisitor();
    inliner.accept(program);
    if (!inliner.didChange()) {
      break;
    }
    madeChanges=true;
    FlattenMultiVisitor flattener=new FlattenMultiVisitor();
    flattener.accept(program);
    ReduceMultiVisitor reducer=new ReduceMultiVisitor();
    reducer.accept(program);
  }
  return madeChanges;
}
