def _match_impl(self, state, pos):
    'Default implementation of the matching algorithm.\n    Should be overwritten by sub-classes.\n    '
    raise RuntimeError('_match_impl not implemented')
