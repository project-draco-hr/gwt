{
  MenuBar bar=new MenuBar(true);
  Command blankCommand=new Command(){
    public void execute(){
    }
  }
;
  MenuItem item0=bar.insertItem(new MenuItem("test",blankCommand),0);
  assertEquals(bar.getItemIndex(item0),0);
  MenuItem item1=bar.insertItem(new MenuItem("test",blankCommand),0);
  assertEquals(bar.getItemIndex(item1),0);
  assertEquals(bar.getItemIndex(item0),1);
  MenuItem item2=bar.insertItem(new MenuItem("test",blankCommand),2);
  assertEquals(bar.getItemIndex(item1),0);
  assertEquals(bar.getItemIndex(item0),1);
  assertEquals(bar.getItemIndex(item2),2);
  MenuItemSeparator separator0=bar.insertSeparator(0);
  assertEquals(bar.getSeparatorIndex(separator0),0);
  assertEquals(bar.getItemIndex(item1),1);
  assertEquals(bar.getItemIndex(item0),2);
  assertEquals(bar.getItemIndex(item2),3);
  MenuItemSeparator separator1=bar.insertSeparator(4);
  assertEquals(bar.getSeparatorIndex(separator0),0);
  assertEquals(bar.getItemIndex(item1),1);
  assertEquals(bar.getItemIndex(item0),2);
  assertEquals(bar.getItemIndex(item2),3);
  assertEquals(bar.getSeparatorIndex(separator1),4);
  MenuItemSeparator separator2=bar.insertSeparator(2);
  assertEquals(bar.getSeparatorIndex(separator0),0);
  assertEquals(bar.getItemIndex(item1),1);
  assertEquals(bar.getSeparatorIndex(separator2),2);
  assertEquals(bar.getItemIndex(item0),3);
  assertEquals(bar.getItemIndex(item2),4);
  assertEquals(bar.getSeparatorIndex(separator1),5);
}
