{
  CompilerOptions compilerOptions=new CompilerOptionsImpl(compileDir,options.getModuleNames(),options.getSourceLevel(),options.isFailOnError(),options.enforceStrictResources(),options.enforceStrictResources(),options.getLogLevel());
  compilerContext=compilerContextBuilder.options(compilerOptions).build();
  ModuleDef module=loadModule(compileLogger,bindingProperties);
  String newModuleName=module.getName();
  moduleName.set(newModuleName);
  compilerOptions=new CompilerOptionsImpl(compileDir,Lists.newArrayList(newModuleName),options.getSourceLevel(),options.isFailOnError(),options.enforceStrictResources(),options.enforceStrictResources(),options.getLogLevel());
  compilerContext=compilerContextBuilder.options(compilerOptions).build();
  boolean success=new Compiler(compilerOptions).run(compileLogger,module);
  if (success) {
    publishedCompileDir=compileDir;
  }
  lastBuild.set(compileDir);
  return success;
}
