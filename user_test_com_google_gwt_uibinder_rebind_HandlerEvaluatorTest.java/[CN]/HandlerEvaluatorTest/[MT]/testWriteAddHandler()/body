{
  JClassType handlerRegistrationJClass=mock(JClassType.class);
  when(oracle.findType(HandlerRegistration.class.getName())).thenReturn(handlerRegistrationJClass);
  JClassType eventHandlerJClass=mock(JClassType.class);
  when(oracle.findType(EventHandler.class.getName())).thenReturn(eventHandlerJClass);
  evaluator=new HandlerEvaluator(ownerType,logger,oracle,false);
  StringWriter sw=new StringWriter();
  evaluator.writeAddHandler(new IndentedWriter(new PrintWriter(sw)),fieldManager,"handler1","addClickHandler","label1");
  assertEquals("label1.addClickHandler(handler1);",sw.toString().trim());
}
