{
  numFilesCount=0;
  Set<CompilationUnit> units=new HashSet<CompilationUnit>();
  for (  File tempFile : sourceTrees) {
    addCompilationUnitsInPath(units,tempFile);
  }
  JdtCompiler.compile(units);
  if (CompilationUnitInvalidator.invalidateUnitsWithErrors(logger,units)) {
    logger.log(TreeLogger.ERROR,"Unable to build typeOracle for " + getName());
    throw new UnableToCompleteException();
  }
  TypeOracleMediator mediator=new TypeOracleMediator();
  mediator.refresh(logger,units);
  logger.log(TreeLogger.INFO,"API " + name + ", Finished with building typeOracle, added "+ numFilesCount+ " files",null);
  return mediator.getTypeOracle();
}
