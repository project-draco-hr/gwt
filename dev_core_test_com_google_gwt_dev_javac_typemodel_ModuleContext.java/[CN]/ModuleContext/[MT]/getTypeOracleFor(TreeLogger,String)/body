{
  TypeOracle oracle;
synchronized (typeOracleMap) {
    oracle=typeOracleMap.get(moduleName);
    if (oracle == null) {
      CompilerContext.Builder compilerContextBuilder=new CompilerContext.Builder();
      CompilerContext compilerContext=compilerContextBuilder.build();
      ModuleDef moduleDef=ModuleDefLoader.loadFromClassPath(logger,compilerContext,moduleName);
      compilerContext=compilerContextBuilder.module(moduleDef).build();
      oracle=moduleDef.getCompilationState(logger,compilerContext).getTypeOracle();
      typeOracleMap.put(moduleName,oracle);
    }
  }
  return oracle;
}
