{
  state=4;
  if (headers.size() != 0) {
    throw new IllegalStateException("not all expected headers set");
  }
  if (handler != null) {
    handler.onReadyStateChange(null);
  }
}
