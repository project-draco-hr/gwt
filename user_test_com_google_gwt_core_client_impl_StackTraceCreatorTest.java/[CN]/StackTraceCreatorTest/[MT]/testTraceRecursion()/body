{
  Throwable t=null;
  try {
    throwExceptionRecursive(3);
    fail("No exception thrown");
  }
 catch (  Throwable e) {
    t=e;
  }
  final String[] expectedModern={Impl.getNameOf("@java.lang.Throwable::new(Ljava/lang/String;)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwException3(*)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwException2(*)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwException1(*)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwExceptionRecursive(*)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwExceptionRecursive(*)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwExceptionRecursive(*)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::testTraceRecursion()")};
  final String[] expectedLegacy={Impl.getNameOf("@java.lang.Throwable::new(Ljava/lang/String;)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwException3(*)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwException2(*)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwException1(*)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwExceptionRecursive(*)")};
  final String[] expected=isLegacyCollector() ? expectedLegacy : expectedModern;
  assertTrace(expected,t,0);
}
