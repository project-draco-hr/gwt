{
  JsArrayString start=sample();
  Throwable t=null;
  try {
    throwNative();
    fail("No exception thrown");
  }
 catch (  JavaScriptException e) {
    assertNotNull(e.getStackTrace());
    if (e.getStackTrace().length == 0) {
      assertTrue("hosted mode",GWT.isScript());
      return;
    }
 else {
      t=e;
    }
  }
  String myName=null;
  if (!GWT.isScript()) {
    myName="testJavaScriptException";
  }
 else {
    myName=testJavaScriptExceptionName();
  }
  checkStack(myName,t);
  JsArrayString end=sample();
  assertEquals(start,end);
}
