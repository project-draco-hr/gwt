{
  Throwable t=null;
  try {
    throwException1(true);
    fail("No exception thrown");
  }
 catch (  Throwable e) {
    t=e;
  }
  String[] nativeMethodNames=throwNative(false);
  final String[] expectedModern={nativeMethodNames[0],nativeMethodNames[1],Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwNative(*)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwException3(*)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwException2(*)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::throwException1(*)"),Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::testTraceNative()")};
  final String[] expectedLegacy={Impl.getNameOf("@com.google.gwt.core.client.impl.StackTraceCreatorTest::testTraceNative()")};
  final String[] expected=isLegacyCollector() ? expectedLegacy : expectedModern;
  int offset=getTraceOffset(t.getStackTrace(),expected[0]);
  assertTrace(expected,t,offset);
}
