{
  final MediaBase media=getMedia();
  if (media == null) {
    return;
  }
  if (isFirefox40OrEarlier()) {
    return;
  }
  String state=media.getPreload();
  assertNotNull(state);
  assertTrue("Illegal preload state",state.equals(MediaElement.PRELOAD_AUTO) || state.equals(MediaElement.PRELOAD_METADATA) || state.equals(MediaElement.PRELOAD_NONE));
  media.setPreload(MediaElement.PRELOAD_METADATA);
  assertEquals("Preload should be able to be set.",MediaElement.PRELOAD_METADATA,media.getPreload());
}
