{
  final MediaBase media=getMedia();
  if (media == null) {
    return;
  }
  delayTestFinish(25 * 1000);
  new Timer(){
    @Override public void run(){
      MediaError error=media.getError();
      if (error != null) {
        fail("Media error (" + error.getCode() + ")");
      }
      assertTrue("Media should have played",media.getCurrentTime() > 0);
      assertTrue("Did not play enough",1000 * media.getCurrentTime() >= 6 * 1000);
      media.setCurrentTime(0.0);
    }
  }
.schedule(15 * 1000);
  new Timer(){
    @Override public void run(){
      MediaError error=media.getError();
      if (error != null) {
        fail("Media error (" + error.getCode() + ")");
      }
      assertTrue(1000 * media.getCurrentTime() < 6 * 1000);
      finishTest();
    }
  }
.schedule(20 * 1000);
  media.play();
}
