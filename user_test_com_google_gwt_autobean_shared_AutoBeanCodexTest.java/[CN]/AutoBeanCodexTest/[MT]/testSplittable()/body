{
  AutoBean<Simple> simple=f.simple();
  simple.as().setString("Simple");
  AutoBean<HasSplittable> bean=f.hasAutoBean();
  bean.as().setSimple(AutoBeanCodex.encode(simple));
  bean.as().setString(ValueCodex.encode("Hello ['\"] world"));
  List<Splittable> testList=Arrays.asList(AutoBeanCodex.encode(simple),null,AutoBeanCodex.encode(simple));
  bean.as().setSimpleList(testList);
  Map<Splittable,Splittable> testMap=Collections.singletonMap(ValueCodex.encode("12345"),ValueCodex.encode("5678"));
  bean.as().setSplittableMap(testMap);
  AutoBean<HasSplittable> decoded=checkEncode(bean);
  Splittable toDecode=decoded.as().getSimple();
  AutoBean<Simple> decodedSimple=AutoBeanCodex.decode(f,Simple.class,toDecode);
  assertEquals("Simple",decodedSimple.as().getString());
  assertEquals("Hello ['\"] world",ValueCodex.decode(String.class,decoded.as().getString()));
  assertEquals("12345",decoded.as().getSplittableMap().keySet().iterator().next().asString());
  assertEquals("5678",decoded.as().getSplittableMap().values().iterator().next().asString());
  List<Splittable> list=decoded.as().getSimpleList();
  assertEquals(3,list.size());
  assertNull(list.get(1));
  assertEquals("Simple",AutoBeanCodex.decode(f,Simple.class,list.get(2)).as().getString());
}
