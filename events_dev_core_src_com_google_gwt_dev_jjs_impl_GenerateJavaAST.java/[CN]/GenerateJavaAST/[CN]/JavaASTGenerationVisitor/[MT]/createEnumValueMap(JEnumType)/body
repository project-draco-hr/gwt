{
  JsonObject map=new JsonObject(program);
  for (  JEnumField field : type.enumList) {
    JStringLiteral key=program.getLiteralString("_" + field.getName());
    JFieldRef value=new JFieldRef(program,null,null,field,type);
    map.propInits.add(new JsonObject.JsonPropInit(program,key,value));
  }
  JField mapField=program.createField(null,"enum$map".toCharArray(),type,map.getType(),true,Disposition.FINAL);
  JMethodBody clinitBody=(JMethodBody)type.methods.get(0).getBody();
  JExpressionStatement assignment=program.createAssignmentStmt(null,createVariableRef(null,mapField),map);
  clinitBody.getStatements().add(assignment);
  return mapField;
}
