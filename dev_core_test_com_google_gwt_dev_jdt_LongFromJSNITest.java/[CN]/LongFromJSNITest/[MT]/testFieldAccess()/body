{
  StringBuffer code=new StringBuffer();
  code.append("class Buggy {\n");
  code.append("volatile long x = -1;\n");
  code.append("native void jsniMeth() /*-{\n");
  code.append("  $wnd.alert(\"x is: \"+this.@Buggy::x); }-*/;\n");
  code.append("}\n");
  shouldGenerateWarning(code,3,"Field x has type long, which cannot be processed in JSNI code");
}
