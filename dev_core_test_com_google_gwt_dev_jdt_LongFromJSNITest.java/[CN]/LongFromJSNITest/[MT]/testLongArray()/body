{
  StringBuffer code=new StringBuffer();
  code.append("class Buggy {\n");
  code.append("  long[] m() { return new long[] { -1 }; }\n");
  code.append("  native void jsniMeth() /*-{\n");
  code.append("    $wnd.alert(this.@Buggy::m()()); }-*/;\n");
  code.append("}\n");
  shouldGenerateWarning(code,3,"Referencing method \'Buggy.m\': return type \'long[]\' is an opaque, non-numeric value in JS code");
}
