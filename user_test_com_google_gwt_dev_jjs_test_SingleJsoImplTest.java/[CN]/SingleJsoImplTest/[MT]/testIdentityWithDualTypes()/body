{
  JsoAdder jso=makeAdder(0);
  JavaAdder java=new JavaAdder();
  assertNotSame(jso,java);
  IdentityHashMap<Adder,Integer> map=new IdentityHashMap<Adder,Integer>();
  map.put(jso,0);
  map.put(java,1);
  assertEquals(2,map.size());
  assertEquals(new Integer(0),map.get(jso));
  assertEquals(new Integer(1),map.get(java));
  assertEquals(new Integer(0),map.get(asAdder(jso)));
  assertEquals(new Integer(0),map.get(asAdder));
  assertEquals(new Integer(1),map.get(asAdder(java)));
  assertEquals(new Integer(1),map.get(asAdder));
  assertEquals(new Integer(0),map.get(asAdder((Adder)jso)));
  assertEquals(new Integer(0),map.get(asAdder));
  assertEquals(new Integer(1),map.get(asAdder((Adder)java)));
  assertEquals(new Integer(1),map.get(asAdder));
  assertEquals(new Integer(0),map.get(asObject(jso)));
  assertEquals(new Integer(0),map.get(asObject));
  assertEquals(new Integer(1),map.get(asObject(java)));
  assertEquals(new Integer(1),map.get(asObject));
  for (  Map.Entry<Adder,Integer> entry : map.entrySet()) {
    if (entry.getKey() == jso) {
      assertEquals(new Integer(0),entry.getValue());
    }
    if (entry.getKey() == java) {
      assertEquals(new Integer(1),entry.getValue());
    }
  }
}
