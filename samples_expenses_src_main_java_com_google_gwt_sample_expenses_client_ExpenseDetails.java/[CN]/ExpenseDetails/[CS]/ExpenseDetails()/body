{
  createErrorPopup();
  initWidget(uiBinder.createAndBindUi(this));
  items=new ListViewAdapter<ExpenseRecord>();
  items.setKeyProvider(Expenses.EXPENSE_RECORD_KEY_PROVIDER);
  table.setKeyProvider(items);
  items.addView(table);
  notesEditLink.addClickHandler(new ClickHandler(){
    public void onClick(    ClickEvent event){
      setNotesEditState(true,false,report.getNotes());
    }
  }
);
  notesBox.addBlurHandler(new BlurHandler(){
    public void onBlur(    BlurEvent event){
      if (notesBox.isVisible()) {
        saveNotes();
      }
    }
  }
);
  notesBox.addKeyUpHandler(new KeyUpHandler(){
    public void onKeyUp(    KeyUpEvent event){
      int keyCode=event.getNativeKeyCode();
switch (keyCode) {
case KeyCodes.KEY_ENTER:
        saveNotes();
      break;
case KeyCodes.KEY_ESCAPE:
    setNotesEditState(false,false,report.getNotes());
  break;
}
}
}
);
}
