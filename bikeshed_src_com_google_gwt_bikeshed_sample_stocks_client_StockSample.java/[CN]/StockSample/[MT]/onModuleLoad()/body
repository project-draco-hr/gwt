{
  searchListModel=new AsyncListModel<StockQuote>(){
    @Override protected void onRangeChanged(    int start,    int length){
      update();
    }
  }
;
  favoritesListModel=new AsyncListModel<StockQuote>(){
    @Override protected void onRangeChanged(    int start,    int length){
      update();
    }
  }
;
  playerScoresListModel=new AsyncListModel<PlayerInfo>(){
    @Override protected void onRangeChanged(    int start,    int length){
    }
  }
;
  treeModel=new TransactionTreeViewModel(this,favoritesListModel,transactionListListModelsByTicker);
  transactionListModel=new ListListModel<Transaction>();
  transactions=transactionListModel.getList();
  RootLayoutPanel.get().add(binder.createAndBindUi(this));
  Columns.favoriteColumn.setFieldUpdater(new FieldUpdater<StockQuote,Boolean,Void>(){
    public void update(    int index,    StockQuote object,    Boolean value,    Void viewData){
      setFavorite(object.getTicker(),value);
    }
  }
);
  Columns.buyColumn.setFieldUpdater(new FieldUpdater<StockQuote,String,Void>(){
    public void update(    int index,    StockQuote quote,    String value,    Void viewData){
      buy(quote);
    }
  }
);
  Columns.sellColumn.setFieldUpdater(new FieldUpdater<StockQuote,String,Void>(){
    public void update(    int index,    StockQuote quote,    String value,    Void viewData){
      sell(quote);
    }
  }
);
  buySellPopup.addCloseHandler(new CloseHandler<PopupPanel>(){
    public void onClose(    CloseEvent<PopupPanel> event){
      Transaction t=buySellPopup.getTransaction();
      if (t != null) {
        transact(t);
      }
    }
  }
);
  update();
}
