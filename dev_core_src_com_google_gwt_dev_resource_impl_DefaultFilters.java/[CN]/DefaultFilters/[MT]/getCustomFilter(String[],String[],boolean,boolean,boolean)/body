{
  if (includeList.length == 0 && excludeList.length == 0 && caseSensitive) {
    return getMatchingDefaultFilter(defaultExcludes,isJava);
  }
  ResourceFilter catchAll=new ResourceFilter(){
    ZipScanner scanner=getScanner(includeList,excludeList,defaultExcludes,caseSensitive);
    public boolean allows(    String path){
      if (isJava) {
        return isJavaFile(path) && scanner.match(path);
      }
      return scanner.match(path);
    }
  }
;
  if (!caseSensitive) {
    return catchAll;
  }
  return customFilterWithCatchAll(includeList,excludeList,defaultExcludes,catchAll,isJava);
}
