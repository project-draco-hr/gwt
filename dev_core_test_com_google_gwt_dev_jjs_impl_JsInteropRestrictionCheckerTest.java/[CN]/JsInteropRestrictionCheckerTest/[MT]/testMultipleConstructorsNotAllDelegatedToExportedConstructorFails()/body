{
  addSnippetImport("com.google.gwt.core.client.js.JsExport");
  addSnippetImport("com.google.gwt.core.client.js.JsNoExport");
  addSnippetClassDecl("@JsExport","public static class Buggy {","  public Buggy() {}","  private Buggy(int a) {","    new Buggy();","  }","}");
  assertBuggyFails("Constructor 'test.EntryPoint$Buggy.EntryPoint$Buggy() <init>' can only be exported if all " + "constructors in the class are delegating to it.");
}
