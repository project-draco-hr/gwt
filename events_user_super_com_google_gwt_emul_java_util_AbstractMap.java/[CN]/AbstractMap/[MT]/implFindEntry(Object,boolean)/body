{
  for (Iterator<Entry<K,V>> iter=entrySet().iterator(); iter.hasNext(); ) {
    Entry<K,V> entry=iter.next();
    K k=entry.getKey();
    if (key == null ? k == null : key.equals(k)) {
      if (remove) {
        iter.remove();
      }
      return entry;
    }
  }
  return null;
}
