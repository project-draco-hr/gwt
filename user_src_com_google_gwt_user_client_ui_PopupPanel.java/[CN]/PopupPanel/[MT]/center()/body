{
  boolean initiallyShowing=showing;
  boolean initiallyAnimated=isAnimationEnabled;
  if (!initiallyShowing) {
    setVisible(false);
    setAnimationEnabled(false);
    show();
  }
  int left=(Window.getClientWidth() - getOffsetWidth()) / 2;
  int top=(Window.getClientHeight() - getOffsetHeight()) / 2;
  setPopupPosition(Window.getScrollLeft() + left,Window.getScrollTop() + top);
  if (!initiallyShowing) {
    hide();
    setVisible(true);
    setAnimationEnabled(initiallyAnimated);
    show();
  }
}
