{
  ScriptInjector.fromString("exportedFromJava();").setWindow(ScriptInjector.TOP_WINDOW).inject();
  assertTrue(MyClassImpl2.calledFromJsHostPageWindow);
  ScriptInjector.fromString("exportedFromJava2();").inject();
  assertTrue(MyClassImpl2.calledFromJsModuleWindow);
  ScriptInjector.fromString("new $wnd.MyClassImpl3();").inject();
  assertTrue(MyClassImpl3.calledFromJsModuleWindow);
  ScriptInjector.fromString("$wnd.MyClassImpl3.foo($wnd.newA());").inject();
  assertTrue(MyClassImpl3.calledFromBar);
}
