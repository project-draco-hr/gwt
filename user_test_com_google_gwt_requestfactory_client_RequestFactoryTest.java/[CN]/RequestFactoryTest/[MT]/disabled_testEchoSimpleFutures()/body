{
  delayTestFinish(5000);
  final SimpleFooEventHandler<SimpleFooProxy> handler=new SimpleFooEventHandler<SimpleFooProxy>();
  EntityProxyChange.registerForProxyType(req.getEventBus(),SimpleFooProxy.class,handler);
  SimpleFooRequest context=req.simpleFooRequest();
  final SimpleFooProxy simpleFoo=context.create(SimpleFooProxy.class);
  context.echo(simpleFoo).fire(new Receiver<SimpleFooProxy>(){
    @Override public void onSuccess(    SimpleFooProxy response){
      assertEquals(0,handler.totalEventCount);
      checkStableIdEquals(simpleFoo,response);
      finishTestAndReset();
    }
  }
);
}
