{
  delayTestFinish(5000);
  SimpleFooProxy newFoo=req.create(SimpleFooProxy.class);
  final RequestObject<SimpleFooProxy> fooReq=req.simpleFooRequest().persistAndReturnSelf(newFoo);
  newFoo=fooReq.edit(newFoo);
  newFoo.setUserName("GWT User");
  fooReq.fire(new Receiver<SimpleFooProxy>(){
    public void onSuccess(    SimpleFooProxy returned,    Set<SyncResult> syncResults){
      assertEquals(1,syncResults.size());
      RequestObject<Void> editRequest=req.simpleFooRequest().persist(returned);
      SimpleFooProxy editableFoo=editRequest.edit(returned);
      editableFoo.setUserName("A");
      editRequest.fire(new ShouldNotSuccedReceiver<Void>(returned.stableId()));
    }
  }
);
}
