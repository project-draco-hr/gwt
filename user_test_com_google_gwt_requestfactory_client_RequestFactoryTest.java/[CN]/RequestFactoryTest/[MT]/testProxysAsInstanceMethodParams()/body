{
  delayTestFinish(DELAY_TEST_FINISH);
  simpleFooRequest().findSimpleFooById(999L).fire(new Receiver<SimpleFooProxy>(){
    @Override public void onSuccess(    SimpleFooProxy response){
      response=checkSerialization(response);
      SimpleFooRequest context=simpleFooRequest();
      SimpleBarProxy bar=context.create(SimpleBarProxy.class);
      Request<String> helloReq=context.hello(bar).using(response);
      bar=context.edit(bar);
      bar.setUserName("BAR");
      helloReq.fire(new Receiver<String>(){
        @Override public void onSuccess(        String response){
          assertEquals("Greetings BAR from GWT",response);
          finishTestAndReset();
        }
      }
);
    }
  }
);
}
