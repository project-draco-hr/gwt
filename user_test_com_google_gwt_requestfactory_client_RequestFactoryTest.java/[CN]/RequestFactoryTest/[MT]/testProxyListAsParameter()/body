{
  delayTestFinish(5000);
  final Request<SimpleFooProxy> fooReq=simpleFooRequest().findSimpleFooById(999L).with("selfOneToManyField");
  fooReq.fire(new Receiver<SimpleFooProxy>(){
    @Override public void onSuccess(    final SimpleFooProxy fooProxy){
      final Request<String> procReq=simpleFooRequest().processList(fooProxy.getSelfOneToManyField()).using(fooProxy);
      procReq.fire(new Receiver<String>(){
        @Override public void onSuccess(        String response){
          assertEquals(fooProxy.getUserName(),response);
          finishTestAndReset();
        }
      }
);
    }
  }
);
}
