{
  final int max=array.length;
  for (int i=0; i < max; i++) {
    int randomIdx;
    do {
      randomIdx=(int)(Math.random() * (max - 1));
    }
 while (i == randomIdx);
    Object tmp=array[randomIdx];
    array[randomIdx]=array[i % array.length];
    array[i % array.length]=tmp;
  }
}
