{
  this.listener=listener;
  this.requestFactory=requestFactory;
  expenseDataProvider=new AsyncDataProvider<ExpenseProxy>(){
    @Override protected void onRangeChanged(    HasData<ExpenseProxy> view){
      requestExpenses();
    }
  }
;
  expenseDataProvider.setKeyProvider(Expenses.EXPENSE_RECORD_KEY_PROVIDER);
  expenseList=new CellList<ExpenseProxy>(new ExpenseCell());
  expenseSelection=new NoSelectionModel<ExpenseProxy>();
  expenseList.setSelectionModel(expenseSelection);
  expenseSelection.addSelectionChangeHandler(new SelectionChangeEvent.Handler(){
    public void onSelectionChange(    SelectionChangeEvent event){
      listener.onExpenseSelected(expenseSelection.getLastSelectedObject());
    }
  }
);
  expenseDataProvider.addDataDisplay(expenseList);
  initWidget(expenseList);
}
