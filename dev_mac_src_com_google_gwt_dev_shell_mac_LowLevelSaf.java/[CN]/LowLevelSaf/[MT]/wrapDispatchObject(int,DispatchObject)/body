{
synchronized (sObjectToJsval) {
    Integer cached=LowLevelSaf.sObjectToJsval.get(dispatcher);
    if (cached != null) {
      LowLevelSaf.gcProtect(LowLevelSaf.getCurrentJsContext(),cached);
      return cached;
    }
 else {
      final int[] rval=new int[1];
      if (!wrapDispatchObjectImpl(jsContext,dispatcher,rval)) {
        throw new RuntimeException("Failed to wrap DispatchObject.");
      }
      LowLevelSaf.sObjectToJsval.put(dispatcher,rval[0]);
      return rval[0];
    }
  }
}
