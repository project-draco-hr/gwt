{
  Stack<Integer> stack=stateStack.get();
  if (stack == null) {
    throw new RuntimeException("No thread local execState stack!");
  }
  Integer top=stack.peek();
  return top.intValue();
}
