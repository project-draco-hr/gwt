{
  LocaleData localeData=new LocaleData(localeFactory,Arrays.asList("root","en","en_US","ar","ar_IQ"));
  Iterator<GwtLocale> it=localeData.getNonEmptyLocales("foo").iterator();
  assertFalse(it.hasNext());
  GwtLocale localeEn=localeFactory.fromString("en");
  localeData.addEntry("foo",localeEn,"k1","v1");
  it=localeData.getNonEmptyLocales("foo").iterator();
  assertTrue(it.hasNext());
  assertEquals(localeEn,it.next());
  assertFalse(it.hasNext());
  it=localeData.getNonEmptyLocales("bar").iterator();
  assertFalse(it.hasNext());
  GwtLocale localeAr=localeFactory.fromString("ar");
  localeData.addEntry("bar",localeAr,"k1","v1");
  it=localeData.getNonEmptyLocales("foo").iterator();
  assertTrue(it.hasNext());
  assertEquals(localeEn,it.next());
  assertFalse(it.hasNext());
  it=localeData.getNonEmptyLocales("bar").iterator();
  assertTrue(it.hasNext());
  assertEquals(localeAr,it.next());
  assertFalse(it.hasNext());
  it=localeData.getNonEmptyLocales("baz").iterator();
  assertFalse(it.hasNext());
}
