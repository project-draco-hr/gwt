{
  List<String> list=createListViewAdapter(3).getList();
  ListIterator<String> iterator=list.listIterator();
  try {
    iterator.set("test");
    fail("Expected IllegalStateException");
  }
 catch (  IllegalStateException e) {
  }
  try {
    iterator.add("test");
    fail("Expected IllegalStateException");
  }
 catch (  IllegalStateException e) {
  }
  try {
    iterator.remove();
    fail("Expected IllegalStateException");
  }
 catch (  IllegalStateException e) {
  }
  assertTrue(iterator.hasNext());
  assertEquals(0,iterator.nextIndex());
  assertEquals("test 0",iterator.next());
  assertEquals("test 1",iterator.next());
  assertEquals("test 2",iterator.next());
  assertFalse(iterator.hasNext());
  assertEquals(3,iterator.nextIndex());
  assertTrue(iterator.hasPrevious());
  assertEquals(2,iterator.previousIndex());
  assertEquals("test 2",iterator.previous());
  assertEquals("test 1",iterator.previous());
  assertEquals("test 0",iterator.previous());
  assertFalse(iterator.hasPrevious());
  assertEquals(-1,iterator.previousIndex());
  iterator.set("set0");
  assertEquals("set0",list.get(0));
  iterator.set("set1");
  assertEquals("set1",list.get(0));
  iterator.add("added");
  assertEquals("added",list.get(0));
  assertEquals("set1",list.get(1));
  assertEquals(4,list.size());
  try {
    iterator.add("double add");
    fail("Expected IllegalStateException");
  }
 catch (  IllegalStateException e) {
  }
  assertEquals("set1",iterator.next());
  iterator.remove();
  assertEquals("test 1",list.get(1));
  assertEquals(3,list.size());
  try {
    iterator.remove();
    fail("Expected IllegalStateException");
  }
 catch (  IllegalStateException e) {
  }
  assertEquals("added",iterator.previous());
}
