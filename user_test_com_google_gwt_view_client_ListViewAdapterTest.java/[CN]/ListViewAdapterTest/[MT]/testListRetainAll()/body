{
  ListViewAdapter<String> adapter=createListViewAdapter(10);
  List<String> list=adapter.getList();
  MockPagingListView<String> view=new MockPagingListView<String>();
  view.setRange(0,15);
  adapter.addView(view);
  adapter.flush();
  view.clearLastDataAndRange();
  List<String> toRetain=createData(2,3);
  assertTrue(list.retainAll(toRetain));
  assertEquals(3,list.size());
  assertEquals("test 2",list.get(0));
  adapter.flush();
  assertEquals(new Range(0,3),view.getLastDataRange());
}
