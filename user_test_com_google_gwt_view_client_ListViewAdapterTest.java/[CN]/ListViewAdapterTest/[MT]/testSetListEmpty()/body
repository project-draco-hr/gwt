{
  ListViewAdapter<String> adapter=createListViewAdapter(10);
  MockHasData<String> view=new MockHasData<String>();
  view.setVisibleRange(0,15);
  adapter.addView(view);
  adapter.flush();
  assertEquals(10,view.getRowCount());
  view.clearLastRowValuesAndRange();
  assertEquals("test 0",adapter.getList().get(0));
  List<String> replace=new ArrayList<String>();
  adapter.setList(replace);
  assertEquals(0,view.getRowCount());
  assertEquals(replace,view.getLastRowValues());
  assertEquals(new Range(0,0),view.getLastRowValuesRange());
}
