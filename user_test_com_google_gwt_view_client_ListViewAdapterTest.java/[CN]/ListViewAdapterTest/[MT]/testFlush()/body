{
  ListViewAdapter<String> adapter=createListViewAdapter();
  List<String> list=adapter.getList();
  MockPagingListView<String> view=new MockPagingListView<String>();
  view.setRange(0,15);
  adapter.addView(view);
  view.clearLastDataAndRange();
  view.setDataSize(0,true);
  for (int i=0; i < 10; i++) {
    list.add("test " + i);
  }
  assertEquals(0,view.getDataSize());
  assertNull(view.getLastData());
  assertNull(view.getLastDataRange());
  adapter.flush();
  assertEquals(10,view.getDataSize());
  assertTrue(view.isDataSizeExact());
  assertEquals(list,view.getLastData());
  assertEquals(new Range(0,10),view.getLastDataRange());
}
