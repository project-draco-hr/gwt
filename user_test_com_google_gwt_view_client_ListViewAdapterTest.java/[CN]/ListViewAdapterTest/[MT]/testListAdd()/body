{
  ListViewAdapter<String> adapter=createListViewAdapter(10);
  List<String> list=adapter.getList();
  MockHasData<String> view=new MockHasData<String>();
  view.setVisibleRange(0,15);
  adapter.addView(view);
  adapter.flush();
  view.clearLastRowValuesAndRange();
  list.add("added");
  assertEquals("added",list.get(10));
  adapter.flush();
  assertEquals(new Range(10,1),view.getLastRowValuesRange());
  list.add(2,"inserted");
  assertEquals("inserted",list.get(2));
  adapter.flush();
  assertEquals(new Range(2,10),view.getLastRowValuesRange());
}
