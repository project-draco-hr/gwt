{
  Class<?> elementType=null;
  if (ctx instanceof CollectionPropertyContext) {
    elementType=((CollectionPropertyContext)ctx).getElementType();
  }
  Class<?> keyType=null;
  Class<?> valueType=null;
  if (ctx instanceof MapPropertyContext) {
    MapPropertyContext mapCtx=(MapPropertyContext)ctx;
    keyType=mapCtx.getKeyType();
    valueType=mapCtx.getValueType();
  }
  boolean shouldSend=isOwnerValueProxy || matchesPropertyRef(propertyRefs,propertyName) || (elementType != null && ValueCodex.canDecode(elementType))|| (keyType != null && ValueCodex.canDecode(keyType) && valueType != null && ValueCodex.canDecode(valueType));
  if (!shouldSend) {
    return false;
  }
  Object domainValue=service.getProperty(domainEntity,propertyName);
  if (domainValue == null) {
    return false;
  }
  Type type;
  if (elementType != null) {
    type=new CollectionType(ctx.getType(),elementType);
  }
 else   if (keyType != null && valueType != null) {
    type=new MapType(keyType,valueType);
  }
 else {
    type=ctx.getType();
  }
  Resolution resolution=resolveClientValue(domainValue,type);
  addPathsToResolution(resolution,propertyName,propertyRefs);
  ctx.set(resolution.getClientObject());
  return false;
}
