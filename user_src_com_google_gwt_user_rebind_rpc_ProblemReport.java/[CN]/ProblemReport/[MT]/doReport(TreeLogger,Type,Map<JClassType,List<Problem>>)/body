{
  if (!logger.isLoggable(level)) {
    return;
  }
  for (  List<Problem> problemList : problems.values()) {
    for (    Problem problem : problemList) {
      if (problem.hasSubMessages()) {
        TreeLogger sublogger=logger.branch(level,problem.getPrimaryMessage());
        for (        String sub : problem.getSubMessages()) {
          sublogger.log(level,sub);
        }
      }
 else {
        logger.log(level,problem.getPrimaryMessage());
      }
    }
  }
}
