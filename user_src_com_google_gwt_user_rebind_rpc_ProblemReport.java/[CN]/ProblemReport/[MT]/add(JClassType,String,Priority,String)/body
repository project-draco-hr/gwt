{
  String contextString="";
  if (contextType != null) {
    contextString=" (reached via " + contextType.getParameterizedQualifiedSourceName() + ")";
  }
  message=message + contextString;
  Problem entry=new Problem(message,extraLines);
  if (priority == Priority.AUXILIARY) {
    addToMap(type,entry,auxiliaries);
    return entry;
  }
  addToMap(type,entry,allProblems);
  if (priority == Priority.FATAL) {
    addToMap(type,entry,fatalProblems);
  }
  return entry;
}
