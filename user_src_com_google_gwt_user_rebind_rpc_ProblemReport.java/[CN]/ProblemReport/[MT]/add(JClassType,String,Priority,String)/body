{
  String contextString="";
  if (contextType != null) {
    contextString=" (reached via " + contextType.getParameterizedQualifiedSourceName() + ")";
  }
  message=message + contextString;
  for (  String line : extraLines) {
    message=message + "\n   " + line;
  }
  if (priority == Priority.AUXILIARY) {
    addToMap(type,message,auxiliaries);
    return;
  }
  addToMap(type,message,allProblems);
  if (priority == Priority.FATAL) {
    addToMap(type,message,fatalProblems);
  }
}
