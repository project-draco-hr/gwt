{
  ToggleButton b=new ToggleButton("up","down");
  b.setStyleName("random");
  b.setDown(true);
  assertEquals(b.getStylePrimaryName(),"random");
  Map<String,Face> faces=new HashMap<String,Face>();
  faces.put("downDisabled",b.getDownDisabledFace());
  faces.put("upDisabled",b.getUpDisabledFace());
  faces.put("down",b.getDownFace());
  faces.put("up",b.getUpFace());
  faces.put("upHovering",b.getUpHoveringFace());
  faces.put("downHovering",b.getDownHoveringFace());
  for (  Map.Entry<String,Face> entry : faces.entrySet()) {
    Face f=entry.getValue();
    b.setCurrentFace(f);
    assertEquals("random",b.getStylePrimaryName());
    assertTrue(b.getStyleName().indexOf("random-" + f.getName()) != -1);
  }
  b.addStyleName("fobar");
  for (  Map.Entry<String,Face> entry : faces.entrySet()) {
    Face f=entry.getValue();
    b.setCurrentFace(f);
    String computedStyleName=DOM.getElementProperty(b.getElement(),"className");
    assertTrue(computedStyleName.indexOf("random") == 0);
    assertTrue(computedStyleName.indexOf("random-" + f.getName()) >= 0);
    assertTrue(computedStyleName.indexOf("fobar") >= 0);
  }
}
