{
  PushButton b=new PushButton();
  final ArrayList<String> events=new ArrayList<String>();
  b.addClickHandler(new ClickHandler(){
    public void onClick(    ClickEvent event){
      events.add(event.getNativeEvent().getType());
    }
  }
);
  RootPanel.get().add(b);
  b.getElement().dispatchEvent(Document.get().createMouseOverEvent(1,0,0,0,0,false,false,false,false,Event.BUTTON_LEFT,null));
  b.getElement().dispatchEvent(Document.get().createMouseDownEvent(1,0,0,0,0,false,false,false,false,Event.BUTTON_LEFT));
  b.getElement().dispatchEvent(Document.get().createMouseUpEvent(1,0,0,0,0,false,false,false,false,Event.BUTTON_LEFT));
  assertEquals("Expecting one click event",1,events.size());
  assertEquals("Expecting one click event","click",events.get(0));
}
