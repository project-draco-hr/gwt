{
  if (preCompiledModuleDefs == null) {
    this.batchingStrategy=batchingStrategy;
    this.treeLogger=treeLogger;
    preCompiledModuleDefs=new HashMap<String,ModuleDef>();
    String[] allModuleNames=GWTTestCase.getAllTestModuleNames();
    for (    String curModuleName : allModuleNames) {
      modulesToCompile.add(curModuleName);
    }
  }
  ModuleDef moduleDef=preCompiledModuleDefs.get(syntheticModuleName);
  if (moduleDef == null) {
    moduleDef=maybeCompileModuleImpl(moduleName,syntheticModuleName,strategy,batchingStrategy,treeLogger);
  }
  return moduleDef;
}
