{
  if (html == null) {
    throw new IllegalArgumentException("Template html cannot be null");
  }
  if (tokenator == null) {
    throw new IllegalArgumentException("Template tokenator cannot be null");
  }
  if (templates == null) {
    throw new IllegalArgumentException("HtmlTemplates container cannot be null");
  }
  this.templates=templates;
  methodName="html" + this.templates.nextTemplateId();
  populateArgMap(html,tokenator);
  template.add("@Template(\"" + addTemplatePlaceholders(html) + "\")");
  template.add("SafeHtml " + methodName + "("+ getTemplateArgs()+ ");");
  template.add(" ");
}
