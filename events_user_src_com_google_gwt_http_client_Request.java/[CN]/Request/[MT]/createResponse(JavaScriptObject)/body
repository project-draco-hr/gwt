{
  assert(XMLHTTPRequest.isResponseReady(xmlHttpRequest));
  Response response=new Response(){
    @Override public String getHeader(    String header){
      StringValidator.throwIfEmptyOrNull("header",header);
      return XMLHTTPRequest.getResponseHeader(xmlHttpRequest,header);
    }
    @Override public Header[] getHeaders(){
      return XMLHTTPRequest.getHeaders(xmlHttpRequest);
    }
    @Override public String getHeadersAsString(){
      return XMLHTTPRequest.getAllResponseHeaders(xmlHttpRequest);
    }
    @Override public int getStatusCode(){
      return XMLHTTPRequest.getStatusCode(xmlHttpRequest);
    }
    @Override public String getStatusText(){
      return XMLHTTPRequest.getStatusText(xmlHttpRequest);
    }
    @Override public String getText(){
      return XMLHTTPRequest.getResponseText(xmlHttpRequest);
    }
  }
;
  return response;
}
