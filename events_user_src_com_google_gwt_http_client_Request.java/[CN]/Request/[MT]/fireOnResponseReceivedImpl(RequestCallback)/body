{
  if (xmlHttpRequest == null) {
    return;
  }
  cancelTimer();
  final JavaScriptObject xmlHttp=xmlHttpRequest;
  xmlHttpRequest=null;
  String errorMsg=XMLHTTPRequest.getBrowserSpecificFailure(xmlHttp);
  if (errorMsg != null) {
    Throwable exception=new RuntimeException(errorMsg);
    callback.onError(this,exception);
  }
 else {
    Response response=createResponse(xmlHttp);
    callback.onResponseReceived(this,response);
  }
}
