{
  Element report=doc.createElement("gwt_benchmark_report");
  String dateString=DateFormat.getDateTimeInstance().format(date);
  report.setAttribute("date",dateString);
  report.setAttribute("gwt_version",version);
  for (  Map.Entry<TestCase,List<BenchmarkResults>> entry : testResults.entrySet()) {
    TestCase test=entry.getKey();
    List<BenchmarkResults> results=entry.getValue();
    BenchmarkXml xml=new BenchmarkXml(test,results);
    Element categoryElement=getCategoryElement(doc,report,xml.metaData.getCategory().getClassName());
    categoryElement.appendChild(xml.toElement(doc));
  }
  return report;
}
