{
  if (matchAll) {
    return ImmutableSet.copyOf(styleClassesSet);
  }
  SortedSet<String> classNames=new TreeSet<String>(styleClassesSet);
  Builder<String> externalClassesSetBuilder=ImmutableSet.builder();
  externalClassesSetBuilder.addAll(externalClassNames);
  for (  String prefix : externalClassPrefixes) {
    for (    String styleClass : classNames.tailSet(prefix)) {
      if (styleClass.startsWith(prefix)) {
        externalClassesSetBuilder.add(styleClass);
      }
 else {
        break;
      }
    }
  }
  return externalClassesSetBuilder.build();
}
