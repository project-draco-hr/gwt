{
  Set<JClassType> testClasses=new TreeSet<JClassType>();
  for (  JClassType classType : allTestTypes) {
    if (!classType.isPublic() || classType.isAbstract() || !classType.isDefaultInstantiable()) {
      continue;
    }
    String className=getPackagePrefix(classType) + classType.getName().replace('.','$');
    try {
      Class<?> testClass=Class.forName(className);
      GWTTestCase instantiated=(GWTTestCase)testClass.newInstance();
      if (!moduleName.equals(instantiated.getModuleName())) {
        continue;
      }
    }
 catch (    Throwable e) {
      logger.log(TreeLogger.INFO,"Error determining if test class '" + className + "' is a part of the current module; skipping; expect subsequent errors "+ "if this test class is run",e);
      continue;
    }
    testClasses.add(classType);
  }
  return testClasses;
}
