{
  String typeName="RuntimeRebindRule" + runtimeRebindRuleCount++;
  StringBuilder typeBody=new StringBuilder();
  typeBody.append("private static class " + typeName + " extends RuntimeRebinder.RuntimeRebindRule {\n");
  typeBody.append("  public native Object createInstance() /*-{\n");
  typeBody.append("    " + jsniCreateInstanceExpression + "\n");
  typeBody.append("  }-*/;\n");
  typeBody.append("  public boolean matches(String requestTypeName) {\n");
  typeBody.append("    " + matchesExpression + "\n");
  typeBody.append("  }\n");
  typeBody.append("}\n");
  RUNTIME_REBIND_RULE_SOURCES_BY_NAME.put(typeName,typeBody.toString());
}
