{
synchronized (clientStatusesLock) {
    if (results == null) {
      throw new IllegalArgumentException("results cannot be null");
    }
    userAgents.add(userAgent);
    ensureClientStatus(clientId);
    for (    Map.Entry<TestInfo,JUnitResult> entry : results.entrySet()) {
      TestInfo testInfo=entry.getKey();
      ensureResults(testInfo).put(clientId,entry.getValue());
    }
    clientStatusesLock.notifyAll();
  }
}
