{
  SourceInfo sourceInfo=x.getSourceInfo().makeChild(ArrayVisitor.class,"Array initializer");
  JMethodCall call=new JMethodCall(program,sourceInfo,null,initValues,arrayType);
  JLiteral classLit=x.getClassLiteral();
  JLiteral typeIdLit=program.getLiteralInt(program.getTypeId(arrayType));
  JLiteral queryIdLit=program.getLiteralInt(tryGetQueryId(arrayType));
  JsonArray initList=new JsonArray(program,sourceInfo);
  for (int i=0; i < x.initializers.size(); ++i) {
    initList.exprs.add(x.initializers.get(i));
  }
  call.getArgs().add(classLit);
  call.getArgs().add(typeIdLit);
  call.getArgs().add(queryIdLit);
  call.getArgs().add(initList);
  ctx.replaceMe(call);
}
