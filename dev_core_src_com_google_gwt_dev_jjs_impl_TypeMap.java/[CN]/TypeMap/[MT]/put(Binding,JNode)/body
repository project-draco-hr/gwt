{
  if (binding == null) {
    throw new InternalCompilerException("Trying to put null into typeMap.");
  }
  Object old=crossRefMap.put(binding,to);
  assert(old == null);
  if (to instanceof JDeclaredType) {
    JDeclaredType type=(JDeclaredType)to;
    if (type.isExternal()) {
      externalTypesByName.put(type.getName(),type);
    }
  }
}
