{
  EventTarget eventTarget=event.getEventTarget();
  if (!Element.is(eventTarget)) {
    return;
  }
  final Element target=event.getEventTarget().cast();
  String idxString="";
  Element cellTarget=target;
  while ((cellTarget != null) && ((idxString=cellTarget.getAttribute("__idx")).length() == 0)) {
    cellTarget=cellTarget.getParentElement();
  }
  if (idxString.length() > 0) {
    String eventType=event.getType();
    boolean isMouseDown="mousedown".equals(eventType);
    int idx=Integer.parseInt(idxString);
    int indexOnPage=idx - getPageStart();
    if (!isRowWithinBounds(indexOnPage)) {
      return;
    }
    Element cellParent=getCellParent(cellTarget);
    T value=getDisplayedItem(indexOnPage);
    if (isMouseDown && !cell.handlesSelection()) {
      doSelection(event,value,indexOnPage);
    }
    if (isMouseDown && getPresenter().getKeyboardSelectedRowInView() != indexOnPage) {
      boolean isFocusable=CellBasedWidgetImpl.get().isFocusable(target);
      isFocused=isFocused || isFocusable;
      getPresenter().setKeyboardSelectedRow(indexOnPage,!isFocusable);
    }
    fireEventToCell(event,cellParent,value);
  }
}
