{
  if (!isSerializable(type)) {
    return null;
  }
  JClassType customSerializer=hasCustomFieldSerializer(type);
  if (customSerializer != null) {
    return customSerializer.getQualifiedSourceName();
  }
  assert(type.isClassOrInterface() != null || type.isArray() != null);
  JClassType classType=(JClassType)type;
  String[] name=Shared.synthesizeTopLevelClassName(classType,GENERATED_FIELD_SERIALIZER_SUFFIX);
  if (name[0].length() > 0) {
    String serializerName=name[0] + "." + name[1];
    if (name[0].startsWith("java.")) {
      serializerName="com.google.gwt.user.client.rpc.core." + serializerName;
    }
    return serializerName;
  }
 else {
    return name[1];
  }
}
