{
  if (favorite) {
    dataService.addFavorite(ticker,favoritesListViewAdapter.getRanges()[0],new AsyncCallback<StockResponse>(){
      public void onFailure(      Throwable caught){
        handleRpcError(caught,"Error adding favorite");
      }
      public void onSuccess(      StockResponse response){
        updateFavorites(response);
        updatePlayerScores(response);
      }
    }
);
  }
 else {
    dataService.removeFavorite(ticker,favoritesListViewAdapter.getRanges()[0],new AsyncCallback<StockResponse>(){
      public void onFailure(      Throwable caught){
        handleRpcError(caught,"Error removing favorite");
      }
      public void onSuccess(      StockResponse response){
        updateFavorites(response);
        updatePlayerScores(response);
      }
    }
);
  }
}
