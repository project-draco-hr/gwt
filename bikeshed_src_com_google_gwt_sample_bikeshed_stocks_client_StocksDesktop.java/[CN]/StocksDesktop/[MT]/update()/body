{
  if (queryWidget == null) {
    return;
  }
  updateTimer.cancel();
  Range[] searchRanges=searchListViewAdapter.getRanges();
  Range[] favoritesRanges=favoritesListViewAdapter.getRanges();
  String sectorName=getSectorName();
  SectorListViewAdapter sectorListViewAdapter=sectorName != null ? treeModel.getSectorListViewAdapter(sectorName) : null;
  Range[] sectorRanges=sectorListViewAdapter == null ? null : sectorListViewAdapter.getRanges();
  if (searchRanges == null || searchRanges.length == 0 || favoritesRanges == null || favoritesRanges.length == 0) {
    return;
  }
  String searchQuery=queryWidget.getSearchQuery();
  StockRequest request=new StockRequest(searchQuery,sectorListViewAdapter != null ? sectorListViewAdapter.getSector() : null,searchRanges[0],favoritesRanges[0],sectorRanges != null && sectorRanges.length > 0 ? sectorRanges[0] : null);
  dataService.getStockQuotes(request,new AsyncCallback<StockResponse>(){
    public void onFailure(    Throwable caught){
      if (handleRpcError(caught,null)) {
        updateTimer.schedule(UPDATE_DELAY);
      }
    }
    public void onSuccess(    StockResponse result){
      processStockResponse(result);
    }
  }
);
}
