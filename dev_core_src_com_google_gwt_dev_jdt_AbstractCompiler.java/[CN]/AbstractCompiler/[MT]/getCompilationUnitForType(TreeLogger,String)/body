{
  String top=stripNestedTypeNames(binaryTypeName);
  ICompilationUnit unit=(ICompilationUnit)unitsByTypeName.get(top);
  if (unit != null) {
    return unit;
  }
  CompilationUnitProvider cup=sourceOracle.findCompilationUnit(logger,top);
  if (cup == null) {
    String s="Unable to find compilation unit for type '" + top + "'";
    logger.log(TreeLogger.WARN,s,null);
    throw new UnableToCompleteException();
  }
  unit=new ICompilationUnitAdapter(cup);
  unitsByTypeName.put(top,unit);
  return unit;
}
