{
  threadLogger.set(logger);
  Set<CompilationUnitDeclaration> cuds=new HashSet<CompilationUnitDeclaration>();
  compiler.compile(units,cuds);
  int size=cuds.size();
  CompilationUnitDeclaration[] cudArray=new CompilationUnitDeclaration[size];
  return cuds.toArray(cudArray);
}
