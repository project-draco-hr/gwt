{
  sandbox.logger=logger;
  try {
    Set<CompilationUnitDeclaration> cuds=new TreeSet<CompilationUnitDeclaration>(CUD_COMPARATOR);
    LinkedHashMap<String,BinaryTypeBinding> bindings=new LinkedHashMap<String,BinaryTypeBinding>();
    sandbox.compiler.compile(units,cuds,bindings);
    return new CompilationResults(cuds.toArray(new CompilationUnitDeclaration[cuds.size()]),bindings);
  }
  finally {
    sandbox.clear();
    sandbox=null;
  }
}
