{
  threadLogger.set(logger);
  Set cuds=new HashSet();
  compiler.compile(units,cuds);
  int size=cuds.size();
  CompilationUnitDeclaration[] cudArray=new CompilationUnitDeclaration[size];
  return (CompilationUnitDeclaration[])cuds.toArray(cudArray);
}
