{
  this.outer=outer;
  this.doGenerateBytes=doGenerateBytes;
  rememberPackage("");
  INameEnvironment env=new INameEnvironmentImpl();
  IErrorHandlingPolicy pol=DefaultErrorHandlingPolicies.proceedWithAllProblems();
  IProblemFactory probFact=new DefaultProblemFactory(Locale.getDefault());
  ICompilerRequestor req=new ICompilerRequestorImpl();
  CompilerOptions options=getCompilerOptions();
  options.docCommentSupport=false;
  compiler=new CompilerImpl(env,pol,options,req,probFact);
  for (  CompilationUnit unit : outer.compilationState.getCompilationUnits()) {
    String packageName=Shared.getPackageName(unit.getTypeName());
    rememberPackage(packageName);
  }
}
