{
  if (outer == null) {
    return null;
  }
  Map<String,CompilationUnit> unitMap=outer.compilationState.getCompilationUnitMap();
  CompilationUnit unit=unitMap.get(qname);
  while (unit == null) {
    int pos=qname.lastIndexOf('.');
    if (pos < 0) {
      return null;
    }
    qname=qname.substring(0,pos);
    unit=unitMap.get(qname);
  }
  return unit;
}
