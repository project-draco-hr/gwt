{
  this.compilationState=compilationState;
  this.doGenerateBytes=doGenerateBytes;
  rememberPackage("");
  INameEnvironment env=new INameEnvironmentImpl();
  IErrorHandlingPolicy pol=DefaultErrorHandlingPolicies.proceedWithAllProblems();
  IProblemFactory probFact=new DefaultProblemFactory(Locale.getDefault());
  ICompilerRequestor req=new ICompilerRequestorImpl();
  Map<String,String> settings=new HashMap<String,String>();
  settings.put(CompilerOptions.OPTION_LineNumberAttribute,CompilerOptions.GENERATE);
  settings.put(CompilerOptions.OPTION_SourceFileAttribute,CompilerOptions.GENERATE);
  settings.put(CompilerOptions.OPTION_PreserveUnusedLocal,CompilerOptions.PRESERVE);
  settings.put(CompilerOptions.OPTION_ReportDeprecation,CompilerOptions.IGNORE);
  settings.put(CompilerOptions.OPTION_LocalVariableAttribute,CompilerOptions.GENERATE);
  settings.put(CompilerOptions.OPTION_Compliance,CompilerOptions.VERSION_1_5);
  settings.put(CompilerOptions.OPTION_Source,CompilerOptions.VERSION_1_5);
  settings.put(CompilerOptions.OPTION_TargetPlatform,CompilerOptions.VERSION_1_5);
  settings.put(CompilerOptions.OPTION_DocCommentSupport,CompilerOptions.ENABLED);
  compiler=new CompilerImpl(env,pol,new CompilerOptions(settings),req,probFact);
}
