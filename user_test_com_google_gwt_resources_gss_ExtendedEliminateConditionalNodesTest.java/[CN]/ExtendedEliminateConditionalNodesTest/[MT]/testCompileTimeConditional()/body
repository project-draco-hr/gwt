{
  CssTree cssTree=parseAndBuildTree(lines("@if (is('custom.one', 'foo') && is('custom.one', 'bar')) {","  .foo {","    padding: 5px;"," }","}","","@elseif (!is('custom.two', 'foo') && is('custom.three', 'foo') " + "|| is('custom.four', 'foo')) {","  .foo {","    padding: 15px;"," }","}"));
  Set<String> trueConditions=Sets.newHashSet("custom.one:foo","custom.three:foo");
  ExtendedEliminateConditionalNodes visitor=new ExtendedEliminateConditionalNodes(cssTree.getMutatingVisitController(),trueConditions,cssRuntimeConditionalBlockNodes);
  visitor.runPass();
  String expectedTreeToString="[[.foo]{[padding:[15px]]}]";
  assertEquals(expectedTreeToString,cssTree.getRoot().getBody().toString());
}
