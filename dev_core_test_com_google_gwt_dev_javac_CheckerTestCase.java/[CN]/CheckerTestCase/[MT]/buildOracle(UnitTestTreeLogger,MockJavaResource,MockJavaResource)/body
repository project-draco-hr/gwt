{
  Set<Resource> resources=new HashSet<Resource>();
  addLongCheckingCups(resources);
  Set<GeneratedUnit> generatedUnits=CompilationStateTestBase.getGeneratedUnits(buggyResource);
  if (extraResource != null) {
    generatedUnits.addAll(CompilationStateTestBase.getGeneratedUnits(extraResource));
  }
  return TypeOracleTestingUtils.buildStandardTypeOracleWith(logger,resources,generatedUnits);
}
