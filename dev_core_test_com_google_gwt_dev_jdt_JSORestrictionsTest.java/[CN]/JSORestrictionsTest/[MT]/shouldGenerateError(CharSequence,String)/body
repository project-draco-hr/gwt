{
  UnitTestTreeLogger.Builder builder=new UnitTestTreeLogger.Builder();
  builder.setLowestLogLevel(TreeLogger.ERROR);
  if (expectedError != null) {
    builder.expectError("Errors in \'transient source for Buggy\'",null);
    builder.expectError(expectedError,null);
    builder.expectError("Compilation problem due to \'transient source for Buggy\'",null);
  }
  UnitTestTreeLogger logger=builder.createLogger();
  TypeOracleTestingUtils.buildTypeOracleForCode("Buggy",buggyCode,logger);
  logger.assertCorrectLogEntries();
}
