{
  Stack<Event> threadPendingEvents=pendingEvents.get();
  if (threadPendingEvents.isEmpty()) {
    throw new IllegalStateException("Tried to add data to an event that never started!");
  }
  Event currentEvent=threadPendingEvents.peek();
  currentEvent.addData(data);
}
