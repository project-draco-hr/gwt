{
  if (!fileLoggingEnabled) {
    return;
  }
  for (  GarbageCollectorMXBean gcMXBean : gcMXBeans) {
    String gcName=gcMXBean.getName();
    Long lastGcTime=lastGcTimes.get(gcName);
    long currGcTime=gcMXBean.getCollectionTime();
    if (lastGcTime == null) {
      lastGcTime=0L;
    }
    if (currGcTime > lastGcTime) {
      long gcDurationNanos=(currGcTime - lastGcTime) * 1000000L;
      Event gcEvent=new GcEvent(refEvent,gcName,gcMXBean.getCollectionCount(),gcDurationNanos);
      eventsToWrite.add(gcEvent);
      lastGcTimes.put(gcName,currGcTime);
    }
  }
}
