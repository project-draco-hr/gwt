{
  for (  java.lang.management.GarbageCollectorMXBean gcMXBean : gcMXBeans) {
    String gcName=gcMXBean.getName();
    Long lastGcTime=lastGcTimes.get(gcName);
    long currGcTime=gcMXBean.getCollectionTime();
    if (lastGcTime == null) {
      lastGcTime=0L;
    }
    if (currGcTime > lastGcTime) {
      long gcDurationNanos=(currGcTime - lastGcTime) * 1000000L;
      long gcStartTimeNanos=refEvent.startTimeNanos + refEvent.durationNanos - gcDurationNanos;
      Event gcEvent=new Event(gcStartTimeNanos,null,SpeedTracerEventType.GC,"Collector Type",gcName,"Cummulative Collection Count",Long.toString(gcMXBean.getCollectionCount()));
      gcEvent.durationNanos=gcDurationNanos;
      eventsToWrite.add(gcEvent);
      lastGcTimes.put(gcName,currGcTime);
    }
  }
}
