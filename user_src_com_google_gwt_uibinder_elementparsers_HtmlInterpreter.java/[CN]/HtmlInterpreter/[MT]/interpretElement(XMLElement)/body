{
  if (writer.isWidgetElement(elem)) {
    writer.die(elem,"Found widget in an HTML context");
  }
  if (writer.useLazyWidgetBuilders() && writer.isSubclassOf(elem,SafeHtml.class)) {
    String childFieldName=writer.parseElementToField(elem);
    return writer.tokenForSafeHtmlExpression(childFieldName);
  }
  return pipe.interpretElement(elem);
}
