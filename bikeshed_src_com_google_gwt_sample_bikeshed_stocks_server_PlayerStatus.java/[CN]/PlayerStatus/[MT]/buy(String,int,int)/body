{
  int cash=getCash();
  int totalPrice=price * quantity;
  if (cash < totalPrice) {
    throw new IllegalArgumentException("You cannot afford that much stock");
  }
  int current=getSharesOwned(ticker);
  double averagePrice=getAveragePrice(ticker);
  double totalPaid=averagePrice * current + totalPrice;
  current+=quantity;
  setCash(cash - totalPrice);
  sharesOwnedBySymbol.put(ticker,current);
  averagePrice=totalPaid / current;
  averagePriceBySymbol.put(ticker,averagePrice);
  addFavorite(ticker);
}
