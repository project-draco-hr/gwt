{
  TextBox tb=new TextBox();
  tb.setName("q");
  FormPanel form=new FormPanel();
  form.setWidget(tb);
  form.setAction("http://www.google.com/search");
  form.addSubmitHandler(new SubmitHandler(){
    @Override public void onSubmit(    SubmitEvent event){
      event.cancel();
    }
  }
);
  form.addSubmitCompleteHandler(new SubmitCompleteHandler(){
    @Override public void onSubmitComplete(    SubmitCompleteEvent event){
      fail("Form was canceled and should not have been submitted");
    }
  }
);
  form.submit();
}
