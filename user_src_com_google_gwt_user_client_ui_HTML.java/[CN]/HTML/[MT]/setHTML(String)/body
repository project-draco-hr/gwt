{
  if (directionEstimator == null) {
    isSpanWrapped=false;
    getElement().setInnerHTML(html);
    if (textDir != initialElementDir) {
      textDir=initialElementDir;
      BidiUtils.setDirectionOnElement(getElement(),initialElementDir);
      updateHorizontalAlignment();
    }
  }
 else {
    setHTML(html,directionEstimator.estimateDirection(html,true));
  }
}
