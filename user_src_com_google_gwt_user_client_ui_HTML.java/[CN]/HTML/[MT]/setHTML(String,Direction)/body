{
  textDir=dir;
  if (isElementInline) {
    isSpanWrapped=true;
    getElement().setInnerHTML(BidiFormatter.getInstanceForCurrentLocale(true).spanWrapWithKnownDir(dir,html,true));
  }
 else {
    isSpanWrapped=false;
    BidiUtils.setDirectionOnElement(getElement(),dir);
    getElement().setInnerHTML(html);
  }
  updateHorizontalAlignment();
}
