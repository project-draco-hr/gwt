{
  this.window=window;
  logger.setMaxDetail(TreeLogger.ERROR);
  jsEngine=this.window.getJavaScriptEngine();
  htmlPage=(HtmlPage)this.window.getWebWindow().getEnclosedPage();
  logger.log(TreeLogger.INFO,"jsEngine = " + jsEngine + ", HtmlPage = "+ htmlPage);
  jsObjectToRef=new IdentityHashMap<Scriptable,Integer>();
  javaObjectsToFree=new HashSet<Integer>();
  nextRefId=1;
  refToJsObject=new HashMap<Integer,Scriptable>();
  javaObjectCache=new HashMap<Integer,JavaObject>();
}
