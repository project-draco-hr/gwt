{
  if (className == null) {
    throw new ClassNotFoundException("null class name",new NullPointerException());
  }
  if (isInStandardJavaPackage(className)) {
    throw new ClassNotFoundException(className);
  }
  if (className.equals(ShellJavaScriptHost.class.getName())) {
    return ShellJavaScriptHost.class;
  }
  byte[] classBytes;
  try {
    String lookupClassName=className;
    if (classRewriter != null && classRewriter.isJsoImpl(className)) {
      lookupClassName=className.substring(0,className.length() - 1);
    }
    classBytes=compiler.getClassBytes(logger,lookupClassName);
    if (classRewriter != null) {
      classBytes=classRewriter.rewrite(className,classBytes);
    }
    return defineClass(className,classBytes,0,classBytes.length);
  }
 catch (  UnableToCompleteException e) {
    throw new ClassNotFoundException(className);
  }
}
