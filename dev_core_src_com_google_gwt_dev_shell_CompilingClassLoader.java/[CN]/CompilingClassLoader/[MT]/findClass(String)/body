{
  if (className == null) {
    throw new ClassNotFoundException("null class name",new NullPointerException());
  }
  if (isInStandardJavaPackage(className)) {
    throw new ClassNotFoundException(className);
  }
  if (BRIDGE_CLASS_NAMES.containsKey(className)) {
    return BRIDGE_CLASS_NAMES.get(className);
  }
  byte[] classBytes=findClassBytes(className);
  if (classBytes == null) {
    throw new ClassNotFoundException(className);
  }
  Class<?> newClass=defineClass(className,classBytes,0,classBytes.length);
  if (className.equals(JavaScriptHost.class.getName())) {
    javaScriptHostClass=newClass;
    updateJavaScriptHost();
  }
  if (!classRewriter.isJsoIntf(className)) {
    CompiledClass compiledClass=compilationState.getClassFileMap().get(canonicalizeClassName(className));
    if (compiledClass != null) {
      toInject.push(compiledClass);
    }
  }
  if (!isInjectingClass) {
    try {
      isInjectingClass=true;
      while (toInject.size() > 0) {
        injectJsniFor(toInject.remove(0));
      }
    }
  finally {
      isInjectingClass=false;
    }
  }
  if (className.equals("com.google.gwt.core.client.GWT")) {
    gwtClass=newClass;
    updateGwtClass();
  }
  return newClass;
}
