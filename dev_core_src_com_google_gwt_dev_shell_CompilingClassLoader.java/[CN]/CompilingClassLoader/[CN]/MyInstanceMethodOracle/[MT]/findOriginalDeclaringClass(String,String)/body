{
  Set<JClassType> declaringClasses=signatureToDeclaringClasses.get(signature);
  if (declaringClasses.size() == 1) {
    return createDescriptor(declaringClasses.iterator().next());
  }
  String sourceName=desc.replace('/','.');
  sourceName=sourceName.replace('$','.');
  JClassType declaredType=typeOracle.findType(sourceName);
  if (declaringClasses.contains(declaredType)) {
    return desc;
  }
  for (  JClassType possibleSupertype : declaringClasses) {
    if (declaredType.isAssignableTo(possibleSupertype)) {
      return createDescriptor(possibleSupertype);
    }
  }
  throw new IllegalArgumentException("Could not resolve signature '" + signature + "' from class '"+ desc+ "'");
}
