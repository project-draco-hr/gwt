{
  super(null);
  this.logger=logger;
  this.compilationState=compilationState;
  this.shellJavaScriptHost=javaScriptHost;
  this.typeOracle=compilationState.getTypeOracle();
  setDefaultAssertionStatus(true);
  ensureJavaScriptHostBytes(logger);
  JClassType jsoType=typeOracle.findType(JsValueGlue.JSO_CLASS);
  if (jsoType != null) {
    classRewriter=new HostedModeClassRewriter(typeOracle);
  }
 else {
    classRewriter=null;
  }
}
