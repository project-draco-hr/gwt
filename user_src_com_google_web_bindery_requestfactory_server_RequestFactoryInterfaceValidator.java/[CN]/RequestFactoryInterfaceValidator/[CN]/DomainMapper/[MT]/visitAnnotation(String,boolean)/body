{
  boolean expectClasses=false;
  boolean expectNames=false;
  if (desc.equals(Type.getDescriptor(ProxyFor.class))) {
    expectClasses=true;
    found.add(ProxyFor.class);
  }
 else   if (desc.equals(Type.getDescriptor(ProxyForName.class))) {
    expectNames=true;
    found.add(ProxyForName.class);
  }
 else   if (desc.equals(Type.getDescriptor(Service.class))) {
    expectClasses=true;
    found.add(Service.class);
  }
 else   if (desc.equals(Type.getDescriptor(ServiceName.class))) {
    expectNames=true;
    found.add(ServiceName.class);
  }
  if (expectClasses) {
    return new EmptyVisitor(){
      @Override public void visit(      String name,      Object value){
        if ("value".equals(name)) {
          domainInternalName=((Type)value).getInternalName();
        }
 else         if ("locator".equals(name)) {
          locatorInternalName=((Type)value).getInternalName();
        }
      }
    }
;
  }
  if (expectNames) {
    return new EmptyVisitor(){
      @Override public void visit(      String name,      Object value){
        String sourceName;
        boolean locatorRequired="locator".equals(name);
        boolean valueRequired="value".equals(name);
        if (valueRequired || locatorRequired) {
          sourceName=(String)value;
        }
 else {
          return;
        }
        StringBuffer desc=new StringBuffer(sourceName.replace('.','/'));
        while (!loader.exists(desc.toString() + ".class")) {
          logger.spam("Did not find " + desc.toString());
          int idx=desc.lastIndexOf("/");
          if (idx == -1) {
            if (locatorRequired) {
              logger.poison("Cannot find locator named %s",value);
            }
 else             if (valueRequired) {
              logger.poison("Cannot find domain type named %s",value);
            }
            return;
          }
          desc.setCharAt(idx,'$');
        }
        if (locatorRequired) {
          locatorInternalName=desc.toString();
          logger.spam(locatorInternalName);
        }
 else         if (valueRequired) {
          domainInternalName=desc.toString();
          logger.spam(domainInternalName);
        }
 else {
          throw new RuntimeException("Should not reach here");
        }
      }
    }
;
  }
  return null;
}
