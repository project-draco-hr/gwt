{
  if (fastFail(binaryName)) {
    return;
  }
  Type proxyType=Type.getObjectType(BinaryName.toInternalName(binaryName));
  typeTokens.put(OperationKey.hash(binaryName),proxyType);
  ErrorContext logger=parentLogger.setType(proxyType);
  if (!isAssignable(logger,expectedType,proxyType)) {
    parentLogger.poison("%s is not a %s",print(proxyType),print(expectedType));
    return;
  }
  for (  Type supertype : getSupertypes(logger,proxyType)) {
    if (shouldAttemptProxyValidation(logger,supertype)) {
      maybeCheckProxyType(logger,supertype);
    }
  }
  Type domainType=getDomainType(logger,proxyType,false);
  if (domainType == errorType) {
    logger.poison("The type %s must be annotated with a @%s or @%s annotation",BinaryName.toSourceName(binaryName),ProxyFor.class.getSimpleName(),ProxyForName.class.getSimpleName());
    return;
  }
  if (requireId) {
    Type locatorType=clientToLocatorMap.get(proxyType);
    if (locatorType == null) {
      checkIdAndVersion(logger,domainType);
    }
  }
  Set<RFMethod> clientPropertyMethods=getMethodsInHierarchy(logger,proxyType);
  for (  RFMethod clientPropertyMethod : clientPropertyMethods) {
    if ("stableId".equals(clientPropertyMethod.getName()) && clientPropertyMethod.getArgumentTypes().length == 0) {
      continue;
    }
    checkPropertyMethod(logger,clientPropertyMethod,domainType);
    maybeCheckReferredProxies(logger,clientPropertyMethod);
  }
  maybeCheckExtraTypes(logger,proxyType);
}
