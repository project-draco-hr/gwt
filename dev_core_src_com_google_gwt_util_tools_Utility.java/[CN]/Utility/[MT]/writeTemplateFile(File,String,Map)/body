{
  String replacedContents=contents;
  Set entries=replacements.entrySet();
  for (Iterator iter=entries.iterator(); iter.hasNext(); ) {
    Map.Entry entry=(Map.Entry)iter.next();
    String replaceThis=(String)entry.getKey();
    String withThis=(String)entry.getValue();
    withThis=withThis.replaceAll("\\\\","\\\\\\\\");
    withThis=withThis.replaceAll("\\$","\\\\\\$");
    replacedContents=replacedContents.replaceAll(replaceThis,withThis);
  }
  FileWriter fw=new FileWriter(file);
  fw.write(replacedContents);
  close(fw);
}
