{
  boolean compilationFailed=false;
  if (goldenCuds.length == 0) {
    compilationFailed=true;
  }
  for (int iCud=0; iCud < goldenCuds.length; iCud++) {
    CompilationUnitDeclaration cud=goldenCuds[iCud];
    CompilationResult result=cud.compilationResult();
    if (result.hasErrors()) {
      compilationFailed=true;
      if (!itemizeErrors) {
        break;
      }
      TreeLogger branch=logger.branch(TreeLogger.ERROR,"Errors in " + String.valueOf(result.getFileName()),null);
      IProblem[] errors=result.getErrors();
      for (int i=0; i < errors.length; i++) {
        IProblem problem=errors[i];
        if (problemSet.contains(problem)) {
          continue;
        }
        problemSet.add(problem);
        String msg=problem.toString();
        msg=msg.substring(msg.indexOf(' '));
        int line=problem.getSourceLineNumber();
        StringBuffer msgBuf=new StringBuffer();
        msgBuf.append("Line ");
        msgBuf.append(line);
        msgBuf.append(": ");
        msgBuf.append(msg);
        branch.log(TreeLogger.ERROR,msgBuf.toString(),null);
      }
    }
  }
  if (compilationFailed) {
    logger.log(TreeLogger.ERROR,"Cannot proceed due to previous errors",null);
    throw new UnableToCompleteException();
  }
}
