{
  if (mainClassName.contains(".")) {
    mainClassName=mainClassName.substring(mainClassName.lastIndexOf('.') + 1);
  }
  JMethod isStatsAvailableMethod=program.getIndexedMethod("Stats.isStatsAvailable");
  JMethod makeTimeStatMethod=program.getIndexedMethod("Stats.makeTimeStat");
  JMethod moduleNameMethod=program.getIndexedMethod("Stats.getModuleName");
  JMethod statsMethod=program.getIndexedMethod("Stats.stats");
  JMethodCall availableCall=new JMethodCall(program,null,null,isStatsAvailableMethod);
  JMethodCall makeTimeStatCall=new JMethodCall(program,null,null,makeTimeStatMethod);
  JMethodCall moduleNameCall=new JMethodCall(program,null,null,moduleNameMethod);
  JMethodCall statsCall=new JMethodCall(program,null,null,statsMethod);
  statsCall.getArgs().add(moduleNameCall);
  statsCall.getArgs().add(program.getLiteralString("startup"));
  statsCall.getArgs().add(program.getLiteralString("onModuleLoadStart:" + mainClassName));
  statsCall.getArgs().add(makeTimeStatCall);
  JBinaryOperation amp=new JBinaryOperation(program,null,program.getTypePrimitiveBoolean(),JBinaryOperator.AND,availableCall,statsCall);
  return program.createAssignmentStmt(null,new JLocalRef(program,null,tossLocal),amp);
}
