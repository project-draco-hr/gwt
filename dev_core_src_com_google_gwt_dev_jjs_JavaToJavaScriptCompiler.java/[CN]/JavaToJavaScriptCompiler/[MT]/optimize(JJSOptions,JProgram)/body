{
  jprogram.beginOptimizations();
  PerfLogger.start("optimize");
  boolean didChange;
  do {
    if (Thread.interrupted()) {
      PerfLogger.end();
      throw new InterruptedException();
    }
    maybeDumpAST(jprogram);
    PerfLogger.start("optimize loop");
    jprogram.typeOracle.recomputeAfterOptimizations();
    didChange=false;
    didChange=Pruner.exec(jprogram,true) || didChange;
    didChange=Finalizer.exec(jprogram) || didChange;
    didChange=MakeCallsStatic.exec(jprogram) || didChange;
    didChange=TypeTightener.exec(jprogram) || didChange;
    didChange=MethodCallTightener.exec(jprogram) || didChange;
    didChange=DeadCodeElimination.exec(jprogram) || didChange;
    if (options.isAggressivelyOptimize()) {
      didChange=MethodInliner.exec(jprogram) || didChange;
    }
    PerfLogger.end();
  }
 while (didChange);
  PerfLogger.end();
}
