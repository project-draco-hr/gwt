{
  JProgram program=compileSnippet("void","new test.WithTag();");
  JDeclaredType tag=findType(program,"test.Tag");
  assertEquals(1,tag.getAnnotations().size());
  JDeclaredType withTag=findType(program,"test.WithTag");
  assertEquals(1,withTag.getAnnotations().size());
  JMethod constructor=findMethod(withTag,"WithTag");
  assertEquals(1,constructor.getAnnotations().size());
  JMethod method=findMethod(withTag,"method");
  assertEquals(1,method.getAnnotations().size());
  JField field=findField(withTag,"field");
  assertEquals(1,field.getAnnotations().size());
  JLocal local=findLocal(method,"local");
  assertEquals(1,local.getAnnotations().size());
  JParameter param=method.getParams().get(0);
  assertEquals(1,param.getAnnotations().size());
}
