{
  JProgram program=compileSnippet("void","new test.WithBinary();");
  JDeclaredType t=findType(program,"test.WithBinary");
  JMethod m=findMethod(t,"useSourceClassAnnotation");
  JAnnotation a=JAnnotation.findAnnotation(m,"test.SourceClassAnnotation");
  assertNotNull(a);
  Property p=a.getProperty("value");
  JClassLiteral literal=(JClassLiteral)p.getSingleValue();
  JDeclaredType type=(JDeclaredType)literal.getRefType();
  assertTrue(type.isExternal());
  assertEquals(JAnnotationTest.class.getName(),type.getName());
}
