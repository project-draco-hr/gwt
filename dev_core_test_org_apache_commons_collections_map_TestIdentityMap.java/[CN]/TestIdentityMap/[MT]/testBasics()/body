{
  IterableMap map=new IdentityMap();
  assertEquals(0,map.size());
  map.put(I1A,I2A);
  assertEquals(1,map.size());
  assertSame(I2A,map.get(I1A));
  assertSame(null,map.get(I1B));
  assertEquals(true,map.containsKey(I1A));
  assertEquals(false,map.containsKey(I1B));
  assertEquals(true,map.containsValue(I2A));
  assertEquals(false,map.containsValue(I2B));
  map.put(I1A,I2B);
  assertEquals(1,map.size());
  assertSame(I2B,map.get(I1A));
  assertSame(null,map.get(I1B));
  assertEquals(true,map.containsKey(I1A));
  assertEquals(false,map.containsKey(I1B));
  assertEquals(false,map.containsValue(I2A));
  assertEquals(true,map.containsValue(I2B));
  map.put(I1B,I2B);
  assertEquals(2,map.size());
  assertSame(I2B,map.get(I1A));
  assertSame(I2B,map.get(I1B));
  assertEquals(true,map.containsKey(I1A));
  assertEquals(true,map.containsKey(I1B));
  assertEquals(false,map.containsValue(I2A));
  assertEquals(true,map.containsValue(I2B));
}
