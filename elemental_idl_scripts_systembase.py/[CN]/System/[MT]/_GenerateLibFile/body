def _GenerateLibFile(self, lib_template, lib_file_path, file_paths, **template_args):
    'Generates a lib file from a template and a list of files.\n\n    Additional keyword arguments are passed to the template.\n    Typically called from self.GenerateLibraries.\n    '
    template = self._templates.Load(lib_template)
    lib_file_contents = self._emitters.FileEmitter(lib_file_path)
    list_emitter = lib_file_contents.Emit(template, **template_args)
    lib_file_dir = os.path.dirname(lib_file_path)
    for path in sorted(file_paths):
        relpath = os.path.relpath(path, lib_file_dir)
        list_emitter.Emit("#source('$PATH');\n", PATH=MassagePath(relpath))
