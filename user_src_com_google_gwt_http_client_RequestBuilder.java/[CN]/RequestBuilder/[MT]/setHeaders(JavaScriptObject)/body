{
  if (headers != null && headers.size() > 0) {
    for (    Map.Entry<String,String> header : headers.entrySet()) {
      String errorMessage=XMLHTTPRequest.setRequestHeader(xmlHttpRequest,header.getKey(),header.getValue());
      if (errorMessage != null) {
        throw new RequestException(errorMessage);
      }
    }
  }
 else {
    XMLHTTPRequest.setRequestHeader(xmlHttpRequest,"Content-Type","text/plain; charset=utf-8");
  }
}
