{
  assert(dir.isDirectory());
  File[] children=dir.listFiles();
  for (  File child : children) {
    String childPath=dirPath + child.getName();
    if (child.isDirectory()) {
      String childDirPath=childPath + "/";
      if (pathPrefixSet.includesDirectory(childDirPath)) {
        Messages.DESCENDING_INTO_DIR.log(logger,child.getAbsolutePath(),null);
        descendToFindResources(logger,pathPrefixSet,resources,child,childDirPath);
      }
 else {
        Messages.NOT_DESCENDING_INTO_DIR.log(logger,child.getAbsolutePath(),null);
      }
    }
 else {
      if (pathPrefixSet.includesResource(childPath)) {
        Messages.INCLUDING_FILE.log(logger,childPath,null);
        FileResource r=new FileResource(this,childPath,child);
        resources.add(r);
      }
 else {
        Messages.EXCLUDING_FILE.log(logger,childPath,null);
      }
    }
  }
}
