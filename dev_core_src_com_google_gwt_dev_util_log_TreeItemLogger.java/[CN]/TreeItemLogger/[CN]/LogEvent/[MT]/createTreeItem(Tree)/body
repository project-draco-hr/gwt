{
  TreeItem treeItem=null;
  if (isBranchCommit) {
    TreeItemLogger parentLogger=(TreeItemLogger)logger.getParentLogger();
    if (parentLogger.lazyTreeItem == null) {
      treeItem=new TreeItem(tree,SWT.NONE);
      logger.lazyTreeItem=treeItem;
    }
 else     if (!parentLogger.lazyTreeItem.isDisposed()) {
      treeItem=new TreeItem(parentLogger.lazyTreeItem,SWT.NONE);
      logger.lazyTreeItem=treeItem;
    }
 else {
      parentLogger.markLoggerDead();
      return null;
    }
  }
 else {
    if (logger.lazyTreeItem == null) {
      treeItem=new TreeItem(tree,SWT.NONE);
    }
 else     if (!logger.lazyTreeItem.isDisposed()) {
      treeItem=new TreeItem(logger.lazyTreeItem,SWT.NONE);
    }
 else {
      logger.markLoggerDead();
      return null;
    }
  }
  String label=message;
  if (label == null) {
    if (caught != null) {
      label=caught.getMessage();
      if (label == null || label.trim().length() == 0) {
        label=caught.toString();
      }
    }
  }
  treeItem.setText(label);
  treeItem.setData(this);
  return treeItem;
}
