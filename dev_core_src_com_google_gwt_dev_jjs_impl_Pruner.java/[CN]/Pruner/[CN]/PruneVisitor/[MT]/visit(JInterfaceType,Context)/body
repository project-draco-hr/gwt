{
  boolean isReferenced=referencedTypes.contains(type);
  boolean isInstantiated=program.typeOracle.isInstantiatedType(type);
  for (Iterator it=type.fields.iterator(); it.hasNext(); ) {
    JField field=(JField)it.next();
    if (!isReferenced || !referencedNonTypes.contains(field)) {
      it.remove();
      didChange=true;
    }
  }
  Iterator it=type.methods.iterator();
  if (it.hasNext()) {
    it.next();
  }
  while (it.hasNext()) {
    JMethod method=(JMethod)it.next();
    if (!isInstantiated || !methodIsReferenced(method)) {
      it.remove();
      didChange=true;
    }
  }
  return false;
}
