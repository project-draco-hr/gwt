{
  assert(referencedTypes.contains(type));
  boolean isInstantiated=program.typeOracle.isInstantiatedType(type);
  for (int i=0; i < type.getFields().size(); ++i) {
    JField field=type.getFields().get(i);
    if (!referencedNonTypes.contains(field) || pruneViaNoninstantiability(isInstantiated,field)) {
      type.removeField(i);
      madeChanges();
      --i;
    }
  }
  for (int i=0; i < type.getMethods().size(); ++i) {
    JMethod method=type.getMethods().get(i);
    if (!referencedNonTypes.contains(method) || pruneViaNoninstantiability(isInstantiated,method)) {
      if (i > 0) {
        type.removeMethod(i);
        madeChanges();
        --i;
      }
    }
 else     if (methodsReferencedButNotExecuted.contains(method)) {
      method.setAbstract(true);
      method.setBody(null);
    }
 else {
      accept(method);
    }
  }
  return false;
}
