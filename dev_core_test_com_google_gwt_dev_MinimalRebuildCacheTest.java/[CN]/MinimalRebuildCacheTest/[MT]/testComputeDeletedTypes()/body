{
  minimalRebuildCache.setAllCompilationUnitNames(TreeLogger.NULL,Sets.newHashSet("Foo","Bar","Baz"));
  minimalRebuildCache.recordNestedTypeName("Foo","Foo");
  minimalRebuildCache.recordNestedTypeName("Foo","Foo$Inner");
  minimalRebuildCache.recordNestedTypeName("Bar","Bar");
  minimalRebuildCache.recordNestedTypeName("Bar","Bar$Inner");
  minimalRebuildCache.recordNestedTypeName("Baz","Baz");
  minimalRebuildCache.recordNestedTypeName("Baz","Baz$Inner");
  minimalRebuildCache.setAllCompilationUnitNames(TreeLogger.NULL,Sets.newHashSet("Foo","Bar"));
  assertEquals(Sets.newHashSet("Baz","Baz$Inner"),minimalRebuildCache.computeDeletedTypeNames());
}
