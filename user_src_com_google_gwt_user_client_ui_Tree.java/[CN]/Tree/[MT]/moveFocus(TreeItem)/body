{
  HasFocus focusableWidget=selection.getFocusableWidget();
  if (focusableWidget != null) {
    focusableWidget.setFocus(true);
    DOM.scrollIntoView(((Widget)focusableWidget).getElement());
  }
 else {
    Element selectedElem=selection.getContentElem();
    int containerLeft=getAbsoluteLeft();
    int containerTop=getAbsoluteTop();
    int left=DOM.getAbsoluteLeft(selectedElem) - containerLeft;
    int top=DOM.getAbsoluteTop(selectedElem) - containerTop;
    int width=DOM.getElementPropertyInt(selectedElem,"offsetWidth");
    int height=DOM.getElementPropertyInt(selectedElem,"offsetHeight");
    DOM.setIntStyleAttribute(focusable,"left",left);
    DOM.setIntStyleAttribute(focusable,"top",top);
    DOM.setIntStyleAttribute(focusable,"width",width);
    DOM.setIntStyleAttribute(focusable,"height",height);
    DOM.scrollIntoView(focusable);
    FocusPanel.impl.focus(focusable);
  }
}
