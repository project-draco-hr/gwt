{
  Element curSelectionContentElem=curSelection.getContentElem();
  int curSelectionLevel=-1;
  TreeItem tempItem=curSelection;
  while (tempItem != null) {
    tempItem=tempItem.getParentItem();
    ++curSelectionLevel;
  }
  Accessibility.setState(curSelectionContentElem,Accessibility.STATE_LEVEL,String.valueOf(curSelectionLevel + 1));
  TreeItem curSelectionParent=curSelection.getParentItem();
  if (curSelectionParent == null) {
    curSelectionParent=root;
  }
  Accessibility.setState(curSelectionContentElem,Accessibility.STATE_SETSIZE,String.valueOf(curSelectionParent.getChildCount()));
  int curSelectionIndex=curSelectionParent.getChildIndex(curSelection);
  Accessibility.setState(curSelectionContentElem,Accessibility.STATE_POSINSET,String.valueOf(curSelectionIndex + 1));
  if (curSelection.getChildCount() == 0) {
    Accessibility.removeState(curSelectionContentElem,Accessibility.STATE_EXPANDED);
  }
 else {
    if (curSelection.getState()) {
      Accessibility.setState(curSelectionContentElem,Accessibility.STATE_EXPANDED,"true");
    }
 else {
      Accessibility.setState(curSelectionContentElem,Accessibility.STATE_EXPANDED,"false");
    }
  }
  Accessibility.setState(curSelectionContentElem,Accessibility.STATE_SELECTED,"true");
  Accessibility.setState(focusable,Accessibility.STATE_ACTIVEDESCENDANT,DOM.getElementAttribute(curSelectionContentElem,"id"));
}
