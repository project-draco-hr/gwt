{
  Element div=null;
  try {
    String ableId=DOM.createUniqueId();
    String bakerId=DOM.createUniqueId();
    String charlieId=DOM.createUniqueId();
    String deltaId=DOM.createUniqueId();
    String ableText="able" + Random.nextInt();
    String bakerText="baker" + Random.nextInt();
    String charlieText="charlie" + Random.nextInt();
    String deltaText="delta" + Random.nextInt();
    StringBuilder b=new StringBuilder();
    b.append("<div>");
    b.append("<span id='").append(ableId).append("'>").append(ableText);
    b.append("<span id='").append(bakerId).append("'>").append(bakerText);
    b.append("<span id='").append(charlieId).append("'>").append(charlieText);
    b.append("<span id='").append(deltaId).append("'>").append(deltaText);
    b.append("</span>").append("</span>").append("</span>").append("</span>");
    b.append("</div>");
    div=UiBinderUtil.fromHtml(b.toString());
    if (underHere != null) {
      underHere.insertFirst(div);
    }
    findAndAssertTextBeforeFirstChild(div,ableId,ableText);
    findAndAssertTextBeforeFirstChild(div,bakerId,bakerText);
    findAndAssertTextBeforeFirstChild(div,charlieId,charlieText);
    Document.get().getBody().appendChild(div);
    Element e=Document.get().getElementById(deltaId);
    Document.get().getBody().removeChild(div);
    assertEquals(deltaText,e.getInnerText());
  }
  finally {
    detach(div);
  }
}
