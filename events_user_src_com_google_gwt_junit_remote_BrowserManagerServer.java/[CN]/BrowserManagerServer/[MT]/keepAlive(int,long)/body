{
  if (keepAliveMs <= 0) {
    throw new IllegalArgumentException();
  }
synchronized (processByToken) {
    if (token < 0 || token >= nextToken) {
      throw new IllegalArgumentException();
    }
    BrowserManagerProcess process=processByToken.get(token);
    if (process != null) {
      if (process.keepAlive(keepAliveMs)) {
        return;
      }
    }
 else     if (launchCommandQueue.contains(new LaunchCommand(token))) {
      return;
    }
  }
  throw new IllegalStateException("Process " + token + " already dead");
}
