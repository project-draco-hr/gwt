{
  TabLayoutPanel p=new TabLayoutPanel(2,Unit.EM);
  Label content0=new Label("Content 0");
  Label header0=new Label("Header 0");
  p.add(content0,header0);
  Label content1=new Label("Content 1");
  Label header1=new Label("Header 1");
  p.add(content1,header1);
  Label content2=new Label("Content 2");
  Label header2=new Label("Header 2");
  p.add(content2,header2);
  assertEquals(3,p.getWidgetCount());
  assertEquals(content0,p.getWidget(0));
  assertEquals(content1,p.getWidget(1));
  assertEquals(content2,p.getWidget(2));
  assertEquals(header0,p.getTabWidget(0));
  assertEquals(header1,p.getTabWidget(1));
  assertEquals(header2,p.getTabWidget(2));
  content1.removeFromParent();
  assertNull(content1.getParent());
  assertNull(header1.getParent());
  assertEquals(2,p.getWidgetCount());
  assertEquals(content0,p.getWidget(0));
  assertEquals(content2,p.getWidget(1));
  assertEquals(header0,p.getTabWidget(0));
  assertEquals(header2,p.getTabWidget(1));
  header2.removeFromParent();
  assertNull(content2.getParent());
  assertNull(header2.getParent());
  assertEquals(1,p.getWidgetCount());
  assertEquals(content0,p.getWidget(0));
  assertEquals(header0,p.getTabWidget(0));
}
