{
  int len=s.length();
  if (len > 16) {
    throw NumberFormatException.forInputString(s);
  }
  long result=0;
  for (int i=0; i < len; ++i) {
    result<<=4;
    result+=hexDigit(s.charAt(i),s);
  }
  return result;
}
