{
  logger=Messages.FINDING_INCLUDED_RESOURCES.branch(logger,zipFile.getName(),null);
  Map<AbstractResource,PathPrefix> results=new IdentityHashMap<AbstractResource,PathPrefix>();
  for (  ZipFileResource r : allZipFileResources) {
    String path=r.getPath();
    String[] pathParts=r.getPathParts();
    PathPrefix prefix=null;
    if ((prefix=pathPrefixSet.includesResource(path,pathParts)) != null) {
      Messages.INCLUDING_RESOURCE.log(logger,path,null);
      results.put(r,prefix);
    }
 else {
      Messages.EXCLUDING_RESOURCE.log(logger,path,null);
    }
  }
  return IdentityMaps.normalize(results);
}
