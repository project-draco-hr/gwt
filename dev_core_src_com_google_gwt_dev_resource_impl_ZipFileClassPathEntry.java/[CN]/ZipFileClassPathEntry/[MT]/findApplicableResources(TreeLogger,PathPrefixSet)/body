{
  if (allZipFileResources == null) {
    allZipFileResources=buildIndex(logger);
  }
  ZipFileSnapshot snapshot=cachedSnapshots.get(pathPrefixSet);
  if (snapshot == null || snapshot.prefixSetSize != pathPrefixSet.getSize()) {
    snapshot=new ZipFileSnapshot(pathPrefixSet.getSize(),computeApplicableResources(logger,pathPrefixSet));
    cachedSnapshots.put(pathPrefixSet,snapshot);
  }
  return snapshot.cachedAnswers;
}
