{
  HttpServletRequest req=RequestFactoryServlet.getThreadLocalRequest();
  if (req == null) {
    return jreTestSingleton;
  }
 else {
    SimpleFoo value=(SimpleFoo)req.getSession().getAttribute(SimpleFoo.class.getCanonicalName());
    if (value == null) {
      value=reset();
    }
    return value;
  }
}
