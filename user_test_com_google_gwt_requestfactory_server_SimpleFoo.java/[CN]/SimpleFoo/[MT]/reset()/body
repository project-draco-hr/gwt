{
  SimpleFoo instance=new SimpleFoo();
  singleton.set(instance);
  HttpServletRequest req=RequestFactoryServlet.getThreadLocalRequest();
  if (req != null) {
    req.getSession().setAttribute(SimpleFoo.class.getCanonicalName(),instance);
  }
  return instance;
}
