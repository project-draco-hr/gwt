{
  MockListViewAdapter<String> adapter=new MockListViewAdapter<String>();
  DefaultNodeInfo<String> nodeInfo=new DefaultNodeInfo<String>(adapter,new TextCell());
  MockHasData<String> view=new MockHasData<String>();
  view.setVisibleRange(0,10);
  view.clearLastRowValuesAndRange();
  nodeInfo.setView(view);
  adapter.assertLastRangeChanged(view);
  adapter.clearLastRangeChanged();
  view.setVisibleRange(0,5);
  adapter.assertLastRangeChanged(view);
  adapter.clearLastRangeChanged();
  nodeInfo.unsetView();
  view.setVisibleRange(0,5);
  adapter.assertLastRangeChanged(null);
}
