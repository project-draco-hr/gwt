{
  units.add(CU_Object);
  units.add(CU_BeforeAssimilate);
  compileAndRefresh();
  assertEquals(2,typeOracle.getTypes().length);
  JClassType before=typeOracle.findType("test.assim.BeforeAssimilate");
  units.add(CU_AfterAssimilate);
  compileAndRefresh();
  assertEquals(3,typeOracle.getTypes().length);
  JClassType after=typeOracle.findType("test.assim.AfterAssimilate");
  assertSame(before,after.getSuperclass());
}
