{
  AbstractDataProvider<String> provider=createDataProvider();
  assertNull(provider.getKeyProvider());
  assertEquals("test",provider.getKey("test"));
  assertEquals(null,provider.getKey(null));
  ProvidesKey<String> keyProvider=new ProvidesKey<String>(){
    public Object getKey(    String item){
      return item == null ? item : item.toUpperCase();
    }
  }
;
  provider.setKeyProvider(keyProvider);
  assertEquals(keyProvider,provider.getKeyProvider());
  assertEquals("TEST",provider.getKey("test"));
  assertEquals(null,provider.getKey(null));
}
