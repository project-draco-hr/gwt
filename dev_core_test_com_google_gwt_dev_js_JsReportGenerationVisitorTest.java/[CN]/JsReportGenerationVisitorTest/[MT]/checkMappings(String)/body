{
  DefaultTextOutput text=new DefaultTextOutput(compact);
  JsReportGenerationVisitor generator=new JsReportGenerationVisitor(text,JavaToJavaScriptMap.EMPTY,false){
    @Override boolean surroundsInJavaSource(    SourceInfo parent,    SourceInfo child){
      return !includeInlinedRanges;
    }
  }
;
  generator.accept(program);
  String outputJs=text.toString();
  assertTrue(outputJs.charAt(0) == '\n');
  String actual=dumpMappings(outputJs,generator.getSourceInfoMap());
  StringBuilder expectedResult=new StringBuilder();
  expectedResult.append("Mappings:\n");
  for (  String line : expectedLines) {
    expectedResult.append(removeNewLines(line));
    expectedResult.append("\n");
  }
  assertEquals(expectedResult.toString(),actual);
}
