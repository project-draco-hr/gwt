{
  logger=logger.branch(TreeLogger.INFO,"Creating Dependencies file for SOYC");
  ControlFlowAnalyzer dependencyAnalyzer=new ControlFlowAnalyzer(jprogram);
  dependencyAnalyzer.setDependencyRecorder(this);
  try {
    OutputStreamWriter writer=new OutputStreamWriter(new GZIPOutputStream(out),"UTF-8");
    StringBuilder localBuilder=new StringBuilder();
    this.builder=localBuilder;
    printPre();
    for (    JMethod method : jprogram.getAllEntryMethods()) {
      dependencyAnalyzer.traverseFrom(method);
      if (localBuilder.length() > 8 * 1024) {
        writer.write(localBuilder.toString());
        localBuilder.setLength(0);
      }
    }
    printPost();
    writer.write(localBuilder.toString());
    Utility.close(writer);
    logger.log(TreeLogger.INFO,"Done");
  }
 catch (  Throwable e) {
    logger.log(TreeLogger.ERROR,"Could not write dependency file.",e);
  }
}
