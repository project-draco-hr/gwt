{
  String relativePath=getRelativePath(directory);
  if (!relativePath.isEmpty() && !getPathPrefixSet().includesDirectory(relativePath)) {
    return;
  }
  if (watchService != null) {
    directory.register(watchService,ENTRY_CREATE,ENTRY_DELETE);
  }
  try (DirectoryStream<Path> stream=Files.newDirectoryStream(directory)){
    for (    Path child : stream) {
      childPathsByParentPath.put(directory,child);
      onNewPath(child);
    }
  }
 }
