{
  List<URL> urlList=new ArrayList<URL>();
  if (!addURL(urlList,userJar)) {
    return false;
  }
  if (pathList != null) {
    for (    String path : pathList) {
      if (!addURL(urlList,path)) {
        return false;
      }
    }
  }
  final URL urlArray[]=urlList.toArray(new URL[urlList.size()]);
  URLClassLoader classLoader=AccessController.doPrivileged(new PrivilegedAction<URLClassLoader>(){
    public URLClassLoader run(){
      return new URLClassLoader(urlArray,CreatorUtilities.class.getClassLoader());
    }
  }
);
  if (moduleList != null) {
    for (    String module : moduleList) {
      String modulePath=module.replace(".","/") + ModuleDefLoader.GWT_MODULE_XML_SUFFIX;
      URL found=classLoader.getResource(modulePath);
      if (found == null) {
        System.err.println("Couldn't find module definition file " + modulePath + " in class path.");
        return false;
      }
    }
  }
  return true;
}
