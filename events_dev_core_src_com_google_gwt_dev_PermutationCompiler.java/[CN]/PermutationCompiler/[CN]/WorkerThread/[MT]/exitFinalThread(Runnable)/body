{
  boolean isFinalThread=threadCount.compareAndSet(1,0);
  assert isFinalThread;
  if (actionOnExit != null) {
    actionOnExit.run();
  }
  throw new ThreadDeath();
}
