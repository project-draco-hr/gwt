{
  setupFruitEnum();
  addSnippetClassDecl("public static String fruitIf(Fruit fruit) {"," if (fruit == Fruit.APPLE) {","   return \"Apple\";"," } else if (fruit == Fruit.ORANGE) {","   return \"Orange\";"," } else {","   return \"Unknown\";"," }","}");
  Result result=optimize("void","String apple = fruitIf(Fruit.APPLE);","String orange = fruitIf(Fruit.ORANGE);");
  EnumOrdinalizer.Tracker tracker=EnumOrdinalizer.getTracker();
  assertTrue(tracker.isOrdinalized("test.EntryPoint$Fruit"));
  assertAllEnumOrdinalizedReferencesReplaced(result.getOptimizedProgram(),tracker);
}
