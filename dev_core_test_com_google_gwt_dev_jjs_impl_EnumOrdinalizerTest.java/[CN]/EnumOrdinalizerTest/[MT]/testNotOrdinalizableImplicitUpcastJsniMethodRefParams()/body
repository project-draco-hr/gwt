{
  setupFruitEnum();
  setupFruitSwitchMethod();
  addSnippetClassDecl("public static native void fruitSwitchViaJsni() /*-{","  var myJso;","  var result = @test.EntryPoint::fruitSwitch(Ltest/EntryPoint$Fruit;)(myJso);","}-*/");
  Result result=optimize("void","fruitSwitchViaJsni();","int ord = Fruit.APPLE.ordinal();");
  EnumOrdinalizer.Tracker tracker=EnumOrdinalizer.getTracker();
  assertTrue(tracker.isVisited("test.EntryPoint$Fruit"));
  assertFalse(tracker.isOrdinalized("test.EntryPoint$Fruit"));
  assertAllEnumOrdinalizedReferencesReplaced(result.getOptimizedProgram(),tracker);
}
