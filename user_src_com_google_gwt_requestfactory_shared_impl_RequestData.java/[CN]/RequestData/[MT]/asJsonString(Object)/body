{
  if (value == null) {
    return null;
  }
  if (value instanceof Iterable<?>) {
    StringBuffer toReturn=new StringBuffer();
    toReturn.append('[');
    boolean first=true;
    for (    Object val : ((Iterable<?>)value)) {
      if (!first) {
        toReturn.append(',');
      }
 else {
        first=false;
      }
      if (val == null) {
        toReturn.append("null");
      }
 else {
        toReturn.append("\"" + asJsonString(val) + "\"");
      }
    }
    toReturn.append(']');
    return toReturn.toString();
  }
  if (value instanceof HasWireFormatId) {
    return ((HasWireFormatId)value).wireFormatId();
  }
  if (value instanceof Date) {
    return asJsonString(((Date)value).getTime());
  }
  if (value instanceof Enum<?>) {
    return asJsonString(((Enum<?>)value).ordinal());
  }
  return value.toString();
}
