{
  JMethod method=x.getTarget();
  if (!mightNeedDevirtualization(method)) {
    return;
  }
  JType instanceType=((JReferenceType)x.getInstance().getType()).getUnderlyingType();
  if (instanceType instanceof JInterfaceType && ((JInterfaceType)instanceType).isJsType()) {
    return;
  }
  if (instanceType != program.getTypeJavaLangObject() && !program.typeOracle.canBeJavaScriptObject(instanceType) && instanceType != program.getTypeJavaLangString() && !(instanceType instanceof JArrayType) && !program.getTypeJavaLangString().getImplements().contains(instanceType) || x.isStaticDispatchOnly() && !program.isJavaScriptObject(method.getEnclosingType())) {
    return;
  }
  ensureDevirtualVersionExists(method);
  JMethod devirtualMethod=devirtualMethodByMethod.get(method);
  ctx.replaceMe(converter.convertCall(x,devirtualMethod));
}
