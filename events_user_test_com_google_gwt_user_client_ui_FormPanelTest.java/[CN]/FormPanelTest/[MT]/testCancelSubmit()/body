{
  TextBox tb=new TextBox();
  tb.setName("q");
  FormPanel form=new FormPanel();
  form.setWidget(tb);
  form.setAction("http://www.google.com/search");
  form.addFormHandler(new FormHandler(){
    public void onSubmit(    FormSubmitEvent event){
      event.setCancelled(true);
    }
    public void onSubmitComplete(    FormSubmitCompleteEvent event){
      fail("Form was cancelled and should not have been submitted");
    }
  }
);
  form.submit();
}
