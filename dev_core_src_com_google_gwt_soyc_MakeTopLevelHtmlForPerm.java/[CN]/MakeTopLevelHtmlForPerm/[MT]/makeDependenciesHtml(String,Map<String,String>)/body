{
  String depGraphDescription=inferDepGraphDescription(depGraphName);
  PrintWriter outFile=null;
  String curPackageName="";
  String curClassName="";
  for (  String method : dependencies.keySet()) {
    String packageName=method;
    packageName=packageName.replaceAll("\\.\\p{Upper}.*","");
    String className=method;
    className=className.replaceAll("::.*","");
    if ((curPackageName.compareTo("") == 0) || (curPackageName.compareTo(packageName) != 0)) {
      curPackageName=packageName;
      if (outFile != null) {
        addStandardHtmlEnding(outFile);
        outFile.close();
      }
      String outFileName=dependenciesFileName(depGraphName,curPackageName);
      outFile=new PrintWriter(getOutFile(outFileName));
      String packageDescription=packageName.length() == 0 ? "the default package" : packageName;
      addStandardHtmlProlog(outFile,"Method Dependencies for " + depGraphDescription,"Method Dependencies for " + depGraphDescription,"Showing Package: " + packageDescription);
    }
    String name=method;
    if (curClassName.compareTo(className) != 0) {
      name=className;
      curClassName=className;
      outFile.println("<a name=\"" + curClassName + "\"><h3 class=\"soyc-class-header\">Class: "+ curClassName+ "</a></h3>");
    }
    outFile.println("<div class='main'>");
    outFile.println("<a class='toggle soyc-call-stack-link' onclick='toggle.call(this)'><span class='calledBy'> Call stack: </span>" + name + "</a>");
    outFile.println("<ul class=\"soyc-call-stack-list\">");
    String depMethod=dependencies.get(method);
    while (depMethod != null) {
      String nextDep=dependencies.get(depMethod);
      if (nextDep != null) {
        outFile.println("<li>" + depMethod + "</li>");
      }
      depMethod=nextDep;
    }
    outFile.println("</ul>");
    outFile.println("</div>");
  }
  addStandardHtmlEnding(outFile);
  outFile.close();
}
