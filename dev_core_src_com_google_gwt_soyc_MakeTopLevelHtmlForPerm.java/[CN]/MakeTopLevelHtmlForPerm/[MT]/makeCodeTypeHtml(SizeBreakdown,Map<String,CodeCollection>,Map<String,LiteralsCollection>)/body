{
  String outFileName=breakdown.getId() + "-" + getPermutationId()+ "-codeTypeBreakdown.html";
  float sumSize=0f;
  TreeMap<Float,String> sortedCodeTypes=new TreeMap<Float,String>(Collections.reverseOrder());
  for (  String codeType : nameToCodeColl.keySet()) {
    float curSize=nameToCodeColl.get(codeType).getCumPartialSize(breakdown);
    sumSize+=curSize;
    if (curSize != 0f) {
      sortedCodeTypes.put(curSize,codeType);
    }
  }
  final PrintWriter outFile=new PrintWriter(getOutFile(outFileName));
  addSmallHtmlProlog(outFile,"Code breakdown");
  outFile.println("<body class=\"soyc-breakdown\">");
  outFile.println("<div class=\"g-doc\">");
  outFile.println("<table class=\"soyc-table\">");
  outFile.println("<colgroup>");
  outFile.println("<col id=\"soyc-splitpoint-type-col\">");
  outFile.println("<col id=\"soyc-splitpoint-size-col\">");
  outFile.println("</colgroup>");
  outFile.println("<thead>");
  outFile.println("<th>Type</th>");
  outFile.println("<th>Size</th>");
  outFile.println("</thead>");
  for (  Float size : sortedCodeTypes.keySet()) {
    String codeType=sortedCodeTypes.get(size);
    String drillDownFileName=breakdown.getId() + "_" + codeType+ "-"+ getPermutationId()+ "Classes.html";
    float perc=(size / sumSize) * 100;
    outFile.println("<tr>");
    outFile.println("<td><a href=\"" + drillDownFileName + "\" target=\"_top\">"+ codeType+ "</a></td>");
    outFile.println("<td>");
    outFile.println("<div class=\"soyc-bar-graph goog-inline-block\">");
    outFile.println("<div style=\"width:" + perc + "%;\" class=\"soyc-bar-graph-fill goog-inline-block\"></div>");
    outFile.println("</div>");
    outFile.println(size + " (" + formatNumber(perc)+ "%)");
    outFile.println("</td>");
    outFile.println("</tr>");
  }
  outFile.println("</table>");
  TreeMap<Float,String> sortedLitTypes=new TreeMap<Float,String>(Collections.reverseOrder());
  float curSize=nameToLitColl.get("string").size;
  sumSize+=curSize;
  if (curSize != 0f) {
    sortedLitTypes.put(curSize,"string");
  }
  for (  Float size : sortedLitTypes.keySet()) {
    String literal=sortedLitTypes.get(size);
    String drillDownFileName=breakdown.getId() + "_" + literal+ "-"+ getPermutationId()+ "Lits.html";
    outFile.println("<p class=\"soyc-breakdown-strings\"><a href=\"" + drillDownFileName + "\" target=\"_top\">Strings</a> occupy "+ size+ " bytes</p>");
  }
  addStandardHtmlEnding(outFile);
  outFile.close();
  return outFileName;
}
