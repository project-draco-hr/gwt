{
  logger=loadModuleLogger;
  try {
    BrowserChannelServer serverChannel=(BrowserChannelServer)channel;
    ModuleSpaceHost msh=host.createModuleSpaceHost(loadModuleLogger,moduleName,userAgent,url,tabKey,sessionKey,channel.getRemoteEndpoint());
    logger=msh.getLogger();
    ModuleSpace moduleSpace=new ModuleSpaceOOPHM(msh,moduleName,serverChannel);
    moduleMap.put(serverChannel,moduleSpace);
    moduleSpace.onLoad(loadModuleLogger);
  }
 catch (  Throwable e) {
    this.logger.log(TreeLogger.ERROR,"Failed to load module '" + moduleName + "' from user agent '"+ userAgent+ "' at "+ channel.getRemoteEndpoint(),e);
  }
  return this.logger;
}
