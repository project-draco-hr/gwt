{
  if (suggestions.size() > 0) {
    boolean isAnimationEnabled=suggestionPopup.isAnimationEnabled();
    if (suggestionPopup.isAttached()) {
      suggestionPopup.hide();
    }
    suggestionMenu.clearItems();
    for (    Suggestion curSuggestion : suggestions) {
      final SuggestionMenuItem menuItem=new SuggestionMenuItem(curSuggestion,oracle.isDisplayStringHTML());
      menuItem.setCommand(new Command(){
        public void execute(){
          SuggestBox.this.setNewSelection(menuItem);
        }
      }
);
      suggestionMenu.addItem(menuItem);
    }
    if (selectsFirstItem) {
      suggestionMenu.selectItem(0);
    }
    suggestionPopup.showRelativeTo(getTextBox());
    suggestionPopup.setAnimationEnabled(isAnimationEnabled);
  }
 else {
    suggestionPopup.hide();
  }
}
