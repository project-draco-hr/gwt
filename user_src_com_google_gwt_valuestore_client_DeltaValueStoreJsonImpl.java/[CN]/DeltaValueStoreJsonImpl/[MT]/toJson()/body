{
  used=true;
  if (operations.size() > 1) {
    throw new UnsupportedOperationException("Currently, only one entity can be saved/persisted at a time");
  }
  StringBuffer jsonData=new StringBuffer("{");
  for (  WriteOperation writeOperation : WriteOperation.values()) {
    String jsonDataForOperation=getJsonForOperation(writeOperation);
    if (jsonDataForOperation.equals("")) {
      continue;
    }
    if (jsonData.length() > 1) {
      jsonData.append(",");
    }
    jsonData.append(jsonDataForOperation);
  }
  jsonData.append("}");
  return jsonData.toString();
}
