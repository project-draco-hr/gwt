{
  if (!path.startsWith(prefix)) {
    return false;
  }
  if (filter == null) {
    return true;
  }
  if (shouldReroot) {
    path=getRerootedPath(path);
  }
  return filter.allows(path);
}
