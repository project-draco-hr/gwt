{
  final Map<K,V> map;
  try {
    map=makeEitherMap();
  }
 catch (  UnsupportedOperationException e) {
    return;
  }
  Set<Entry<K,V>> entrySet=map.entrySet();
  final Entry<K,V> entryToAdd=mapEntry(null,null);
  try {
    entrySet.add(entryToAdd);
    fail("Expected UnsupportedOperationException.");
  }
 catch (  UnsupportedOperationException expected) {
  }
  assertInvariants(map);
  try {
    entrySet.addAll(singleton(entryToAdd));
    fail("Expected UnsupportedOperationException.");
  }
 catch (  UnsupportedOperationException expected) {
  }
  assertInvariants(map);
}
