{
  final boolean relationsPresent=true;
  delayTestFinish(5000);
  req.simpleFooRequest().findSimpleFooById(999L).with("barField").fire(new Receiver<SimpleFooProxy>(){
    @Override public void onSuccess(    SimpleFooProxy response,    Set<SyncResult> syncResult){
      checkReturnedProxy(response,relationsPresent);
      final EntityProxyId stableId=response.stableId();
      req.find(stableId).with("barField").fire(new Receiver<EntityProxy>(){
        @Override public void onSuccess(        EntityProxy returnedProxy,        Set<SyncResult> syncResults){
          assertEquals(stableId,returnedProxy.stableId());
          checkReturnedProxy((SimpleFooProxy)returnedProxy,relationsPresent);
          finishTestAndReset();
        }
      }
);
    }
  }
);
}
