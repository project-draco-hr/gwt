{
  super(false,true);
  setGlassEnabled(true);
  setWidget(layout);
  layout.setHTML(0,0,"<b>Ticker:</b>");
  layout.setHTML(1,0,"<b>Name:</b>");
  layout.setHTML(2,0,"<b>Price:</b>");
  layout.setHTML(3,0,"<b>Quantity:</b>");
  layout.setWidget(3,1,quantityBox);
  layout.setHTML(4,0,"<b>Total:</b>");
  layout.setHTML(5,0,"<b>Available:</b>");
  quantityBox.addKeyUpHandler(new KeyUpHandler(){
    public void onKeyUp(    KeyUpEvent event){
      try {
        int quantity=Integer.parseInt(quantityBox.getText());
        double totalPrice=quantity * quote.getPrice() / 100.0;
        layout.setText(4,1,NumberFormat.getCurrencyFormat("USD").format(totalPrice));
      }
 catch (      NumberFormatException e) {
        layout.setText(4,1,"Invalid quantity");
      }
    }
  }
);
  opButton=new Button("",new ClickHandler(){
    public void onClick(    ClickEvent event){
      try {
        int quantity=Integer.parseInt(quantityBox.getText());
        transaction=new Transaction(isBuying,quote.getTicker(),quantity);
        hide();
      }
 catch (      NumberFormatException e) {
        Window.alert("You must enter a valid quantity");
      }
    }
  }
);
  layout.setWidget(6,0,opButton);
  Button cancelButton=new Button("Cancel",new ClickHandler(){
    public void onClick(    ClickEvent event){
      hide();
    }
  }
);
  layout.setWidget(6,1,cancelButton);
}
