{
  String joinedE="";
  for (int i=0; i < expected.length; ++i) {
    if (i > 0) {
      joinedE+="\n";
    }
    joinedE+=expected[i];
  }
  JBlock block=((JMethodBody)findMainMethod(program).getBody()).getBlock();
  String actual=block.toSource();
  assertTrue(actual.startsWith("{\n"));
  assertTrue(actual.endsWith("\n}"));
  actual=actual.substring(2,actual.length() - 2).trim();
  actual=actual.replaceAll("\\n  ","\n");
  assertEquals(joinedE,actual);
}
