{
  JPrimitiveType argPrimType=argType.isPrimitive();
  if (argPrimType == null || argPrimType == JPrimitiveType.BOOLEAN || argPrimType == JPrimitiveType.VOID) {
    return "Illegal argument type for number format";
  }
  if (subformat == null) {
    out.appendExpression(numFormatClassName + ".getDecimalFormat().format(" + argName+ ")",true);
  }
 else   if ("integer".equals(subformat)) {
    out.appendExpression(numFormatClassName + ".getIntegerFormat().format(" + argName+ ")",true);
  }
 else   if ("currency".equals(subformat)) {
    out.appendExpression(numFormatClassName + ".getCurrencyFormat().format(" + argName+ ")",true);
  }
 else   if ("percent".equals(subformat)) {
    out.appendExpression(numFormatClassName + ".getPercentFormat().format(" + argName+ ")",true);
  }
 else {
    out.appendExpression(numFormatClassName + ".getFormat(" + wrap(subformat)+ ").format("+ argName+ ")",true);
  }
  return null;
}
