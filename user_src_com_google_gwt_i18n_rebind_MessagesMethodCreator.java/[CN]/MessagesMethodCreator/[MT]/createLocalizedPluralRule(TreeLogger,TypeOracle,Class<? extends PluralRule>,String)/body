{
  if (locale.length() == 0) {
    locale=ResourceFactory.DEFAULT_TOKEN;
  }
  String baseName=ruleClass.getCanonicalName();
  JClassType ruleJClassType=oracle.findType(baseName);
  Map<String,JClassType> matchingClasses=LocalizableLinkageCreator.findDerivedClasses(logger,ruleJClassType);
  while (true) {
    JClassType localizedType=matchingClasses.get(locale);
    if (localizedType != null) {
      try {
        Class<?> testClass=Class.forName(localizedType.getQualifiedSourceName());
        if (PluralRule.class.isAssignableFrom(testClass)) {
          return (PluralRule)testClass.newInstance();
        }
      }
 catch (      ClassCastException e) {
      }
catch (      ClassNotFoundException e) {
      }
catch (      InstantiationException e) {
      }
catch (      IllegalAccessException e) {
      }
    }
    if (locale.equals(ResourceFactory.DEFAULT_TOKEN)) {
      return new DefaultRule();
    }
    locale=ResourceFactory.getParentLocaleName(locale);
  }
}
