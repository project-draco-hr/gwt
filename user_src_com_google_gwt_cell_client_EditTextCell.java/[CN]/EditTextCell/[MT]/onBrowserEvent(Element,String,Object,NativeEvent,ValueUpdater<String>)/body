{
  ViewData viewData=getViewData(key);
  if (viewData != null && viewData.isEditing()) {
    editEvent(parent,key,viewData,event,valueUpdater);
  }
 else   if ("click".equals(event.getType())) {
    if (viewData == null) {
      viewData=new ViewData(value);
      setViewData(key,viewData);
    }
 else {
      viewData.setEditing(true);
    }
    edit(parent,value,key);
  }
}
