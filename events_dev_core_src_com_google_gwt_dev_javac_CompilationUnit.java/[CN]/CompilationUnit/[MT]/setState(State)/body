{
  assert(newState != State.COMPILED);
  if (state == newState) {
    return;
  }
  state=newState;
  dumpSource();
switch (newState) {
case CHECKED:
    assert(cud != null);
  getFileNameRefs();
for (CompiledClass compiledClass : getCompiledClasses()) {
  compiledClass.checked();
}
cud=null;
break;
case ERROR:
this.errors=cud.compilationResult().getErrors();
invalidate();
break;
case FRESH:
this.errors=null;
invalidate();
break;
}
}
