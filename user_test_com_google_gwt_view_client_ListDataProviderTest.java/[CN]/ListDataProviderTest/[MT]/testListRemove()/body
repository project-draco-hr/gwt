{
  ListDataProvider<String> provider=createListDataProvider(10);
  List<String> list=provider.getList();
  MockHasData<String> display=new MockHasData<String>();
  display.setVisibleRange(0,15);
  provider.addDataDisplay(display);
  provider.flush();
  display.clearLastRowDataAndRange();
  assertEquals("test 4",list.remove(4));
  assertEquals("test 5",list.get(4));
  provider.flush();
  assertEquals(new Range(4,5),display.getLastRowDataRange());
  assertTrue(list.remove("test 2"));
  assertEquals("test 3",list.get(2));
  provider.flush();
  assertEquals(new Range(2,6),display.getLastRowDataRange());
  assertFalse(list.remove("not in list"));
}
