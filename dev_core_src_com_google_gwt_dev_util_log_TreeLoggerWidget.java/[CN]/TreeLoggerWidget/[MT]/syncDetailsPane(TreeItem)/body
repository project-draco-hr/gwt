{
  TreeItemLogger.LogEvent logEvent=null;
  Object testLogEvent=item.getData();
  if (testLogEvent instanceof TreeItemLogger.LogEvent)   logEvent=(LogEvent)testLogEvent;
  StringBuffer sb=new StringBuffer();
  if (logEvent != null && logEvent.type != null) {
    sb.append("[");
    sb.append(logEvent.type.getLabel());
    sb.append("] ");
  }
  sb.append(item.getText());
  sb.append("\n");
  if (logEvent != null && logEvent.caught != null) {
    if (!(logEvent.caught instanceof UnableToCompleteException)) {
      String stackTrace=AbstractTreeLogger.getStackTraceAsString(logEvent.caught);
      sb.append(stackTrace);
    }
  }
  fDetails.setText(sb.toString());
}
