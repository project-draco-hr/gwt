{
  RemoteObjectTable<MockRemoteObjectRef> table=new RemoteObjectTable<MockRemoteObjectRef>();
  MockRemoteObjectRef ref=new MockRemoteObjectRef(1);
  table.putRemoteObjectRef(1,ref);
  Set<Integer> freed=table.getRefIdsForCleanup();
  ensureGC();
  assertEquals(0,freed.size());
  ref=null;
  ensureGC();
  freed=table.getRefIdsForCleanup();
  assertEquals(1,freed.size());
}
