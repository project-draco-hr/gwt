{
  if (requestEvent.getState() == State.RECEIVED) {
    Response response=requestEvent.getResponse();
    if (response == null) {
      return;
    }
    if (Response.SC_UNAUTHORIZED == response.getStatusCode()) {
      String loginUrl=response.getHeader("login");
      Location.replace(loginUrl);
    }
    String newUser=response.getHeader("userId");
    if (lastSeenUser == null) {
      lastSeenUser=newUser;
    }
 else     if (!lastSeenUser.equals(newUser)) {
      Location.reload();
    }
  }
}
