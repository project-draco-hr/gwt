{
  AbstractListViewAdapter<String> adapter=createListViewAdapter();
  assertNull(adapter.getKeyProvider());
  assertEquals("test",adapter.getKey("test"));
  assertEquals(null,adapter.getKey(null));
  ProvidesKey<String> keyProvider=new ProvidesKey<String>(){
    public Object getKey(    String item){
      return item == null ? item : item.toUpperCase();
    }
  }
;
  adapter.setKeyProvider(keyProvider);
  assertEquals(keyProvider,adapter.getKeyProvider());
  assertEquals("TEST",adapter.getKey("test"));
  assertEquals(null,adapter.getKey(null));
}
