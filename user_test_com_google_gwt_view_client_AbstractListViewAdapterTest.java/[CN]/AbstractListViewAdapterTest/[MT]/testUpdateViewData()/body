{
  AbstractListViewAdapter<String> adapter=createListViewAdapter();
  MockHasData<String> view=new MockHasData<String>();
  view.setVisibleRange(10,5);
  adapter.addView(view);
{
    List<String> values=createData(10,5);
    adapter.updateViewData(10,5,values);
    assertEquals(values,view.getLastRowValues());
    assertEquals(new Range(10,5),view.getLastRowValuesRange());
    view.clearLastRowValuesAndRange();
  }
{
    List<String> values=createData(12,2);
    adapter.updateViewData(12,2,values);
    assertEquals(values,view.getLastRowValues());
    assertEquals(new Range(12,2),view.getLastRowValuesRange());
    view.clearLastRowValuesAndRange();
  }
{
    List<String> values=createData(10,0);
    adapter.updateViewData(10,0,values);
    assertEquals(values,view.getLastRowValues());
    assertEquals(new Range(10,0),view.getLastRowValuesRange());
    view.clearLastRowValuesAndRange();
  }
{
    List<String> values=createData(5,5);
    adapter.updateViewData(5,5,values);
    assertNull(view.getLastRowValues());
    assertNull(view.getLastRowValuesRange());
    view.clearLastRowValuesAndRange();
  }
{
    List<String> values=createData(15,5);
    adapter.updateViewData(15,5,values);
    assertNull(view.getLastRowValues());
    assertNull(view.getLastRowValuesRange());
    view.clearLastRowValuesAndRange();
  }
{
    List<String> values=createData(5,15);
    adapter.updateViewData(5,15,values);
    assertEquals(values.subList(5,10),view.getLastRowValues());
    assertEquals(new Range(10,5),view.getLastRowValuesRange());
    view.clearLastRowValuesAndRange();
  }
{
    List<String> values=createData(5,7);
    adapter.updateViewData(5,7,values);
    assertEquals(values.subList(5,7),view.getLastRowValues());
    assertEquals(new Range(10,2),view.getLastRowValuesRange());
    view.clearLastRowValuesAndRange();
  }
{
    List<String> values=createData(13,5);
    adapter.updateViewData(13,5,values);
    assertEquals(values.subList(0,2),view.getLastRowValues());
    assertEquals(new Range(13,2),view.getLastRowValuesRange());
    view.clearLastRowValuesAndRange();
  }
}
