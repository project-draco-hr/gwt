{
  TabPanel p=createTabPanel();
  RootPanel.get().add(p);
  p.add(new Button("foo"),"foo");
  p.add(new Button("bar"),"bar");
  this.delayTestFinish(1000);
  p.addTabListener(new TabListener(){
    private boolean onBeforeFired;
    public boolean onBeforeTabSelected(    SourcesTabEvents sender,    int tabIndex){
      onBeforeFired=true;
      return true;
    }
    public void onTabSelected(    SourcesTabEvents sender,    int tabIndex){
      assertTrue(onBeforeFired);
      finishTest();
    }
  }
);
  p.selectTab(1);
}
