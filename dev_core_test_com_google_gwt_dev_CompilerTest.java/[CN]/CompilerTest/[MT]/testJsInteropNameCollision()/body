{
  MinimalRebuildCache minimalRebuildCache=new MinimalRebuildCache();
  File applicationDir=Files.createTempDir();
  CompilerOptions compilerOptions=new CompilerOptionsImpl();
  compilerOptions.setJsInteropMode(OptionJsInteropMode.Mode.JS);
  compileToJs(compilerOptions,applicationDir,"com.foo.SimpleModule",Lists.newArrayList(simpleModuleResource,dialogEntryPointResource,simpleDialogResourceWithExport,complexDialogResourceSansExport),minimalRebuildCache,emptySet,JsOutputOption.PRETTY);
  try {
    compileToJs(compilerOptions,applicationDir,"com.foo.SimpleModule",Lists.<MockResource>newArrayList(complexDialogResourceWithExport),minimalRebuildCache,emptySet,JsOutputOption.PRETTY);
    fail("Compile should have failed");
  }
 catch (  UnableToCompleteException e) {
  }
  compileToJs(compilerOptions,applicationDir,"com.foo.SimpleModule",Lists.<MockResource>newArrayList(complexDialogResourceSansExport),minimalRebuildCache,stringSet("com.foo.SimpleDialog","com.foo.ComplexDialog","com.foo.TestEntryPoint"),JsOutputOption.PRETTY);
}
