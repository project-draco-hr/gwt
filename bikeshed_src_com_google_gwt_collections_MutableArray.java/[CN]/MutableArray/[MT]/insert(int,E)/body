{
  Assertions.assertIndexInRange(index,0,size() + 1);
  if (elems != null) {
    int oldLen=elems.length;
    E[] newElems=(E[])new Object[oldLen + 1];
    System.arraycopy(elems,0,newElems,0,index);
    System.arraycopy(elems,index,newElems,index + 1,oldLen - index);
    newElems[index]=elem;
    elems=newElems;
  }
 else {
    elems=(E[])(new Object[]{elem});
  }
}
