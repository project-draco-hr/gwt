{
  this.fields=Binding.NO_FIELDS;
  if (iFields != null) {
    int size=iFields.length;
    if (size > 0) {
      this.fields=new FieldBinding[size];
      boolean use15specifics=sourceLevel >= ClassFileConstants.JDK1_5;
      boolean isViewedAsDeprecated=isViewedAsDeprecated();
      boolean hasRestrictedAccess=hasRestrictedAccess();
      int firstAnnotatedFieldIndex=-1;
      for (int i=0; i < size; i++) {
        IBinaryField binaryField=iFields[i];
        char[] fieldSignature=use15specifics ? binaryField.getGenericSignature() : null;
        TypeBinding type=fieldSignature == null ? environment.getTypeFromSignature(binaryField.getTypeName(),0,-1,false,this,missingTypeNames) : environment.getTypeFromTypeSignature(new SignatureWrapper(fieldSignature),Binding.NO_TYPE_VARIABLES,this,missingTypeNames);
        FieldBinding field=new FieldBinding(binaryField.getName(),type,binaryField.getModifiers() | ExtraCompilerModifiers.AccUnresolved,this,binaryField.getConstant());
        if (firstAnnotatedFieldIndex < 0 && this.environment.globalOptions.storeAnnotations && binaryField.getAnnotations() != null) {
          firstAnnotatedFieldIndex=i;
        }
        field.id=i;
        if (use15specifics)         field.tagBits|=binaryField.getTagBits();
        if (isViewedAsDeprecated && !field.isDeprecated())         field.modifiers|=ExtraCompilerModifiers.AccDeprecatedImplicitly;
        if (hasRestrictedAccess)         field.modifiers|=ExtraCompilerModifiers.AccRestrictedAccess;
        if (fieldSignature != null)         field.modifiers|=ExtraCompilerModifiers.AccGenericSignature;
        this.fields[i]=field;
      }
      if (firstAnnotatedFieldIndex >= 0) {
        for (int i=firstAnnotatedFieldIndex; i < size; i++) {
          IBinaryField binaryField=iFields[i];
          this.fields[i].setAnnotations(createAnnotations(binaryField.getAnnotations(),this.environment,missingTypeNames));
        }
      }
    }
  }
}
