{
  String installPath=Utility.getInstallPath();
  try {
    installPath=new File(installPath).getCanonicalPath();
  }
 catch (  IOException e) {
  }
  try {
    BufferedReader reader=new BufferedReader(new FileReader(installPath + "/" + CONFIG_FILENAME));
    try {
      String mozillaDir;
      while ((mozillaDir=reader.readLine()) != null) {
        if (mozillaDir.startsWith("#") || mozillaDir.matches("^\\s*$")) {
          continue;
        }
        if (!mozillaDir.startsWith("/")) {
          mozillaDir=installPath + "/" + mozillaDir;
        }
        MozillaInstall mozInstall=new MozillaInstall(mozillaDir);
        if (mozInstall.isAcceptable()) {
          return mozInstall;
        }
      }
    }
  finally {
      reader.close();
    }
  }
 catch (  FileNotFoundException e) {
  }
catch (  IOException e) {
  }
  return null;
}
