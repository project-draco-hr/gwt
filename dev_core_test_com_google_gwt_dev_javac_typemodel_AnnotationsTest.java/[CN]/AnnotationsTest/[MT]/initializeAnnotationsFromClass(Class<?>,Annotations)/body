{
  Annotation[] jAnnotations=annotatedClass.getDeclaredAnnotations();
  Map<Class<? extends Annotation>,Annotation> map=new IdentityHashMap<Class<? extends Annotation>,Annotation>();
  for (  Annotation annotation : jAnnotations) {
    map.put(annotation.annotationType(),annotation);
  }
  Annotations annotations=new Annotations(map);
  if (parent != null) {
    annotations.setParent(parent);
  }
  return annotations;
}
