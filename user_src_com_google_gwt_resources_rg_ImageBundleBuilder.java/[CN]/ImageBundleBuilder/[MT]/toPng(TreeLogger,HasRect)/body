{
  BufferedImage bundledImage=new BufferedImage(rect.getWidth(),rect.getHeight(),BufferedImage.TYPE_INT_ARGB_PRE);
  Graphics2D g2d=bundledImage.createGraphics();
  g2d.drawImage(rect.getImage(),rect.transform(),null);
  g2d.dispose();
  byte[] imageBytes;
  try {
    ByteArrayOutputStream byteOutputStream=new ByteArrayOutputStream();
    ImageIO.write(bundledImage,BUNDLE_FILE_TYPE,byteOutputStream);
    imageBytes=byteOutputStream.toByteArray();
  }
 catch (  IOException e) {
    logger.log(TreeLogger.ERROR,"Unable to generate file name for image bundle file",null);
    throw new UnableToCompleteException();
  }
  return imageBytes;
}
