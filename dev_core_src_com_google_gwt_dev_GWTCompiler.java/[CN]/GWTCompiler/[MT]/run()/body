{
  BootStrapPlatform.applyPlatformHacks();
  if (options.isUseGuiLogger()) {
    DetachedTreeLoggerWindow loggerWindow=DetachedTreeLoggerWindow.getInstance("Build Output for " + options.getModuleName(),800,600,true);
    BootStrapPlatform.maybeInitializeAWT();
    final AbstractTreeLogger logger=loggerWindow.getLogger();
    final boolean[] success=new boolean[1];
    Thread compilerThread=new Thread(new Runnable(){
      public void run(){
        success[0]=GWTCompiler.this.run(logger);
      }
    }
);
    compilerThread.setName("GWTCompiler Thread");
    compilerThread.start();
    loggerWindow.run();
    waitForThreadToTerminate(compilerThread);
    return success[0];
  }
 else {
    return run(new PrintWriterTreeLogger());
  }
}
