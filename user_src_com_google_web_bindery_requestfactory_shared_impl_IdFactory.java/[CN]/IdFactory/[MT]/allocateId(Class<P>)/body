{
  SimpleProxyId<P> toReturn=createId(clazz,ephemeralIds.size() + 1);
  ephemeralIds.put(getHistoryToken(toReturn),toReturn);
  return toReturn;
}
