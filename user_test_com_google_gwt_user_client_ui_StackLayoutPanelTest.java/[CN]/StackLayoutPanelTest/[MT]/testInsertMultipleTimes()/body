{
  StackLayoutPanel p=new StackLayoutPanel(Unit.EM);
  TextBox tb=new TextBox();
  p.add(tb,"Title",1);
  p.add(tb,"Title",1);
  p.add(tb,"Title3",1);
  assertEquals(1,p.getWidgetCount());
  assertEquals(0,p.getWidgetIndex(tb));
  Iterator<Widget> i=p.iterator();
  assertTrue(i.hasNext());
  assertTrue(tb.equals(i.next()));
  assertFalse(i.hasNext());
  Label l=new Label();
  p.add(l,"Title",1);
  p.add(l,"Title",1);
  p.add(l,"Title3",1);
  assertEquals(2,p.getWidgetCount());
  assertEquals(0,p.getWidgetIndex(tb));
  assertEquals(1,p.getWidgetIndex(l));
  p.insert(l,"Title",1,0);
  assertEquals(2,p.getWidgetCount());
  assertEquals(0,p.getWidgetIndex(l));
  assertEquals(1,p.getWidgetIndex(tb));
  p.insert(l,"Title",1,1);
  assertEquals(2,p.getWidgetCount());
  assertEquals(0,p.getWidgetIndex(l));
  assertEquals(1,p.getWidgetIndex(tb));
  p.insert(l,"Title",1,2);
  assertEquals(2,p.getWidgetCount());
  assertEquals(0,p.getWidgetIndex(tb));
  assertEquals(1,p.getWidgetIndex(l));
}
