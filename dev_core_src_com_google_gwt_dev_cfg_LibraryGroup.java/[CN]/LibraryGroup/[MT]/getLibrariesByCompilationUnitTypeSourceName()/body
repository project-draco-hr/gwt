{
  if (librariesByCompilationUnitTypeSourceName == null) {
    librariesByCompilationUnitTypeSourceName=Maps.newLinkedHashMap();
    for (    Library library : libraries) {
      for (      String compilationUnitTypeSourceName : library.getRegularCompilationUnitTypeSourceNames()) {
        librariesByCompilationUnitTypeSourceName.put(compilationUnitTypeSourceName,library);
      }
    }
    for (    Library library : libraries) {
      for (      String superSourceCompilationUnitTypeSourceName : library.getSuperSourceCompilationUnitTypeSourceNames()) {
        librariesByCompilationUnitTypeSourceName.put(superSourceCompilationUnitTypeSourceName,library);
      }
    }
    librariesByCompilationUnitTypeSourceName=Collections.unmodifiableMap(librariesByCompilationUnitTypeSourceName);
  }
  return librariesByCompilationUnitTypeSourceName;
}
