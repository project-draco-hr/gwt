{
  if (librariesByClassFilePath == null) {
    librariesByClassFilePath=Maps.newLinkedHashMap();
    for (    Library library : libraries) {
      Set<String> classFilePaths=library.getRegularClassFilePaths();
      for (      String classFilePath : classFilePaths) {
        librariesByClassFilePath.put(classFilePath,library);
      }
    }
    for (    Library library : libraries) {
      Set<String> superSourceClassFilePaths=library.getSuperSourceClassFilePaths();
      for (      String superSourceClassFilePath : superSourceClassFilePaths) {
        librariesByClassFilePath.put(superSourceClassFilePath,library);
      }
    }
    librariesByClassFilePath=Collections.unmodifiableMap(librariesByClassFilePath);
  }
  return librariesByClassFilePath;
}
