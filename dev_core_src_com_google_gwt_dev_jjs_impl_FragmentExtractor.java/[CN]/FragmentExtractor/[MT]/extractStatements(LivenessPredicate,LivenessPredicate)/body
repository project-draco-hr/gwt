{
  List<JsStatement> extractedStats=new ArrayList<JsStatement>();
  JReferenceType currentVtableType=null;
  for (int frag=0; frag < jsprogram.getFragmentCount(); frag++) {
    List<JsStatement> stats=jsprogram.getFragmentBlock(frag).getStatements();
    for (    JsStatement stat : stats) {
      if (isEntryCall(stat)) {
        continue;
      }
      boolean keepIt;
      if (containsRemovableVars(stat)) {
        stat=removeSomeVars((JsVars)stat,livenessPredicate,alreadyLoadedPredicate);
        keepIt=!(stat instanceof JsEmpty);
      }
 else {
        keepIt=isLive(stat,livenessPredicate) && !isLive(stat,alreadyLoadedPredicate);
      }
      statementLogger.logStatement(stat,keepIt);
      if (keepIt) {
        if (vtableTypeAssigned(stat) != null) {
          currentVtableType=vtableTypeAssigned(stat);
        }
        JReferenceType vtableType=vtableTypeNeeded(stat);
        if (vtableType != null && vtableType != currentVtableType) {
          extractedStats.add(vtableStatFor(vtableType));
          currentVtableType=vtableType;
        }
        extractedStats.add(stat);
      }
    }
  }
  return extractedStats;
}
