{
  for (Iterator<CompilationUnit> it=unitMap.values().iterator(); it.hasNext(); ) {
    CompilationUnit unit=it.next();
    unit.setFresh();
    if (unit.isGenerated()) {
      it.remove();
    }
  }
  unitMap.clear();
  updateExposedUnits();
  jdtCompiler=null;
  mediator=new TypeOracleMediator();
  sourceOracle.clear();
  invalidatorState=new CompilationUnitInvalidator.InvalidatorState();
}
