{
  Event generatedUnitsAddEvent=SpeedTracerLogger.start(DevModeEventType.COMP_STATE_ADD_GENERATED_UNITS);
  try {
    logger=logger.branch(TreeLogger.DEBUG,"Adding '" + generatedUnits.size() + "' new generated units");
    generatedUnitsAddEvent.addData("# new generated units","" + generatedUnits.size());
    Collection<CompilationUnit> newUnits=compileMoreLater.addGeneratedTypes(logger,generatedUnits);
    assimilateUnits(logger,newUnits,true);
  }
  finally {
    generatedUnitsAddEvent.end();
  }
}
