{
  sourceOracle.addOrReplace(new MockJavaResource("com.google.gwt.lang.Array"){
    @Override protected CharSequence getContent(){
      StringBuffer code=new StringBuffer();
      code.append("package com.google.gwt.lang;\n");
      code.append("public class Array {\n");
      code.append("  private Class type;\n");
      code.append("  public Class getClass() { return type; }\n");
      code.append("}\n");
      return code;
    }
  }
);
  JProgram program=compileSnippet("void","");
  ControlFlowAnalyzer cfa=CodeSplitter.computeInitiallyLive(program);
  assertTrue(cfa.getInstantiatedTypes().contains(findType(program,"com.google.gwt.lang.Array")));
  assertTrue(cfa.getLiveFieldsAndMethods().contains(findMethod(findType(program,"com.google.gwt.lang.Array"),"getClass")));
}
