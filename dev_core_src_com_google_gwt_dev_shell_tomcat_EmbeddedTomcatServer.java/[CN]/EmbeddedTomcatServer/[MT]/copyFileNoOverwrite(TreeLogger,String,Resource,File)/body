{
  File dest=new File(catBase,srcResName);
  try {
    long srcLastModified=srcRes.getLastModified();
    long dstLastModified=dest.lastModified();
    if (srcLastModified < dstLastModified) {
      if (logger.isLoggable(TreeLogger.SPAM)) {
        logger.log(TreeLogger.SPAM,"Source is older than existing: " + dest.getAbsolutePath(),null);
      }
      return;
    }
 else     if (srcLastModified == dstLastModified) {
      return;
    }
 else     if (dest.exists()) {
      logger.log(TreeLogger.WARN,"Overwriting existing file '" + dest.getAbsolutePath() + "' with '"+ srcRes.getLocation()+ "', which has a newer timestamp");
    }
    File destParent=dest.getParentFile();
    if (destParent != null) {
      destParent.mkdirs();
    }
    Util.copy(srcRes.openContents(),new FileOutputStream(dest));
    dest.setLastModified(srcLastModified);
    if (logger.isLoggable(TreeLogger.TRACE)) {
      logger.log(TreeLogger.TRACE,"Wrote: " + dest.getAbsolutePath(),null);
    }
  }
 catch (  IOException e) {
    logger.log(TreeLogger.WARN,"Failed to write: " + dest.getAbsolutePath(),e);
  }
}
