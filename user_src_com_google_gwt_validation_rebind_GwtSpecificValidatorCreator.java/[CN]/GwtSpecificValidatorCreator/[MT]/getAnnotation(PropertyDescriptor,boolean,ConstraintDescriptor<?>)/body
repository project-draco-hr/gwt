{
  Class<? extends Annotation> expectedAnnotaionClass=((Annotation)constraint.getAnnotation()).annotationType();
  Annotation annotation=null;
  if (useField) {
    JField field=beanType.findField(p.getPropertyName());
    if (field.getEnclosingType().equals(beanType)) {
      annotation=field.getAnnotation(expectedAnnotaionClass);
    }
  }
 else {
    JMethod method=beanType.findMethod(asGetter(p),NO_ARGS);
    if (method.getEnclosingType().equals(beanType)) {
      annotation=method.getAnnotation(expectedAnnotaionClass);
    }
  }
  return annotation;
}
