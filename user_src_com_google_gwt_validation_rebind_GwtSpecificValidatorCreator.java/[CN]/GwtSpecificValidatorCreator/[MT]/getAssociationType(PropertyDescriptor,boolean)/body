{
  JType type=getElementType(p,useField);
  JArrayType jArray=type.isArray();
  if (jArray != null) {
    return jArray.getComponentType();
  }
  JParameterizedType pType=type.isParameterized();
  JClassType[] typeArgs=pType.getTypeArgs();
  return typeArgs[typeArgs.length - 1];
}
