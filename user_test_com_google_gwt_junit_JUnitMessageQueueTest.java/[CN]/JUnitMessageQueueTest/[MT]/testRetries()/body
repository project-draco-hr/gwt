{
  JUnitMessageQueue queue=createQueue(TWO_CLIENTS,ONE_BLOCK,ONE_TEST_PER_BLOCK);
  TestInfo testInfo=queue.getTestBlocks().get(0)[0];
  Map<TestInfo,JUnitResult> results=new HashMap<TestInfo,JUnitResult>();
  JUnitResult junitResult=new JUnitResult();
  junitResult.setException(new AssertionError());
  results.put(testInfo,junitResult);
  queue.reportResults("client0","ff3",results);
  assertTrue(queue.needsRerunning(testInfo));
  assertTrue(queue.getResults(testInfo).get("client0").getException() != null);
  queue.removeResults(testInfo);
  queue.reportResults("client0","ff3",createTestResults(ONE_TEST_PER_BLOCK));
  queue.reportResults("client1","ie6",createTestResults(ONE_TEST_PER_BLOCK));
  assertFalse(queue.needsRerunning(testInfo));
  assertTrue(queue.getResults(testInfo).get("client0").getException() == null);
}
