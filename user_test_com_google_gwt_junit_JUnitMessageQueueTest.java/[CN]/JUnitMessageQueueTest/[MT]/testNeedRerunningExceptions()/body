{
  JUnitMessageQueue queue=createQueue(TWO_CLIENTS,ONE_BLOCK,ONE_TEST_PER_BLOCK);
  TestInfo testInfo=queue.getTestBlocks().get(0)[0];
  Map<TestInfo,JUnitResult> results=new HashMap<TestInfo,JUnitResult>();
  JUnitResult junitResult=new JUnitResult();
  junitResult.setException(new UnableToCompleteException());
  results.put(testInfo,junitResult);
  queue.reportResults("client0","desc0","ie6",results);
  results=new HashMap<TestInfo,JUnitResult>();
  junitResult=new JUnitResult();
  junitResult.setException(new JUnitFatalLaunchException());
  results.put(testInfo,junitResult);
  queue.reportResults("client1","desc1","ff3",createTestResults(ONE_TEST_PER_BLOCK));
  assertTrue(queue.needsRerunning(testInfo));
  queue.removeResults(testInfo);
  results=new HashMap<TestInfo,JUnitResult>();
  junitResult=new JUnitResult();
  junitResult.setException(new JUnitFatalLaunchException());
  results.put(testInfo,junitResult);
  queue.reportResults("client0","desc0","ie6",results);
  queue.reportResults("client1","desc1","ff3",createTestResults(ONE_TEST_PER_BLOCK));
  assertFalse(queue.needsRerunning(testInfo));
}
