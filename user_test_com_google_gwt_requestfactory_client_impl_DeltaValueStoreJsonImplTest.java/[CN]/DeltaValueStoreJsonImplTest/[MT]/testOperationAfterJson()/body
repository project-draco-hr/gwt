{
  DeltaValueStoreJsonImpl deltaValueStore=new DeltaValueStoreJsonImpl(valueStore,requestFactory);
  deltaValueStore.set(SimpleFooProxyProperties.userName,new MyProxyImpl(jso),"newHarry");
  assertTrue(deltaValueStore.isChanged());
  deltaValueStore.toJson();
  try {
    deltaValueStore.set(SimpleFooProxyProperties.userName,new MyProxyImpl(jso),"harry");
    fail("Modifying DeltaValueStore after calling toJson should throw a RuntimeException");
  }
 catch (  RuntimeException ex) {
  }
  deltaValueStore.clearUsed();
  deltaValueStore.set(SimpleFooProxyProperties.userName,new MyProxyImpl(jso),"harry");
}
