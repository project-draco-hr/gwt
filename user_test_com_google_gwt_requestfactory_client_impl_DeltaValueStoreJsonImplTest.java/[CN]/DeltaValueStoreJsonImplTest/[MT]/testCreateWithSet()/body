{
  EntityProxy created=requestFactory.create(SimpleFooProxy.class);
  assertNotNull(created.getId());
  assertNotNull(created.getVersion());
  DeltaValueStoreJsonImpl deltaValueStore=new DeltaValueStoreJsonImpl(valueStore,requestFactory);
  assertFalse(deltaValueStore.isChanged());
  deltaValueStore.set(SimpleFooProxyProperties.userName,created,"harry");
  assertTrue(deltaValueStore.isChanged());
  JSONObject changeProxy=testAndGetChangeProxy(deltaValueStore.toJson(),WriteOperation.CREATE);
  assertEquals("harry",changeProxy.get(SimpleFooProxyProperties.userName.getName()).isString().stringValue());
}
