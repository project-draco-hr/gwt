{
  Tree t=createTree();
  TreeItem b=t.addItem(SafeHtmlUtils.fromSafeConstant("b"));
  assertEquals(1,t.getItemCount());
  assertEquals(b,t.getItem(0));
  TreeItem a=t.insertItem(0,SafeHtmlUtils.fromSafeConstant("a"));
  assertEquals(2,t.getItemCount());
  assertEquals(a,t.getItem(0));
  assertEquals(b,t.getItem(1));
  assertEquals(a.getElement().getNextSiblingElement(),b.getElement());
  TreeItem d=t.insertItem(2,new Label("d"));
  assertEquals(3,t.getItemCount());
  assertEquals(a,t.getItem(0));
  assertEquals(b,t.getItem(1));
  assertEquals(d,t.getItem(2));
  assertEquals(b.getElement().getNextSiblingElement(),d.getElement());
  TreeItem c=new TreeItem(SafeHtmlUtils.fromSafeConstant("c"));
  t.insertItem(2,c);
  assertEquals(4,t.getItemCount());
  assertEquals(a,t.getItem(0));
  assertEquals(b,t.getItem(1));
  assertEquals(c,t.getItem(2));
  assertEquals(d,t.getItem(3));
  assertEquals(b.getElement().getNextSiblingElement(),c.getElement());
}
