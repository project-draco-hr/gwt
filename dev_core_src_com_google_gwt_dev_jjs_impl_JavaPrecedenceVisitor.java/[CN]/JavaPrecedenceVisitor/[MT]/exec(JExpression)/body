{
  JavaPrecedenceVisitor visitor=new JavaPrecedenceVisitor();
  expression.traverse(visitor);
  if (visitor.answer < 0) {
    throw new InternalCompilerException("Precedence must be >= 0!");
  }
  return visitor.answer;
}
