{
  if (!type.hasClinit() || computed.contains(type)) {
    return;
  }
  if (type.getSuperClass() != null) {
    computeHasClinitTarget(type.getSuperClass(),computed);
  }
  if (type.getClinitTarget() != type) {
    type.setClinitTarget(type.getSuperClass().getClinitTarget());
  }
 else {
    JDeclaredType target=computeHasClinitTargetRecursive(type,computed,new IdentityHashSet<JDeclaredType>());
    type.setClinitTarget(target);
  }
  computed.add(type);
}
