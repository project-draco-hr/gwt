{
  if (type.isExternal() || !type.hasClinit() || computed.contains(type)) {
    return;
  }
  JClassType superClass=null;
  if (type instanceof JClassType) {
    superClass=((JClassType)type).getSuperClass();
  }
  if (superClass != null) {
    computeClinitTarget(superClass,computed);
  }
  if (type.getClinitTarget() != type) {
    type.setClinitTarget(superClass.getClinitTarget());
  }
 else {
    JDeclaredType target=computeClinitTargetRecursive(type,computed,new IdentityHashSet<JDeclaredType>());
    type.setClinitTarget(target);
  }
  computed.add(type);
}
