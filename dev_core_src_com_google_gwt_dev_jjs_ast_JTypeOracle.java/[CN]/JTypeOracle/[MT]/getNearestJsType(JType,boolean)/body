{
  if (!isInteropEnabled()) {
    return null;
  }
  if (type instanceof JNonNullType) {
    type=((JNonNullType)type).getUnderlyingType();
  }
  if (!(type instanceof JDeclaredType)) {
    return null;
  }
  JDeclaredType dtype=(JDeclaredType)type;
  if (isJsType(dtype) && (!mustHavePrototype || !Strings.isNullOrEmpty(dtype.getJsPrototype()))) {
    return dtype;
  }
  for (  JInterfaceType superIntf : dtype.getImplements()) {
    JDeclaredType jsIntf=getNearestJsType(superIntf,mustHavePrototype);
    if (jsIntf != null) {
      return jsIntf;
    }
  }
  return null;
}
