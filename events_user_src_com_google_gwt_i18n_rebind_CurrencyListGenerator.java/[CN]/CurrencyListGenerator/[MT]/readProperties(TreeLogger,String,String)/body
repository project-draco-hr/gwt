{
  LocalizedProperties props=new LocalizedProperties();
  ClassLoader classLoader=getClass().getClassLoader();
  readProperties(logger,classLoader,propFilePrefix,props);
  if (locale.equals("default")) {
    return props;
  }
  int idx=-1;
  while ((idx=locale.indexOf('_',idx + 1)) >= 0) {
    readProperties(logger,classLoader,propFilePrefix + "_" + locale.substring(0,idx),props);
  }
  if (locale.length() > 0) {
    readProperties(logger,classLoader,propFilePrefix + "_" + locale,props);
  }
  return props;
}
