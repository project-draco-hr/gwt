{
  Element wrapper=parent.getFirstChildElement();
  if (open) {
    wrapper.addClassName(STYLENAME_OPEN);
    wrapper.setId(getOpenId());
  }
 else {
    wrapper.removeClassName(STYLENAME_OPEN);
    wrapper.setId("");
  }
  String html=open ? getOpenImageHtml() : getClosedImageHtml();
  Element tmp=Document.get().createDivElement();
  tmp.setInnerHTML(html);
  Element imageElem=tmp.getFirstChildElement();
  Element oldImg=getImageElement(parent);
  wrapper.replaceChild(imageElem,oldImg);
}
