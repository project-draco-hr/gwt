{
  List<CssProperty> properties=createPropertiesWithNameAndValue(Lists.newArrayList("name"),Lists.newArrayList("this is an UNKNOWN constant"));
  when(cssRule.getProperties()).thenReturn(properties);
  UndefinedConstantVisitor undefinedConstantVisitor=new UndefinedConstantVisitor(Sets.<String>newHashSet(),true,treeLogger);
  undefinedConstantVisitor.visit(cssRule,null);
  ArgumentCaptor<Value> valueCaptor=ArgumentCaptor.forClass(Value.class);
  verify(properties.get(0)).setValue(valueCaptor.capture());
  assertEquals("this is an unknown constant",valueCaptor.getValue().toCss());
}
