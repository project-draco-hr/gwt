{
  if (appendIdentity(x)) {
    int dims=1;
    Class<?> leaf=x.getComponentType();
    while (leaf.getComponentType() != null) {
      dims++;
      leaf=leaf.getComponentType();
    }
    appendTypedData(ARRAY_TYPE,leaf.getName());
    accept(new IntValueCommand(dims));
    accept(new IntValueCommand(x.getComponentValues().size()));
    return true;
  }
 else {
    return false;
  }
}
