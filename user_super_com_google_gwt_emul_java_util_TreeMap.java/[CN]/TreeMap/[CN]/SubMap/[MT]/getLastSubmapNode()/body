{
  Node<K,V> node;
  if (type.toKeyValid()) {
    node=getNodeBefore(toKey);
  }
 else {
    node=getLastNode();
  }
  return node != null && inRange(node.getKey()) ? node : null;
}
