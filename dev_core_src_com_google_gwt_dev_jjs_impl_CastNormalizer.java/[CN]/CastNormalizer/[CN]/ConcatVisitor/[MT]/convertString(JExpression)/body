{
  JPrimitiveType charType=program.getTypePrimitiveChar();
  if (expr.getType() == charType) {
    if (expr instanceof JCharLiteral) {
      JCharLiteral charLit=(JCharLiteral)expr;
      return program.getLiteralString(expr.getSourceInfo(),new char[]{charLit.getValue()});
    }
 else {
      JMethodCall call=new JMethodCall(expr.getSourceInfo(),null,program.getIndexedMethod("Cast.charToString"));
      call.addArg(expr);
      return call;
    }
  }
 else   if (expr.getType() == program.getTypePrimitiveLong()) {
    JMethodCall call=new JMethodCall(expr.getSourceInfo(),null,program.getIndexedMethod("LongLib.toString"));
    call.addArg(expr);
    return call;
  }
  return expr;
}
