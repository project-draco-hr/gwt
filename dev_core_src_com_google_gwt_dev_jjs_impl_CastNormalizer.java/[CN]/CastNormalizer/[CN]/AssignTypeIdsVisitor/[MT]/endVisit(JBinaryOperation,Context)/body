{
  if (x.getOp().isAssignment() && x.getLhs() instanceof JArrayRef) {
    JArrayRef lhsArrayRef=(JArrayRef)x.getLhs();
    JType elementType=lhsArrayRef.getType();
    if (elementType instanceof JNullType) {
      return;
    }
    JArrayType lhsArrayType=lhsArrayRef.getArrayType();
    if (!(elementType instanceof JReferenceType)) {
      return;
    }
    if (((JReferenceType)elementType).isFinal()) {
      return;
    }
    JTypeOracle typeOracle=program.typeOracle;
    JType rhsType=x.getRhs().getType();
    assert(rhsType instanceof JReferenceType);
    for (    JArrayType arrayType : instantiatedArrayTypes) {
      if (typeOracle.canTheoreticallyCast(arrayType,lhsArrayType)) {
        JType itElementType=arrayType.getElementType();
        if (itElementType instanceof JReferenceType) {
          recordCast(itElementType,x.getRhs());
        }
      }
    }
  }
}
