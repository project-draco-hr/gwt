{
  if (!valueChangeHandlerInitialized) {
    this.addKeyUpHandler(new KeyUpHandler(){
      public void onKeyUp(      KeyUpEvent event){
        valueBeforeClick=getValue();
      }
    }
);
    this.addMouseUpHandler(new MouseUpHandler(){
      public void onMouseUp(      MouseUpEvent event){
        valueBeforeClick=getValue();
      }
    }
);
    this.addClickHandler(new ClickHandler(){
      public void onClick(      ClickEvent event){
        ValueChangeEvent.fireIfNotEqual(CheckBox.this,valueBeforeClick,getValue());
      }
    }
);
    valueChangeHandlerInitialized=true;
  }
  return addHandler(handler,ValueChangeEvent.getType());
}
