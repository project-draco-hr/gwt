{
  OutputStream os=genCtx.tryCreateResource(mockLogger,name);
  assertNotNull(os);
  byte[] arrayWritten=new byte[]{0,1,2,3,4,5,6,7,8,9};
  os.write(arrayWritten);
  GeneratedResource res=genCtx.commitResource(mockLogger,os);
  assertEquals(name,res.getPartialPath());
  assertTrue(artifactSet.contains(res));
  byte[] arrayRead=Util.readStreamAsBytes(res.getContents(mockLogger));
  assertTrue(Arrays.equals(arrayWritten,arrayRead));
}
