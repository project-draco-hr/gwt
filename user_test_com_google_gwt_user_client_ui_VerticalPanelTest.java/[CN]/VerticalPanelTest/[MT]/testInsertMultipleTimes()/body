{
  VerticalPanel p=new VerticalPanel();
  TextBox tb=new TextBox();
  p.add(tb);
  p.add(tb);
  p.add(tb);
  assertEquals(1,p.getWidgetCount());
  assertEquals(0,p.getWidgetIndex(tb));
  Iterator<Widget> i=p.iterator();
  assertTrue(i.hasNext());
  assertTrue(tb.equals(i.next()));
  assertFalse(i.hasNext());
  Label l=new Label();
  p.add(l);
  p.add(l);
  p.add(l);
  assertEquals(2,p.getWidgetCount());
  assertEquals(0,p.getWidgetIndex(tb));
  assertEquals(1,p.getWidgetIndex(l));
  p.insert(l,0);
  assertEquals(2,p.getWidgetCount());
  assertEquals(0,p.getWidgetIndex(l));
  assertEquals(1,p.getWidgetIndex(tb));
  p.insert(l,1);
  assertEquals(2,p.getWidgetCount());
  assertEquals(0,p.getWidgetIndex(l));
  assertEquals(1,p.getWidgetIndex(tb));
  p.insert(l,2);
  assertEquals(2,p.getWidgetCount());
  assertEquals(0,p.getWidgetIndex(tb));
  assertEquals(1,p.getWidgetIndex(l));
}
