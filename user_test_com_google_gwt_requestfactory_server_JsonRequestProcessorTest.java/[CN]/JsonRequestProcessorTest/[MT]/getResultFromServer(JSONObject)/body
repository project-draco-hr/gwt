{
  JSONObject recordWithSchema=new JSONObject();
  recordWithSchema.put(SimpleFooRecord.class.getName(),foo);
  JSONArray arr=new JSONArray();
  arr.put(recordWithSchema);
  JSONObject operation=new JSONObject();
  operation.put(WriteOperation.UPDATE.toString(),arr);
  JSONObject sync=new JSONObject();
  sync.put(RequestData.OPERATION_TOKEN,"com.google.gwt.requestfactory.shared.SimpleFooRequest::persist");
  sync.put(RequestData.CONTENT_TOKEN,operation.toString());
  sync.put(RequestData.PARAM_TOKEN + "0",foo.getInt("id") + "-NO" + "-"+ SimpleFooRecord.class.getName());
  return (JSONObject)requestProcessor.processJsonRequest(sync.toString());
}
