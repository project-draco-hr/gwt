{
  JSONObject proxyWithSchema=new JSONObject();
  proxyWithSchema.put(SimpleFooProxy.class.getName(),foo);
  JSONArray arr=new JSONArray();
  arr.put(proxyWithSchema);
  JSONObject operation=new JSONObject();
  operation.put(WriteOperation.UPDATE.toString(),arr);
  JSONObject sync=new JSONObject();
  sync.put(Constants.OPERATION_TOKEN,"com.google.gwt.requestfactory.shared.SimpleFooRequest::persist");
  sync.put(Constants.CONTENT_TOKEN,operation.toString());
  sync.put(Constants.PARAM_TOKEN + "0",foo.getString("id") + "@NO" + "@"+ SimpleFooProxy.class.getName());
  return requestProcessor.processJsonRequest(sync.toString());
}
