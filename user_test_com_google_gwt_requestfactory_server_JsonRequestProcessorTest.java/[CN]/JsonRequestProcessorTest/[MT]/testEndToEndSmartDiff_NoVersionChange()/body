{
  com.google.gwt.requestfactory.server.SimpleFoo.reset();
  JSONObject foo=fetchVerifyAndGetInitialObject();
  SimpleFoo fooResult=SimpleFoo.findSimpleFooById(999L);
  fooResult.setLongField(45L);
  String savedVersion=requestProcessor.encodePropertyValue(fooResult.getVersion()).toString();
  foo.put("longField",45L);
  JSONObject result=getResultFromServer(foo);
  assertFalse(result.getJSONObject("sideEffects").has("UPDATE"));
  fooResult=SimpleFoo.findSimpleFooById(999L);
  assertEquals(45L,(long)fooResult.getLongField());
  assertEquals(savedVersion,requestProcessor.encodePropertyValue(fooResult.getVersion()).toString());
}
