def RunCommand(cmd):
    'Executes a shell command and return its stdout.'
    print ' '.join(cmd)
    pipe = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
    output = pipe.communicate()
    if (pipe.returncode == 0):
        return output[0]
    else:
        print output[1]
        print ('FAILED. RET_CODE=%d' % pipe.returncode)
        sys.exit(pipe.returncode)
