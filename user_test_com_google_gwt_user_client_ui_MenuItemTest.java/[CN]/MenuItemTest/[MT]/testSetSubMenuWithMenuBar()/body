{
  MenuBar bar=new MenuBar();
  MenuBar submenu=new MenuBar();
  MenuItem item=bar.addItem("test",submenu);
  assertEquals(submenu,item.getSubMenu());
  assertEquals(-1,FocusPanel.impl.getTabIndex(submenu.getElement()));
  assertEquals("true",Accessibility.getState(item.getElement(),Accessibility.STATE_HASPOPUP));
  item.setSubMenu(null);
  assertNull(item.getSubMenu());
  assertEquals("false",Accessibility.getState(item.getElement(),Accessibility.STATE_HASPOPUP));
  item.setSubMenu(submenu);
  assertEquals(submenu,item.getSubMenu());
  assertEquals("true",Accessibility.getState(item.getElement(),Accessibility.STATE_HASPOPUP));
}
