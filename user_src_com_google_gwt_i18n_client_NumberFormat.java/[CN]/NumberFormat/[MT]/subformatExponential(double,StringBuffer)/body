{
  if (number == 0.0) {
    subformatFixed(number,result,minimumIntegerDigits);
    addExponentPart(0,result);
    return;
  }
  int exponent=(int)Math.floor(Math.log(number) / Math.log(10));
  number/=Math.pow(10,exponent);
  int minIntDigits=minimumIntegerDigits;
  if (maximumIntegerDigits > 1 && maximumIntegerDigits > minimumIntegerDigits) {
    while ((exponent % maximumIntegerDigits) != 0) {
      number*=10;
      exponent--;
    }
    minIntDigits=1;
  }
 else {
    if (minimumIntegerDigits < 1) {
      exponent++;
      number/=10;
    }
 else {
      for (int i=1; i < minimumIntegerDigits; i++) {
        exponent--;
        number*=10;
      }
    }
  }
  subformatFixed(number,result,minIntDigits);
  addExponentPart(exponent,result);
}
