{
  int requiredDigits=decimalPosition + minimumFractionDigits;
  if (digitsLength < requiredDigits) {
    while (digitsLength < requiredDigits) {
      digits.append('0');
      ++digitsLength;
    }
  }
 else {
    int toRemove=decimalPosition + maximumFractionDigits;
    if (toRemove > digitsLength) {
      toRemove=digitsLength;
    }
    while (toRemove > requiredDigits && digits.charAt(toRemove - 1) == '0') {
      --toRemove;
    }
    if (toRemove < digitsLength) {
      digits.delete(toRemove,digitsLength);
      digitsLength=toRemove;
    }
  }
}
