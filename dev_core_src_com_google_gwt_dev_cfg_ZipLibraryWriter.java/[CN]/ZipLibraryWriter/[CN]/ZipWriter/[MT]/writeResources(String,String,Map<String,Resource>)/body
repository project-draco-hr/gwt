{
  for (  Resource resource : resourcesByPath.values()) {
    startEntry(directory + resource.getPath());
    try {
      ByteStreams.copy(resource.openContents(),zipOutputStream);
    }
 catch (    IOException e) {
      throw new CompilerIoException("Failed to copy " + typeName + " resource "+ resource.getPath()+ " into new library file "+ zipFile.getPath()+ ".",e);
    }
  }
}
