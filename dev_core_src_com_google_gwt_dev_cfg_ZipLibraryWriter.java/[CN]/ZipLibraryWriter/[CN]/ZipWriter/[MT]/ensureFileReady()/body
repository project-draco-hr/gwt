{
  if (fileReady) {
    return;
  }
  fileReady=true;
  ensureParentDirectoryExists();
  createFileIfMissing();
  try {
    zipOutputStream=new ZipOutputStream(new BufferedOutputStream(new FileOutputStream(zipFile)));
    zipOutputStream.setLevel(Deflater.BEST_SPEED);
  }
 catch (  FileNotFoundException e) {
    throw new CompilerIoException("Failed to open new library file " + zipFile.getPath() + " as a stream.",e);
  }
}
