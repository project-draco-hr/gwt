{
  ArrayDeque<Integer> deque=new ArrayDeque<>();
  assertTrue(deque.add(1));
  assertEquals(1,(int)deque.removeFirst());
  for (int i=0; i < 100; i++) {
    assertTrue(deque.add(i));
  }
  assertNotNull(deque.peek());
  assertFalse(deque.isEmpty());
  Iterator<Integer> it=deque.iterator();
  for (int i=0; i < 100; i++) {
    assertTrue(it.hasNext());
    assertEquals(i,(int)it.next());
    it.remove();
  }
  assertFalse(it.hasNext());
  assertNull(deque.peek());
  assertTrue(deque.isEmpty());
}
