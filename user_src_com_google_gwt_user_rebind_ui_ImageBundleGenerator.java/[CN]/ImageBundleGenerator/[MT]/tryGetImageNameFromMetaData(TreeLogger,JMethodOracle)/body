{
  String imgFileName=null;
  String imgNameAnn=tryGetImageNameFromAnnotation(method);
  String imgNameJavaDoc=tryGetImageNameFromJavaDoc(method);
  if (imgNameJavaDoc != null) {
    if (imgNameAnn == null) {
      imgFileName=imgNameJavaDoc;
      logger.log(TreeLogger.WARN,MSG_JAVADOC_FORM_DEPRECATED,null);
    }
 else {
      logger.log(TreeLogger.WARN,MSG_MULTIPLE_ANNOTATIONS,null);
      imgFileName=imgNameAnn;
    }
  }
 else   if (imgNameAnn != null) {
    imgFileName=imgNameAnn;
  }
  assert(imgFileName == null || (imgNameAnn != null || imgNameJavaDoc != null));
  if (imgFileName == null) {
    return null;
  }
  if (imgFileName.indexOf("/") == -1) {
    String pkgName=method.getPackageName();
    if (!"".equals(pkgName)) {
      imgFileName=pkgName.replace('.','/') + "/" + imgFileName;
    }
  }
  if (!resLocator.isResourcePresent(imgFileName)) {
    logger.log(TreeLogger.ERROR,msgCannotFindImageFromMetaData(imgFileName),null);
    throw new UnableToCompleteException();
  }
  return imgFileName;
}
