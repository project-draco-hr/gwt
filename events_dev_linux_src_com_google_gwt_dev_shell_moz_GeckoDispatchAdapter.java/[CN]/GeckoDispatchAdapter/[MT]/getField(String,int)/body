{
  JsValueMoz jsValue=new JsValueMoz(jsRootedValue);
  int dispId=classLoader.getDispId(name);
  if (dispId < 0) {
    jsValue.setUndefined();
    return;
  }
  if (javaDispatch.isField(dispId)) {
    Field field=javaDispatch.getField(dispId);
    JsValueGlue.set(jsValue,classLoader,field.getType(),javaDispatch.getFieldValue(dispId));
    return;
  }
 else {
    MethodAdaptor method=javaDispatch.getMethod(dispId);
    AccessibleObject obj=method.getUnderlyingObject();
    DispatchMethod dispMethod=(DispatchMethod)classLoader.getWrapperForObject(obj);
    if (dispMethod == null) {
      dispMethod=new MethodDispatch(classLoader,method);
      classLoader.putWrapperForObject(obj,dispMethod);
    }
    jsValue.setWrappedFunction(method.toString(),dispMethod);
  }
}
