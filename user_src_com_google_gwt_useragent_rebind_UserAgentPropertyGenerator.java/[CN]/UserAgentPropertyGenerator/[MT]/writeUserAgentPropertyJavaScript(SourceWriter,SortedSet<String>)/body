{
  body.println("var ua = navigator.userAgent.toLowerCase();");
  body.println("var makeVersion = function(result) {");
  body.indent();
  body.println("return (parseInt(result[1]) * 1000) + parseInt(result[2]);");
  body.outdent();
  body.println("};");
  for (int i=0; i < predicates.length; i++) {
    if (possibleValues.contains(predicates[i].getUserAgent())) {
      body.println("if ((function() { ");
      body.indent();
      body.print(predicates[i].toString());
      body.outdent();
      body.println("})()) return " + predicates[i].getReturnValue() + ";");
    }
  }
  body.println("return 'unknown';");
}
