{
  StringBuffer code=new StringBuffer();
  code.append("class Buggy {\n");
  code.append("volatile long x = -1;\n");
  code.append("native void jsniMeth() /*-{\n");
  code.append("  $wnd.alert(\"x is: \"+this.@Buggy::x); }-*/;\n");
  code.append("}\n");
  shouldGenerateError(code,4,"Referencing field 'Buggy.x': type 'long' is not safe to access in JSNI code");
}
