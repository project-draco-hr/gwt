{
  StringBuffer code=new StringBuffer();
  code.append("public class Buggy {\n");
  code.append("  static class Inner {\n");
  code.append("    long x = 3;\n");
  code.append("  }\n");
  code.append("  native void jsniMeth() /*-{\n");
  code.append("    $wnd.alert(@Buggy$Inner::x);\n");
  code.append("  }-*/;\n");
  code.append("}\n");
  shouldGenerateError(code,5,"Referencing field 'Buggy$Inner.x': " + "type 'long' is not safe to access in JSNI code");
}
