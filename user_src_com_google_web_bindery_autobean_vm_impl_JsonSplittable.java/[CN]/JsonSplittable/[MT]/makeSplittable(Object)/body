{
  if (JSONObject.NULL.equals(object)) {
    return null;
  }
  JsonSplittable seen=(JsonSplittable)WeakMapping.get(object,JsonSplittable.class.getName());
  if (seen == null) {
    if (object instanceof JSONObject) {
      seen=new JsonSplittable((JSONObject)object);
      WeakMapping.setWeak(object,JsonSplittable.class.getName(),seen);
    }
 else     if (object instanceof JSONArray) {
      seen=new JsonSplittable((JSONArray)object);
      WeakMapping.setWeak(object,JsonSplittable.class.getName(),seen);
    }
 else     if (object instanceof String) {
      seen=new JsonSplittable(object.toString());
    }
 else     if (object instanceof Number) {
      seen=new JsonSplittable(((Number)object).doubleValue());
    }
 else     if (object instanceof Boolean) {
      seen=new JsonSplittable((Boolean)object);
    }
 else {
      throw new RuntimeException("Unhandled type " + object.getClass());
    }
  }
  return seen;
}
