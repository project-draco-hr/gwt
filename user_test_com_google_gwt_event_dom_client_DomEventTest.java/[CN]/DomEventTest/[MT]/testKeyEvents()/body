{
  final Flag flag=new Flag();
  manager=new HandlerManager(flag);
  HandlerRegistration downRegistration=manager.addHandler(KeyDownEvent.getType(),new KeyDownHandler(){
    @Override public void onKeyDown(    KeyDownEvent event){
      flag.flag=true;
    }
  }
);
  HandlerRegistration upRegistration=manager.addHandler(KeyUpEvent.getType(),new KeyUpHandler(){
    @Override public void onKeyUp(    KeyUpEvent event){
      flag.flag=true;
    }
  }
);
  HandlerRegistration pressRegistration=manager.addHandler(KeyPressEvent.getType(),new KeyPressHandler(){
    @Override public void onKeyPress(    KeyPressEvent event){
      flag.flag=true;
    }
  }
);
  checkFire(new KeyDownEvent(),downRegistration,flag,"onKeyDown");
  checkFire(new KeyUpEvent(),upRegistration,flag,"onKeyUp");
  checkFire(new KeyPressEvent(),pressRegistration,flag,"onKeyPressed");
}
