{
  validator.initialize(constraintDescriptor.getAnnotation());
  ConstraintValidatorContextImpl<A,V> constraintValidatorContext=context.createConstraintValidatorContext(constraintDescriptor);
  GroupInheritanceMap groupInheritanceMap=context.getValidator().getGroupInheritanceMap();
  Set<Class<?>> extendedGroups=groupInheritanceMap.findAllExtendedGroups(Arrays.asList(groups));
  Set<Class<?>> constraintGroups=constraintDescriptor.getGroups();
  if (!containsAny(extendedGroups,constraintGroups) && !Arrays.asList(groups).contains(getConstraints(groupInheritanceMap).getElementClass())) {
    return false;
  }
  if (!validator.isValid(value,constraintValidatorContext)) {
    addViolations(context,violations,object,value,constraintDescriptor,constraintValidatorContext);
    return true;
  }
  return false;
}
