{
  if (isCompilationUnitOnDisk(location)) {
    return;
  }
  TreeLogger branch=logger.branch(TreeLogger.ERROR,"Compilation problem due to '" + location + "'",null);
  if (!branch.isLoggable(TreeLogger.INFO)) {
    return;
  }
  File tmpSrc;
  Throwable caught=null;
  try {
    tmpSrc=File.createTempFile(typeName,".java");
    writeCharsAsFile(logger,tmpSrc,source);
    String dumpPath=tmpSrc.getAbsolutePath();
    branch.log(TreeLogger.INFO,"See snapshot: " + dumpPath,null);
    return;
  }
 catch (  IOException e) {
    caught=e;
  }
catch (  UnableToCompleteException e) {
    caught=e;
  }
  branch.log(TreeLogger.INFO,"Unable to dump source to disk",caught);
}
