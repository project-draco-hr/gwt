{
  String newLocation=location;
  if ((location.startsWith("zip:file:")) || (location.startsWith("jar:file:"))) {
    int lastIndexOfExclam=newLocation.lastIndexOf('!');
    if (lastIndexOfExclam != -1) {
      newLocation=newLocation.substring(0,lastIndexOfExclam);
    }
    newLocation=newLocation.substring(9);
    if (!new File(newLocation).exists()) {
      try {
        newLocation=URLDecoder.decode(newLocation,DEFAULT_ENCODING);
      }
 catch (      UnsupportedEncodingException e) {
        return location;
      }
    }
  }
  return newLocation;
}
