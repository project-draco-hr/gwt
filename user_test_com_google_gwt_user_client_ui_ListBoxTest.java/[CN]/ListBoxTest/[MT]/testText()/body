{
  ListBox box=new ListBox();
  box.addItem("a");
  box.addItem("b","B");
  assertEquals(2,box.getItemCount());
  box.addItem("c","C");
  assertEquals("B",box.getValue(1));
  assertEquals("a",box.getItemText(0));
  assertEquals("b",box.getItemText(1));
  assertEquals("c",box.getItemText(2));
  box.setItemText(1,"bb");
  assertEquals("bb",box.getItemText(1));
  box.setItemText(1,"bc");
  assertEquals("bc",box.getItemText(1));
  box.setItemText(0,"");
  assertEquals("",box.getItemText(0));
{
    ListBox lb=new ListBox();
    lb.insertItem(RTL_TEXT,Direction.RTL,0);
    assertEquals(RTL_TEXT,lb.getItemText(0));
    assertOptionText(BidiFormatter.getInstanceForCurrentLocale().unicodeWrap(RTL_TEXT,false,false),lb,0);
    lb.insertItem(LTR_TEXT,Direction.LTR,0);
    assertEquals(LTR_TEXT,lb.getItemText(0));
    assertOptionText(BidiFormatter.getInstanceForCurrentLocale().unicodeWrap(LTR_TEXT,false,false),lb,0);
    lb.setDirectionEstimator(true);
    lb.setItemText(0,RTL_TEXT);
    assertEquals(RTL_TEXT,lb.getItemText(0));
    assertOptionText(BidiFormatter.getInstanceForCurrentLocale().unicodeWrap(RTL_TEXT,false,false),lb,0);
    lb.setItemText(0,LTR_TEXT);
    assertEquals(LTR_TEXT,lb.getItemText(0));
    assertOptionText(BidiFormatter.getInstanceForCurrentLocale().unicodeWrap(LTR_TEXT,false,false),lb,0);
    lb.setItemText(0,LTR_TEXT,Direction.RTL);
    assertEquals(LTR_TEXT,lb.getItemText(0));
    assertOptionText(BidiFormatter.getInstanceForCurrentLocale().unicodeWrapWithKnownDir(Direction.RTL,LTR_TEXT,false,false),lb,0);
    lb.setItemText(0,RTL_TEXT,Direction.LTR);
    assertEquals(RTL_TEXT,lb.getItemText(0));
    assertOptionText(BidiFormatter.getInstanceForCurrentLocale().unicodeWrapWithKnownDir(Direction.LTR,RTL_TEXT,false,false),lb,0);
  }
  try {
    box.setItemText(0,null);
    fail("Should have thrown Null Pointer");
  }
 catch (  NullPointerException e) {
  }
}
