{
{
    ListBox lb=new ListBox();
    lb.addItem("a");
    lb.addItem("c");
    lb.insertItem("b",1);
    assertEquals("a",lb.getItemText(0));
    assertEquals("b",lb.getItemText(1));
    assertEquals("c",lb.getItemText(2));
  }
{
    ListBox lb=new ListBox();
    lb.addItem("b");
    lb.addItem("c");
    lb.insertItem("a",0);
    assertEquals("a",lb.getItemText(0));
    assertEquals("b",lb.getItemText(1));
    assertEquals("c",lb.getItemText(2));
  }
{
    ListBox lb=new ListBox();
    lb.addItem("a");
    lb.addItem("b");
    lb.insertItem("c",-1);
    assertEquals("a",lb.getItemText(0));
    assertEquals("b",lb.getItemText(1));
    assertEquals("c",lb.getItemText(2));
  }
{
    ListBox lb=new ListBox();
    lb.addItem("a");
    lb.addItem("b");
    lb.insertItem("c",2);
    assertEquals("a",lb.getItemText(0));
    assertEquals("b",lb.getItemText(1));
    assertEquals("c",lb.getItemText(2));
  }
{
    ListBox lb=new ListBox();
    lb.insertItem(RTL_TEXT,Direction.RTL,0);
    assertEquals(RTL_TEXT,lb.getItemText(0));
    assertOptionText(BidiFormatter.getInstanceForCurrentLocale().unicodeWrap(RTL_TEXT,false,false),lb,0);
    lb.insertItem(LTR_TEXT,Direction.LTR,0);
    assertEquals(LTR_TEXT,lb.getItemText(0));
    assertOptionText(BidiFormatter.getInstanceForCurrentLocale().unicodeWrap(LTR_TEXT,false,false),lb,0);
    lb.clear();
    lb.setDirectionEstimator(true);
    lb.addItem(RTL_TEXT);
    assertEquals(RTL_TEXT,lb.getItemText(0));
    assertOptionText(BidiFormatter.getInstanceForCurrentLocale().unicodeWrap(RTL_TEXT,false,false),lb,0);
    lb.addItem(LTR_TEXT);
    assertEquals(LTR_TEXT,lb.getItemText(1));
    assertOptionText(BidiFormatter.getInstanceForCurrentLocale().unicodeWrap(LTR_TEXT,false,false),lb,1);
    lb.insertItem(RTL_TEXT,Direction.LTR,0);
    assertEquals(RTL_TEXT,lb.getItemText(0));
    assertOptionText(BidiFormatter.getInstanceForCurrentLocale().unicodeWrapWithKnownDir(Direction.LTR,RTL_TEXT,false,false),lb,0);
    lb.insertItem(LTR_TEXT,Direction.RTL,1);
    assertEquals(LTR_TEXT,lb.getItemText(1));
    assertOptionText(BidiFormatter.getInstanceForCurrentLocale().unicodeWrapWithKnownDir(Direction.RTL,LTR_TEXT,false,false),lb,1);
  }
}
