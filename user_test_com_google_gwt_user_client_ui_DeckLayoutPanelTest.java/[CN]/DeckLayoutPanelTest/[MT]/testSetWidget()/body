{
  DeckLayoutPanel deck=createPanel();
  Label[] labels=new Label[2];
  for (int i=0; i < labels.length; i++) {
    labels[i]=new Label("content" + i);
  }
  deck.setWidget(labels[0]);
  assertEquals(deck,labels[0].getParent());
  assertEquals(0,deck.getVisibleWidgetIndex());
  assertEquals(labels[0],deck.getVisibleWidget());
  deck.setWidget(labels[1]);
  assertEquals(deck,labels[0].getParent());
  assertEquals(deck,labels[1].getParent());
  assertEquals(0,deck.getWidgetIndex(labels[0]));
  assertEquals(1,deck.getWidgetIndex(labels[1]));
  assertEquals(1,deck.getVisibleWidgetIndex());
  assertEquals(labels[1],deck.getVisibleWidget());
  deck.setWidget(labels[0]);
  assertEquals(deck,labels[0].getParent());
  assertEquals(deck,labels[1].getParent());
  assertEquals(0,deck.getWidgetIndex(labels[0]));
  assertEquals(1,deck.getWidgetIndex(labels[1]));
  assertEquals(0,deck.getVisibleWidgetIndex());
  assertEquals(labels[0],deck.getVisibleWidget());
  deck.setWidget(null);
  assertEquals(deck,labels[0].getParent());
  assertEquals(deck,labels[1].getParent());
  assertEquals(0,deck.getWidgetIndex(labels[0]));
  assertEquals(1,deck.getWidgetIndex(labels[1]));
  assertEquals(-1,deck.getVisibleWidgetIndex());
  assertEquals(null,deck.getVisibleWidget());
}
