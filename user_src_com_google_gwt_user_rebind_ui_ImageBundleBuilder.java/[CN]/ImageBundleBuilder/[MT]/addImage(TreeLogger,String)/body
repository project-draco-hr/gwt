{
  logger=logger.branch(TreeLogger.TRACE,"Adding image '" + imageName + "'",null);
  BufferedImage image=null;
  try {
    URL imageUrl=getClass().getClassLoader().getResource(imageName);
    if (imageUrl == null) {
      logger.log(TreeLogger.ERROR,"Resource not found on classpath (is the name specified as Class.getResource() would expect?)",null);
      throw new UnableToCompleteException();
    }
    byte[] imgBytes=Util.readURLAsBytes(imageUrl);
    md5.update(imgBytes);
    image=ImageIO.read(new ByteArrayInputStream(imgBytes));
    if (image == null) {
      logger.log(TreeLogger.ERROR,"Unrecognized image file format",null);
      throw new UnableToCompleteException();
    }
  }
 catch (  IOException e) {
    logger.log(TreeLogger.ERROR,"Unable to read image resource",null);
    throw new UnableToCompleteException();
  }
  ImageRect imageRect=new ImageRect(image);
  orderedImageRects.add(imageRect);
  return imageRect;
}
