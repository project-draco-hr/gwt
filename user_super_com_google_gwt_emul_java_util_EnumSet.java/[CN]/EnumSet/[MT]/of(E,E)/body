{
  E[] all=first.getDeclaringClass().getEnumConstants();
  E[] set=Array.createFrom(all);
  set[first.ordinal()]=first;
  int size=1;
  for (  E e : rest) {
    int ordinal=e.ordinal();
    if (set[ordinal] == null) {
      set[ordinal]=e;
      ++size;
    }
  }
  return new EnumSetImpl<E>(all,set,size);
}
