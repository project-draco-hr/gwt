{
  List<InvocationMessage> invocations=req.getInvocations();
  if (invocations == null) {
    return;
  }
  for (  InvocationMessage invocation : invocations) {
    try {
      String operation=invocation.getOperation();
      Method contextMethod=service.resolveRequestContextMethod(operation);
      if (contextMethod == null) {
        throw new UnexpectedException("Cannot resolve operation " + invocation.getOperation(),null);
      }
      Method domainMethod=service.resolveDomainMethod(operation);
      if (domainMethod == null) {
        throw new UnexpectedException("Cannot resolve domain method " + invocation.getOperation(),null);
      }
      List<Object> args=decodeInvocationArguments(state,invocation,contextMethod);
      if (service.requiresServiceLocator(contextMethod,domainMethod)) {
        Class<? extends RequestContext> requestContext=service.resolveRequestContext(operation);
        Object serviceInstance=service.createServiceInstance(requestContext);
        args.add(0,serviceInstance);
      }
      Object returnValue=service.invoke(domainMethod,args.toArray());
      Type requestReturnType=service.getRequestReturnType(contextMethod);
      returnValue=state.getResolver().resolveClientValue(returnValue,requestReturnType,invocation.getPropertyRefs());
      results.add(EntityCodex.encode(returnState,returnValue));
      success.add(true);
    }
 catch (    ReportableException e) {
      results.add(AutoBeanCodex.encode(createFailureMessage(e)));
      success.add(false);
    }
  }
}
