{
  String[] parts=historyToken.split(TOKEN_SEPARATOR);
  if (parts.length == 2) {
    return getTypeFromToken(parts[TYPE_TOKEN_INDEX]);
  }
  parts=historyToken.split(EPHEMERAL_SEPARATOR);
  if (parts.length == 2) {
    return getTypeFromToken(parts[TYPE_TOKEN_INDEX]);
  }
  return getTypeFromToken(historyToken);
}
