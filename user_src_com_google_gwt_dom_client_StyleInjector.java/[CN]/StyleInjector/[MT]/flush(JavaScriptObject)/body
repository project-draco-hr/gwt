{
  StyleElement toReturn=null;
  StyleElement maybeReturn;
  if (toInjectAtStart.length() != 0) {
    String css=toInjectAtStart.join("");
    maybeReturn=StyleInjectorImpl.IMPL.injectStyleSheetAtStart(css);
    if (toInjectAtStart == which) {
      toReturn=maybeReturn;
    }
    toInjectAtStart.setLength(0);
  }
  if (toInject.length() != 0) {
    String css=toInject.join("");
    maybeReturn=StyleInjectorImpl.IMPL.injectStyleSheet(css);
    if (toInject == which) {
      toReturn=maybeReturn;
    }
    toInject.setLength(0);
  }
  if (toInjectAtEnd.length() != 0) {
    String css=toInjectAtEnd.join("");
    maybeReturn=StyleInjectorImpl.IMPL.injectStyleSheetAtEnd(css);
    if (toInjectAtEnd == which) {
      toReturn=maybeReturn;
    }
    toInjectAtEnd.setLength(0);
  }
  needsInjection=false;
  return toReturn;
}
