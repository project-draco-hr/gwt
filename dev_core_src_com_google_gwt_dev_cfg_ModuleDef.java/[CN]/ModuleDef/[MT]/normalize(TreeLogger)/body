{
  for (Iterator<Property> iter=getProperties().iterator(); iter.hasNext(); ) {
    Property prop=iter.next();
    if (prop.getActiveValue() == null) {
      String[] knownValues=prop.getKnownValues();
      assert(knownValues.length > 0);
      if (knownValues.length > 1) {
        if (prop.getProvider() == null) {
          prop.setProvider(new DefaultPropertyProvider(this,prop));
        }
      }
 else {
        prop.setActiveValue(knownValues[0]);
      }
    }
  }
  TreeLogger branch=Messages.SOURCE_PATH_LOCATIONS.branch(logger,null);
  lazySourceOracle=sourcePathEntries.create(branch);
  if (lazySourceOracle.isEmpty()) {
    branch.log(TreeLogger.WARN,"No source path entries; expect subsequent failures",null);
  }
 else {
    String[] allFiles=lazySourceOracle.getAllFiles();
    Set<String> files=new HashSet<String>();
    files.addAll(Arrays.asList(allFiles));
    files.removeAll(alreadySeenFiles);
    for (Iterator<String> iter=files.iterator(); iter.hasNext(); ) {
      String fileName=iter.next();
      int pos=fileName.lastIndexOf('/');
      String packageName;
      if (pos >= 0) {
        packageName=fileName.substring(0,pos);
        packageName=packageName.replace('/','.');
      }
 else {
        packageName="";
      }
      URL url=lazySourceOracle.find(fileName);
      allCups.add(new URLCompilationUnitProvider(url,packageName));
    }
    alreadySeenFiles.addAll(files);
    this.cups=allCups.toArray(this.cups);
  }
  branch=Messages.PUBLIC_PATH_LOCATIONS.branch(logger,null);
  lazyPublicOracle=publicPathEntries.create(branch);
}
