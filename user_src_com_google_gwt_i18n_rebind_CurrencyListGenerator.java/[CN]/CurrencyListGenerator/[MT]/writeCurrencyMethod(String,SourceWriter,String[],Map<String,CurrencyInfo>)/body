{
  boolean needHeader=true;
  for (  String currencyCode : currencies) {
    CurrencyInfo currencyInfo=allCurrencyData.get(currencyCode);
    if (needHeader) {
      needHeader=false;
      writer.println();
      writer.println("private void loadSuperCurrencyMap() {");
      writer.println("  super.loadCurrencyMap();");
      writer.println("}");
      writer.println();
      writer.println("@Override");
      writer.println("protected native void loadCurrencyMap() /*-{");
      writer.indent();
      writer.println("this.@com.google.gwt.i18n.client." + className + "::loadSuperCurrencyMap()();");
      writer.println("this.@com.google.gwt.i18n.client." + className + "::overrideCurrencyMap(Lcom/google/gwt/core/client/"+ "JavaScriptObject;)({");
      writer.indent();
    }
    writer.println("// " + currencyInfo.getDisplayName());
    writer.println("\"" + quote(currencyCode) + "\": "+ currencyInfo.getJson()+ ",");
  }
  if (!needHeader) {
    writer.outdent();
    writer.println("});");
    writer.outdent();
    writer.println("}-*/;");
  }
}
