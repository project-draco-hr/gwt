{
  JClassType jsoType=program.getJavaScriptObject();
  SourceInfo sourceInfo=jsoType.getSourceInfo();
  String name=objectMethod.getName() + "__devirtual$";
  JMethod newMethod=program.createMethod(sourceInfo.makeChild(JsoDevirtualizer.class,"Devirtualized method"),name.toCharArray(),jsoType,objectMethod.getType(),false,true,true,false,false);
  JParameter thisParam=program.createParameter(sourceInfo,"this$static".toCharArray(),program.getTypeJavaLangObject(),true,true,newMethod);
  for (  JParameter oldParam : objectMethod.params) {
    program.createParameter(sourceInfo,oldParam.getName().toCharArray(),oldParam.getType(),true,false,newMethod);
  }
  newMethod.freezeParamTypes();
  JMethodCall condition=new JMethodCall(program,sourceInfo,null,isJavaObjectMethod);
  condition.getArgs().add(new JParameterRef(program,sourceInfo,thisParam));
  JMethodCall thenValue=new JMethodCall(program,sourceInfo,new JParameterRef(program,sourceInfo,thisParam),objectMethod);
  for (  JParameter param : newMethod.params) {
    if (param != thisParam) {
      thenValue.getArgs().add(new JParameterRef(program,sourceInfo,param));
    }
  }
  JMethodCall elseValue=new JMethodCall(program,sourceInfo,null,jsoImpl);
  for (  JParameter param : newMethod.params) {
    elseValue.getArgs().add(new JParameterRef(program,sourceInfo,param));
  }
  JConditional conditional=new JConditional(program,sourceInfo,objectMethod.getType(),condition,thenValue,elseValue);
  JReturnStatement returnStatement=new JReturnStatement(program,sourceInfo,conditional);
  ((JMethodBody)newMethod.getBody()).getStatements().add(returnStatement);
  return newMethod;
}
