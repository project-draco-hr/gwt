{
  checkFragmentNumberingAssumptions(fragments);
  fragmentCount=fragments.size();
  this.runAsyncIdToFragment=new int[runAsyncCount + 1];
  int lastInitialFragmentIdSoFar=-1;
  for (  Fragment fragment : fragments) {
    if (fragment.getType() == Fragment.Type.INITIAL) {
      Preconditions.checkState(lastInitialFragmentIdSoFar < fragment.getFragmentId());
      lastInitialFragmentIdSoFar=fragment.getFragmentId();
    }
    for (    JRunAsync runAsync : fragment.getRunAsyncs()) {
      runAsyncIdToFragment[runAsync.getRunAsyncId()]=fragment.getFragmentId();
    }
  }
  this.lastInitialFragmentId=lastInitialFragmentIdSoFar;
}
